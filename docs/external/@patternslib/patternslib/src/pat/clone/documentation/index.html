<h2>Description</h2>
<p>The clone pattern lets the website user clone elements in the page.</p>
<h2>Documentation</h2>
<p>The clone pattern is typically used in case you want to create a form on which it is unknown how many instances the user will need of a certain field or group of fields.
For instance if you want to ask the user to fill out the name and birthdate of each family member.</p>
<h3>Usage</h3>
<p>This pattern is enabled by adding the <code>pat-clone</code> class on a container element which contains the original element and any clones of it that may have beeen added.
The first element inside the .pat-clone container is by default assumed to be the original element may be cloned by the user.</p>
<p>Consider the following markup:</p>
<p></p><h3>List of family members</h3><p></p>
<p></p><div class="pat-clone">
<!-- The first element inside the .pat-clone container is by default
           assumed to be the original element which will be cloned.
        -->
<fieldset class="clone"> <!-- By default, pat-clone will consider elements with the "clone" class to be clones. -->
<legend>Family member 1</legend>
<input name="name-1" type="text" placeholder="Name">
<input name="date-1" type="date" placeholder="birthdate"><br>
<button type="button" class="remove-clone">Remove</button>
</fieldset>
<!-- Now comes the clone trigger, a button which when clicked will cause
           a new clone of the above fieldset to be created.
        -->
<button type="button" class="add-clone">Add an extra family member</button>
</div><p></p>
<p>Each time the user clicks on the button saying 'Add an extra family member', the
pattern will make a copy of the first element inside the
<code>.pat-clone</code> element, unless the <code>template</code> property is used to configure a
different clone template. The <code>template</code> property takes a CSS selector as
value.</p>
<p>Typically when using a template element, such an element would be hidden from view.</p>
<p>The new clone is always appended at the end, inside the <code>.pat-clone</code> element.</p>
<p>When creating a <code>.pat-clone</code> element containing existing clones, it's
important that each existing clone either gets the <code>clone</code> CSS class or that you
pass in a unique CSS selector for each clone via the <code>clone-element</code>
property. This allows the pattern to properly determine how many existing
clones there are to start with.</p>
<h4>Incrementation of values in clones</h4>
<p>The pat-clone pattern will automatically add up any number in the values of name and value attributes.
For instance, if you have <code>name=&quot;item-1&quot;</code> in your markup, then the first clone will be
<code>name=&quot;item-2&quot;</code> and the one after that <code>name=&quot;item-3&quot;</code> etc.. If you want to print a number
— for instance in a header of each clone — then you can use the syntax: <code>#{1}</code>. This string
will be replaced by an number that's also increased by 1 for each clone.</p>
<h3>Example with a hidden template</h3>
<p>The markup below would have exactly the same effect as the first example, but using a hidden template. This might come in handy when the first instance shown should either contain different information, or if it will have pre-filled values by the server.</p>
<p></p><h3>List of family members</h3><p></p>
<p></p><div class="pat-clone" data-pat-clone="template: #my-template">
<!-- First visible instance and also template -->
<fieldset class="clone">
<legend>Family member 1</legend>
<input name="Mary Johnson" type="text" placeholder="Name">
<input name="1977-04-16" type="date" placeholder="birthdate"><br>
<button type="button" class="remove-clone">Remove</button>
</fieldset><p></p>
<p><!-- Template markup -->
</p><fieldset id="my-template" hidden="">
<legend>Family member #{1}</legend>
<input name="name-1" type="text" placeholder="Name">
<input name="date-1" type="date" placeholder="birthdate"><br>
<button type="button" class="remove-clone">Remove</button>
</fieldset><p></p>
<p><!-- Clone trigger -->
<button type="button" class="add-clone">Add an extra family member</button>
</p></div><p></p>
<h3>Example with a hidden template which includes a pattern</h3>
<p>Patterns in templates are initialized after cloning.
However, the patterns in the template itself are not initialized if the template has the attribute <code>hidden</code> or the class <code>cant-touch-this</code>.
This is to prevent double-initialization within the template and after being cloned.</p>
<p></p><div id="template" class="cant-touch-this" hidden="">
<input name="date-1" type="date" class="pat-date-picker">
<p></p>
<p></p><div class="pat-clone" data-pat-clone="template: #template">
<button type="button" class="add-clone">Add a date</button>
</div><p></p>
<h3>Option reference</h3>
<table>
<thead>
<tr>
<th>Property</th>
<th>Description</th>
<th>Default</th>
<th>Allowed Values</th>
<th>Type</th>
</tr>
</thead>
<tbody>
<tr>
<td>template</td>
<td>Selects the element that will be cloned each time. You might often want to refer to a piece of template markup for this that is hidden with though the CSS.</td>
<td>:first</td>
<td></td>
<td>CSS Selector</td>
</tr>
<tr>
<td>max</td>
<td>Maximum number of clones that is allowed</td>
<td></td>
<td></td>
<td>Integer</td>
</tr>
<tr>
<td>trigger-element</td>
<td>Selector of the element that will add the clone when clicked upon.</td>
<td>.add-clone</td>
<td></td>
<td>CSS Selector</td>
</tr>
<tr>
<td>remove-element</td>
<td>Selector of the element that will remove the clone when clicked upon.</td>
<td>.remove-clone</td>
<td></td>
<td>CSS Selector</td>
</tr>
<tr>
<td>remove-behaviour or remove-behavior</td>
<td>What should happen when the user clicks on the element to remove a clone? Two choices exist currently. Show a confirmation dialog, or simply remove the clone immediately.</td>
<td>&quot;confirm&quot;</td>
<td>&quot;confirm&quot;, &quot;none&quot;</td>
<td>One of the allowed string values.</td>
</tr>
<tr>
<td>clone-element</td>
<td>Selector of the individual clone element(s).</td>
<td>.clone</td>
<td></td>
<td>CSS Selector</td>
</tr>
</tbody>
</table>
</div>