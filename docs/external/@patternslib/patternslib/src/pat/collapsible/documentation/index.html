<h2>Description</h2>
<p>A <em>collapsible</em> is an element where content is can be shown or visible by clicking on a triggering element.</p>
<h2>Documentation</h2>
<p>A <em>collapsible</em> is an element inside which content can be shown or hidden
by clicking on a triggering element. One way to use this is to implement
a very minimal accordion.</p>
<p></p><section class="pat-collapsible">
<h3>About us</h3>
<p>Sed ut perspiciatis unde omnis iste natus error sit...</p>
<p>Neque porro quisquam est, qui dolorem ipsum quia...</p>
</section><p></p>
<p>In the above example clicking on the <em>About us</em> header will hide or
show the remainder of the section content. Another possible use case is
to create a simple contextual menu.</p>
<p></p><div class="pat-collapsible">
<h3><i class="icon-wrench"></i> Settings</h3>
<ul>
<li><a href="...">Edit</a></li>
<li><a href="...">Rename</a></li>
<li><a href="...">Move</a></li>
<li><a href="...">Delete</a></li>
</ul>
</div><p></p>
<p>Collapsibles default to being open. You can change this by adding a
<code>closed</code> class to the collapsible.</p>
<h3>Custom triggers</h3>
<p>The standard behaviour is to use the first element as the trigger to open or
close a collapsible. You can also use the <code>trigger</code> option to specify a
different element.</p>
<p><button id="trigger">About us</button></p>
<p></p><aside class="pat-collapsible" data-pat-collapsible="trigger: #trigger">
<h3>About us</h3>
<p>Sed ut perspiciatis unde omnis iste natus error sit...</p>
<p>Neque porro quisquam est, qui dolorem ipsum quia...</p>
</aside><p></p>
<p>You can also specify triggers specifically for <em>closing</em> or <em>opening</em> a
collapsible.</p>
<p>The options for doing so are <strong>open-trigger</strong> and <strong>close-trigger</strong>.</p>
<p><button id="open-trigger">About us</button></p>
<p></p><aside class="pat-collapsible" data-pat-collapsible="open-trigger: #open-trigger">
<h3>About us</h3>
<p>Sed ut perspiciatis unde omnis iste natus error sit...</p>
<p>Neque porro quisquam est, qui dolorem ipsum quia...</p>
</aside><p></p>
<h2>Markup structure</h2>
<p>The markup structure for a collapsible is very simple: the first child
of an element with the <code>pat-collapsible</code> class will be used as the
triggering element (unless otherwise configured) and will always be visible.</p>
<p>All further children will be part of the content that collapses.</p>
<p>The containing element will get a <code>open</code> or <code>closed</code> class which indicates if
the collapsible is currently open (content is visible) or closed (content is
not visible). Likewise the triggering element will get a <code>collapsible-open</code> or
<code>collapsible-closed</code> class. the content of the collapsible is wrapped in a new
<code>div</code> element with class <code>panel-content</code>.</p>
<p>Post-processing our first example will look like this after the
collapsible pattern has initialised:</p>
<p></p><section class="pat-collapsible open">
<h3 class="collapsible-open">About us</h3>
<div class="panel-content">
<p>Sed ut perspiciatis unde omnis iste natus error sit...</p>
<p>Neque porro quisquam est, qui dolorem ipsum quia...</p>
</div>
</section><p></p>
<h3>AJAX loading of content</h3>
<p>Occasionally you may want to display content in a collapsible that
should be loaded on demand. This is supported through the <code>load-content</code>
option. Using this option you can provide a URL for content that should
be loaded and shown in a collapsible when it is opened.</p>
<p></p><section class="pat-collapsible" data-pat-collapsible="load-content: /status.html#summary">
<h3>System status</h3>
</section><p></p>
<p>This example will load the system status from <code>/status.html</code>, extract
the element with the id <code>summary</code> and use that as the panel content.
When the collapsible is closed and reopened the content is reloaded.</p>
<h3>Remembering the state</h3>
<p>Sometimes you need to remember the toggle state of an collapsible. This
can be done by telling the collapsible pattern to store the state of an
element using the <code>store</code> parameter.</p>
<p></p><section id="about-us" class="pat-collapsible" data-pat-collapsible="store: session">
<h3>About us</h3>
...
</section><p></p>
<p>To use this you requirements must be met:</p>
<ol>
<li>the element must have an <code>id</code></li>
<li>The browser must support <a href="http://www.w3.org/TR/webstorage/">Web Storage</a></li>
</ol>
<p>The possible values for the <code>store</code> parameter are:</p>
<ul>
<li><code>none</code>: do not remember the toggle state (default).</li>
<li><code>local</code>: remember the state as part of the local storage.</li>
<li><code>session</code>: remember the status as part of the session storage.</li>
</ul>
<h3>Transitions</h3>
<p>You can specify the transition effect to use when a collapsible
is opened or closed. The default behaviour is to not use a slide transition.
If you prefer to control the effect completely with CSS you can use the <code>css</code>
transition.</p>
<p><style>
.pat-collapsible {
transition-property: opacity;
transition-duration: 1s;
}
.open {
opacity: 1;
}</p>
<p>.closed {
opacity: 0;
}
</style></p>
<p></p><section class="pat-collapsible" data-pat-depends="transition: css">
<h3>System status</h3>
...
</section><p></p>
<p>This allow full control in CSS, including the use of animation for
browsers supporting CSS animation. Two non-CSS based animation options
are also included: <code>fade</code> will fade the element in and out, and <code>slide</code>
uses a vertical sliding effect. During a transition an <code>in-progress</code>
class will be set on the element.</p>
<h3>Option reference</h3>
<p>The collapsible can be configured through a <code>data-pat-collapsible</code>
attribute. The available options are:</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>load-content</code></td>
<td></td>
<td>A URL (possibly including a fragment id) for content which must be loaded and used as content for the collapsible.</td>
</tr>
<tr>
<td><code>trigger</code></td>
<td><code>::first</code></td>
<td>Selector used to identify the open/close trigger for the collapsible.</td>
</tr>
<tr>
<td><code>close-trigger</code></td>
<td></td>
<td>Selector used to identify a trigger for closing the collapsible.</td>
</tr>
<tr>
<td><code>open-trigger</code></td>
<td></td>
<td>Selector used to identify a trigger for opening the collapsible.</td>
</tr>
<tr>
<td><code>store</code></td>
<td><code>none</code></td>
<td>How to remember the state of a collapsible. Must be one of <code>none</code>, <code>session</code> or <code>local</code>.</td>
</tr>
<tr>
<td><code>transition</code></td>
<td><code>slide</code></td>
<td>Transition effect when opening or closing a collapsinble. Must be one of <code>none</code>, <code>css</code>, <code>fade</code>, <code>slide</code> or <code>slide-horizontal</code>.</td>
</tr>
<tr>
<td><code>effect-duration</code></td>
<td><code>fast</code></td>
<td>Duration of transition. This is ignored if the transition is <code>none</code> or <code>css</code>.</td>
</tr>
<tr>
<td><code>effect-easing</code></td>
<td><code>swing</code></td>
<td>Easing to use for the open/close animation. This must be a known jQuery easing method. jQuery includes <code>swing</code> and <code>linear</code>, but more can be included via jQuery UI.</td>
</tr>
<tr>
<td><code>scroll-selector</code></td>
<td></td>
<td>CSS selector or <code>self</code>. Defines which element will be scrolled into view. <code>self</code> if it is the collapsible element itself.</td>
</tr>
<tr>
<td><code>scroll-offset</code></td>
<td></td>
<td><code>offset</code> in pixels to stop scrolling before the target position defines by <code>scroll-selector</code>. Can also be a negative number.</td>
</tr>
</tbody>
</table>
