"use strict";(self.webpackChunk_plone_mockup=self.webpackChunk_plone_mockup||[]).push([[39191],{44278:function(g,A,I){var C=I(71354),e=I.n(C),l=I(76314),t=I.n(l)()(e());t.push([g.id,".content-browser-position-wrapper.svelte-1nidsbj.svelte-1nidsbj.svelte-1nidsbj{position:fixed;top:0;right:0;display:flex;justify-content:end;z-index:1500;width:100%;height:100vh;background-color:rgba(0,0,0,.25)}.btn-xs.svelte-1nidsbj.svelte-1nidsbj.svelte-1nidsbj{--bs-btn-padding-y:0.15rem;--bs-btn-padding-x:0.5rem;--bs-btn-font-size:0.75rem}.content-browser.svelte-1nidsbj.svelte-1nidsbj.svelte-1nidsbj{height:100vh;min-width:550px;background-color:var(--bs-light-bg-subtle);border-left:var(--bs-border-style) var(--bs-border-width) #fff;z-index:1500;display:flex;flex-direction:column}.toolBar.svelte-1nidsbj.svelte-1nidsbj.svelte-1nidsbj{background-color:var(--bs-primary);padding:.325rem .75rem;color:var(--bs-light);width:100%;display:flex;justify-content:space-between}.toolBar.svelte-1nidsbj>.upload.svelte-1nidsbj.svelte-1nidsbj{margin:0 1rem 0 auto}.toolBar.svelte-1nidsbj svg{vertical-align:-0.125em}.levelColumns.svelte-1nidsbj.svelte-1nidsbj.svelte-1nidsbj{display:flex;flex-wrap:nowrap;width:100%;overflow:hidden;flex-grow:3;border-left:var(--bs-border-style) var(--bs-border-color) var(--bs-border-width);user-select:none}.levelColumn.svelte-1nidsbj.svelte-1nidsbj.svelte-1nidsbj{width:320px;border-right:var(--bs-border-style) var(--bs-border-width) var(--bs-border-color);display:flex;flex-direction:column}.levelToolbar.svelte-1nidsbj.svelte-1nidsbj.svelte-1nidsbj{width:100%;height:2.5rem;display:flex;justify-content:space-between;padding:.375rem;border-bottom:var(--bs-border-style) var(--bs-border-width) var(--bs-border-color)}.levelToolbar.svelte-1nidsbj>.levelActions.svelte-1nidsbj.svelte-1nidsbj{margin-left:auto}.levelItems.svelte-1nidsbj.svelte-1nidsbj.svelte-1nidsbj{overflow-x:auto}.contentItem.svelte-1nidsbj.svelte-1nidsbj.svelte-1nidsbj{display:flex;align-items:center;justify-content:space-between;font-size:90%;min-height:2rem}.contentItem.svelte-1nidsbj.svelte-1nidsbj.svelte-1nidsbj:focus-visible{outline:none}.contentItem.even.svelte-1nidsbj.svelte-1nidsbj.svelte-1nidsbj{background-color:var(--bs-secondary-bg)}.contentItem.inPath.svelte-1nidsbj.svelte-1nidsbj.svelte-1nidsbj,.contentItem.svelte-1nidsbj.svelte-1nidsbj.svelte-1nidsbj:focus{background-color:rgba(var(--bs-primary-rgb), 0.15)}.contentItem.selectedItem.svelte-1nidsbj.svelte-1nidsbj.svelte-1nidsbj{background-color:var(--bs-primary);color:var(--bs-body-bg)}.contentItem.svelte-1nidsbj>.svelte-1nidsbj.svelte-1nidsbj{padding:.5rem;white-space:nowrap;max-width:450px;text-overflow:ellipsis;overflow:hidden}.contentItem.svelte-1nidsbj>.browseSub.svelte-1nidsbj.svelte-1nidsbj{flex-shrink:0}.contentItem.svelte-1nidsbj .grid-preview.svelte-1nidsbj>img.svelte-1nidsbj{width:95px;height:95px;object-fit:cover;float:left;margin-right:1rem}.preview.svelte-1nidsbj.svelte-1nidsbj.svelte-1nidsbj{width:320px;min-height:300px;display:flex;flex-direction:column;align-items:center}.preview.svelte-1nidsbj .info.svelte-1nidsbj.svelte-1nidsbj{padding:.5rem;width:100%;word-wrap:anywhere}.preview.svelte-1nidsbj .info .previewIcon.svelte-1nidsbj.svelte-1nidsbj{margin:0 auto 1rem auto}.preview.svelte-1nidsbj .info .previewIcon svg.svelte-1nidsbj.svelte-1nidsbj{width:50px !important;height:50px !important}.preview.svelte-1nidsbj h4.svelte-1nidsbj.svelte-1nidsbj{font-size:1.2 rem}.preview.svelte-1nidsbj img.svelte-1nidsbj.svelte-1nidsbj{max-width:100%;max-width:100%;margin-bottom:.5rem}.upload-wrapper.svelte-1nidsbj.svelte-1nidsbj.svelte-1nidsbj{padding:1rem;width:590px;overflow-x:auto}.loadmore.svelte-1nidsbj.svelte-1nidsbj.svelte-1nidsbj{text-align:center;padding:.25rem 0}","",{version:3,sources:["webpack://./src/pat/contentbrowser/src/ContentBrowser.svelte"],names:[],mappings:"AAAA,+EAAA,cAAA,CAAA,KAAA,CAAA,OAAA,CAAA,YAAA,CAAA,mBAAA,CAAA,YAAA,CAAA,UAAA,CAAA,YAAA,CAAA,gCAAA,CAAA,qDAAA,0BAAA,CAAA,yBAAA,CAAA,0BAAA,CAAA,8DAAA,YAAA,CAAA,eAAA,CAAA,0CAAA,CAAA,8DAAA,CAAA,YAAA,CAAA,YAAA,CAAA,qBAAA,CAAA,sDAAA,kCAAA,CAAA,sBAAA,CAAA,qBAAA,CAAA,UAAA,CAAA,YAAA,CAAA,6BAAA,CAAA,8DAAA,oBAAA,CAAA,4BAAA,uBAAA,CAAA,2DAAA,YAAA,CAAA,gBAAA,CAAA,UAAA,CAAA,eAAA,CAAA,WAAA,CAAA,gFAAA,CAAA,gBAAA,CAAA,0DAAA,WAAA,CAAA,iFAAA,CACmC,YAAA,CAAA,qBAAA,CAAA,2DAAA,UAAA,CAAA,aAAA,CAAA,YAAA,CAAA,6BAAA,CAAA,eAAA,CAAA,kFAAA,CACA,yEAAA,gBAAA,CAAA,yDAAA,eAAA,CAAA,0DAAA,YAAA,CAAA,kBAAA,CAAA,6BAAA,CAAA,aAAA,CAAA,eAAA,CAAA,wEAAA,YAAA,CAAA,+DAAA,uCAAA,CAAA,iIAAA,kDAAA,CAAA,uEAAA,kCAAA,CAAA,uBAAA,CAAA,2DAAA,aAAA,CAAA,kBAAA,CAAA,eAAA,CAAA,sBAAA,CAAA,eAAA,CAAA,qEAAA,aAAA,CAAA,4EAAA,UAAA,CAAA,WAAA,CAAA,gBAAA,CAAA,UAAA,CAAA,iBAAA,CAAA,sDAAA,WAAA,CAAA,gBAAA,CAAA,YAAA,CAAA,qBAAA,CAAA,kBAAA,CAAA,4DAAA,aAAA,CAAA,UAAA,CAAA,kBAAA,CAAA,yEAAA,uBAAA,CAAA,6EAAA,qBAAA,CAAA,sBAAA,CAAA,yDAAA,iBAAA,CAAA,0DAAA,cAAA,CAAA,cAAA,CAAA,mBAAA,CAAA,6DAAA,YAAA,CAAA,WAAA,CAAA,eAAA,CAAA,uDAAA,iBAAA,CAAA,gBAAA",sourcesContent:[".content-browser-position-wrapper.svelte-1nidsbj.svelte-1nidsbj.svelte-1nidsbj{position:fixed;top:0;right:0;display:flex;justify-content:end;z-index:1500;width:100%;height:100vh;background-color:rgba(0, 0, 0, 0.25)}.btn-xs.svelte-1nidsbj.svelte-1nidsbj.svelte-1nidsbj{--bs-btn-padding-y:0.15rem;--bs-btn-padding-x:0.5rem;--bs-btn-font-size:0.75rem}.content-browser.svelte-1nidsbj.svelte-1nidsbj.svelte-1nidsbj{height:100vh;min-width:550px;background-color:var(--bs-light-bg-subtle);border-left:var(--bs-border-style) var(--bs-border-width) #fff;z-index:1500;display:flex;flex-direction:column}.toolBar.svelte-1nidsbj.svelte-1nidsbj.svelte-1nidsbj{background-color:var(--bs-primary);padding:0.325rem 0.75rem;color:var(--bs-light);width:100%;display:flex;justify-content:space-between}.toolBar.svelte-1nidsbj>.upload.svelte-1nidsbj.svelte-1nidsbj{margin:0 1rem 0 auto}.toolBar.svelte-1nidsbj svg{vertical-align:-0.125em}.levelColumns.svelte-1nidsbj.svelte-1nidsbj.svelte-1nidsbj{display:flex;flex-wrap:nowrap;width:100%;overflow:hidden;flex-grow:3;border-left:var(--bs-border-style) var(--bs-border-color) var(--bs-border-width);user-select:none}.levelColumn.svelte-1nidsbj.svelte-1nidsbj.svelte-1nidsbj{width:320px;border-right:var(--bs-border-style) var(--bs-border-width)\n            var(--bs-border-color);display:flex;flex-direction:column}.levelToolbar.svelte-1nidsbj.svelte-1nidsbj.svelte-1nidsbj{width:100%;height:2.5rem;display:flex;justify-content:space-between;padding:0.375rem;border-bottom:var(--bs-border-style) var(--bs-border-width)\n            var(--bs-border-color)}.levelToolbar.svelte-1nidsbj>.levelActions.svelte-1nidsbj.svelte-1nidsbj{margin-left:auto}.levelItems.svelte-1nidsbj.svelte-1nidsbj.svelte-1nidsbj{overflow-x:auto}.contentItem.svelte-1nidsbj.svelte-1nidsbj.svelte-1nidsbj{display:flex;align-items:center;justify-content:space-between;font-size:90%;min-height:2rem}.contentItem.svelte-1nidsbj.svelte-1nidsbj.svelte-1nidsbj:focus-visible{outline:none}.contentItem.even.svelte-1nidsbj.svelte-1nidsbj.svelte-1nidsbj{background-color:var(--bs-secondary-bg)}.contentItem.inPath.svelte-1nidsbj.svelte-1nidsbj.svelte-1nidsbj,.contentItem.svelte-1nidsbj.svelte-1nidsbj.svelte-1nidsbj:focus{background-color:rgba(var(--bs-primary-rgb), 0.15)}.contentItem.selectedItem.svelte-1nidsbj.svelte-1nidsbj.svelte-1nidsbj{background-color:var(--bs-primary);color:var(--bs-body-bg)}.contentItem.svelte-1nidsbj>.svelte-1nidsbj.svelte-1nidsbj{padding:0.5rem;white-space:nowrap;max-width:450px;text-overflow:ellipsis;overflow:hidden}.contentItem.svelte-1nidsbj>.browseSub.svelte-1nidsbj.svelte-1nidsbj{flex-shrink:0}.contentItem.svelte-1nidsbj .grid-preview.svelte-1nidsbj>img.svelte-1nidsbj{width:95px;height:95px;object-fit:cover;float:left;margin-right:1rem}.preview.svelte-1nidsbj.svelte-1nidsbj.svelte-1nidsbj{width:320px;min-height:300px;display:flex;flex-direction:column;align-items:center}.preview.svelte-1nidsbj .info.svelte-1nidsbj.svelte-1nidsbj{padding:0.5rem;width:100%;word-wrap:anywhere}.preview.svelte-1nidsbj .info .previewIcon.svelte-1nidsbj.svelte-1nidsbj{margin:0 auto 1rem auto}.preview.svelte-1nidsbj .info .previewIcon svg.svelte-1nidsbj.svelte-1nidsbj{width:50px !important;height:50px !important}.preview.svelte-1nidsbj h4.svelte-1nidsbj.svelte-1nidsbj{font-size:1.2 rem}.preview.svelte-1nidsbj img.svelte-1nidsbj.svelte-1nidsbj{max-width:100%;max-width:100%;margin-bottom:0.5rem}.upload-wrapper.svelte-1nidsbj.svelte-1nidsbj.svelte-1nidsbj{padding:1rem;width:590px;overflow-x:auto}.loadmore.svelte-1nidsbj.svelte-1nidsbj.svelte-1nidsbj{text-align:center;padding:0.25rem 0}\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ29udGVudEJyb3dzZXIuc3ZlbHRlIiwic291cmNlcyI6WyJDb250ZW50QnJvd3Nlci5zdmVsdGUiXSwic291cmNlc0NvbnRlbnQiOlsiPHNjcmlwdD5cbiAgICBpbXBvcnQgdXRpbHMgZnJvbSBcIkBwYXR0ZXJuc2xpYi9wYXR0ZXJuc2xpYi9zcmMvY29yZS91dGlsc1wiO1xuICAgIGltcG9ydCB7IGdldENvbnRleHQgfSBmcm9tIFwic3ZlbHRlXCI7XG4gICAgaW1wb3J0ICogYXMgYW5pbWF0ZVNjcm9sbCBmcm9tIFwic3ZlbHRlLXNjcm9sbHRvXCI7XG4gICAgaW1wb3J0IHsgZmx5IH0gZnJvbSBcInN2ZWx0ZS90cmFuc2l0aW9uXCI7XG4gICAgaW1wb3J0IF90IGZyb20gXCIuLi8uLi8uLi9jb3JlL2kxOG4td3JhcHBlclwiO1xuICAgIGltcG9ydCBVcGxvYWQgZnJvbSBcIi4uLy4uL3VwbG9hZC91cGxvYWRcIjtcbiAgICBpbXBvcnQgY29udGVudFN0b3JlIGZyb20gXCIuL0NvbnRlbnRTdG9yZVwiO1xuICAgIGltcG9ydCB7IGNsaWNrT3V0c2lkZSwgZ2V0X2l0ZW1zX2Zyb21fdWlkcywgcmVzb2x2ZUljb24gfSBmcm9tIFwiLi91dGlsc1wiO1xuXG4gICAgYW5pbWF0ZVNjcm9sbC5zZXRHbG9iYWxPcHRpb25zKHtcbiAgICAgICAgc2Nyb2xsWDogdHJ1ZSxcbiAgICAgICAgY29udGFpbmVyOiBcIi5sZXZlbENvbHVtbnNcIixcbiAgICAgICAgZHVyYXRpb246IDUwMCxcbiAgICB9KTtcblxuICAgIC8vIGdldCBjb250ZXh0IHN0b3Jlc1xuICAgIGNvbnN0IGN1cnJlbnRQYXRoID0gZ2V0Q29udGV4dChcImN1cnJlbnRQYXRoXCIpO1xuICAgIGNvbnN0IGNvbmZpZyA9IGdldENvbnRleHQoXCJjb25maWdcIik7XG4gICAgY29uc3QgcGF0aENhY2hlID0gZ2V0Q29udGV4dChcInBhdGhDYWNoZVwiKTtcbiAgICBjb25zdCBzaG93Q29udGVudEJyb3dzZXIgPSBnZXRDb250ZXh0KFwic2hvd0NvbnRlbnRCcm93c2VyXCIpO1xuICAgIGNvbnN0IHNlbGVjdGVkSXRlbXMgPSBnZXRDb250ZXh0KFwic2VsZWN0ZWRJdGVtc1wiKTtcbiAgICBjb25zdCBzZWxlY3RlZFVpZHMgPSBnZXRDb250ZXh0KFwic2VsZWN0ZWRVaWRzXCIpO1xuICAgIGNvbnN0IHByZXZpZXdVaWRzID0gZ2V0Q29udGV4dChcInByZXZpZXdVaWRzXCIpO1xuXG4gICAgLy8gaW5pdGlhbGl6ZSBjb250ZW50IGJyb3dzZXIgc3RvcmVcbiAgICBjb25zdCBjb250ZW50SXRlbXMgPSBjb250ZW50U3RvcmUoJGNvbmZpZywgcGF0aENhY2hlKTtcblxuICAgIGxldCBzaG93VXBsb2FkID0gZmFsc2U7XG4gICAgbGV0IHByZXZpZXdJdGVtID0ge307XG4gICAgbGV0IGtleWJvYXJkTmF2SW5pdGlhbGl6ZWQgPSBmYWxzZTtcbiAgICBsZXQgc2hpZnRLZXkgPSBmYWxzZTtcblxuICAgIGxldCB2dyA9IE1hdGgubWF4KGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCB8fCAwLCB3aW5kb3cuaW5uZXJXaWR0aCB8fCAwKTtcblxuICAgIGZ1bmN0aW9uIHVwZGF0ZVByZXZpZXcoeyBkYXRhID0gbnVsbCwgdXVpZCA9IG51bGwsIGFjdGlvbiA9IFwic2hvd1wiIH0pIHtcbiAgICAgICAgaWYgKGRhdGEgJiYgYWN0aW9uID09IFwic2hvd1wiKSB7XG4gICAgICAgICAgICBwcmV2aWV3SXRlbSA9IGRhdGE7XG4gICAgICAgICAgICAkcHJldmlld1VpZHMgPSBbZGF0YS5VSURdO1xuICAgICAgICB9IGVsc2UgaWYgKHV1aWQgJiYgYWN0aW9uID09IFwiYWRkXCIgJiYgJHByZXZpZXdVaWRzLmluZGV4T2YodXVpZCkgPT09IC0xKSB7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgJGNvbmZpZy5tYXhpbXVtU2VsZWN0aW9uU2l6ZSA+IDAgJiZcbiAgICAgICAgICAgICAgICAkcHJldmlld1VpZHMubGVuZ3RoID49ICRjb25maWcubWF4aW11bVNlbGVjdGlvblNpemVcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIC8vIHJlc3BlY3QgbWF4aW11bVNlbGVjdGlvblNpemVcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAkcHJldmlld1VpZHMgPSBbLi4uJHByZXZpZXdVaWRzLCB1dWlkXTsgLy8gTk9URTogJHByZXZpZXdVaWRzLnB1c2goKSBpcyBub3QgYSByZWFjdGl2ZSBjaGFuZ2VcbiAgICAgICAgfSBlbHNlIGlmICh1dWlkICYmIGFjdGlvbiA9PSBcInJlbW92ZVwiICYmICRwcmV2aWV3VWlkcy5pbmRleE9mKHV1aWQpICE9PSAtMSkge1xuICAgICAgICAgICAgcHJldmlld1VpZHMudXBkYXRlKChuKSA9PiB7XG4gICAgICAgICAgICAgICAgbi5zcGxpY2Uobi5pbmRleE9mKHV1aWQpLCAxKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbjtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2UgaWYgKGFjdGlvbiA9PSBcImNsZWFyXCIpIHtcbiAgICAgICAgICAgIHByZXZpZXdJdGVtID0ge307XG4gICAgICAgICAgICAkcHJldmlld1VpZHMgPSBbXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIGZ1bmN0aW9uIHVwbG9hZCgpIHtcbiAgICAgICAgdXBkYXRlUHJldmlldyh7IGFjdGlvbjogXCJjbGVhclwiIH0pO1xuICAgICAgICBzaG93VXBsb2FkID0gdHJ1ZTtcbiAgICAgICAgYXdhaXQgdXRpbHMudGltZW91dCgxKTtcbiAgICAgICAgY29uc3QgdXBsb2FkRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnVwbG9hZC13cmFwcGVyXCIpO1xuICAgICAgICB1cGxvYWRFbC5jbGFzc0xpc3QuYWRkKFwicGF0LXVwbG9hZFwiKTtcbiAgICAgICAgY29uc3QgcGF0VXBsb2FkID0gbmV3IFVwbG9hZCh1cGxvYWRFbCwge1xuICAgICAgICAgICAgYmFzZVVybDogJGNvbmZpZy5iYXNlX3VybCxcbiAgICAgICAgICAgIGN1cnJlbnRQYXRoOiAkY3VycmVudFBhdGgsXG4gICAgICAgICAgICByZWxhdGl2ZVBhdGg6IFwiQEBmaWxlVXBsb2FkXCIsXG4gICAgICAgICAgICBhbGxvd1BhdGhTZWxlY3Rpb246IGZhbHNlLFxuICAgICAgICAgICAgaGlkZGVuSW5wdXRDb250YWluZXI6IFwiLnVwbG9hZC13cmFwcGVyXCIsXG4gICAgICAgICAgICBzdWNjZXNzOiAoZmlsZVVwbG9hZCwgb2JqKSA9PiB7XG4gICAgICAgICAgICAgICAgY29udGVudEl0ZW1zLmdldCh7IHBhdGg6ICRjdXJyZW50UGF0aCwgdXBkYXRlQ2FjaGU6IHRydWUgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzaG93UHJldmlldyhpdGVtKSB7XG4gICAgICAgIGlmICgkY29uZmlnLm1vZGUgPT0gXCJzZWFyY2hcIikge1xuICAgICAgICAgICAgLy8gb25lIGxldmVsIHNlYXJjaCBtb2RlXG4gICAgICAgICAgICB1cGRhdGVQcmV2aWV3KHsgZGF0YTogaXRlbSB9KTtcbiAgICAgICAgfSBlbHNlIGlmIChpdGVtLmlzX2ZvbGRlcmlzaCkge1xuICAgICAgICAgICAgY3VycmVudFBhdGguc2V0KGl0ZW0ucGF0aCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFydHMgPSBpdGVtLnBhdGguc3BsaXQoXCIvXCIpO1xuICAgICAgICAgICAgY29uc3QgZm9sZGVyUGF0aCA9IHBhdGhQYXJ0cy5zbGljZSgwLCBwYXRoUGFydHMubGVuZ3RoIC0gMSkuam9pbihcIi9cIik7XG4gICAgICAgICAgICBjdXJyZW50UGF0aC5zZXQoZm9sZGVyUGF0aCB8fCBcIi9cIik7XG4gICAgICAgICAgICB1cGRhdGVQcmV2aWV3KHsgZGF0YTogaXRlbSB9KTtcbiAgICAgICAgfVxuICAgICAgICBzY3JvbGxUb1JpZ2h0KCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2hhbmdlUGF0aChpdGVtLCBlKSB7XG4gICAgICAgIHNob3dVcGxvYWQgPSBmYWxzZTtcblxuICAgICAgICAvLyBjbGVhciBwcmV2aW91cyBzZWxlY3Rpb25cbiAgICAgICAgdXBkYXRlUHJldmlldyh7IGFjdGlvbjogXCJjbGVhclwiIH0pO1xuXG4gICAgICAgIGlmIChpdGVtID09PSBcIi9cIikge1xuICAgICAgICAgICAgLy8gY2xpY2tlZCBcImhvbWVcIiBidXR0b25cbiAgICAgICAgICAgIGN1cnJlbnRQYXRoLnNldChpdGVtKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNob3cgY2xpY2tlZCBpdGVtXG4gICAgICAgIHNob3dQcmV2aWV3KGl0ZW0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNsaWNrSXRlbShpdGVtLCBlKSB7XG4gICAgICAgIGlmICgha2V5Ym9hcmROYXZJbml0aWFsaXplZCkge1xuICAgICAgICAgICAgLy8gaWYgd2UndmUgYWxyZWFkeSBjbGlja2VkIGFuIGVsZW1lbnQgd2l0aCB0aGUgbW91c2VcbiAgICAgICAgICAgIC8vIGRvIG5vdCBzdGFydCBvdmVyIGtleWJvYXJkbmF2XG4gICAgICAgICAgICBrZXlib2FyZE5hdkluaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNoZWNrIGZvciBtdWx0aXNlbGVjdGlvblxuICAgICAgICBjb25zdCBsZXZlbFdyYXBwZXIgPSBlLmN1cnJlbnRUYXJnZXQuY2xvc2VzdChcIi5sZXZlbEl0ZW1zXCIpO1xuICAgICAgICBjb25zdCBwcmV2U2VsZWN0aW9uID0gbGV2ZWxXcmFwcGVyLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuc2VsZWN0ZWRJdGVtXCIpO1xuXG4gICAgICAgIGlmIChwcmV2U2VsZWN0aW9uLmxlbmd0aCkge1xuICAgICAgICAgICAgLy8gY2hlY2sgZm9yIHByZXNzZWQgc2hpZnQgb3IgY3RybC9tZXRhIGtleSBmb3IgbXVsdGlzZWxlY3Rpb25cblxuICAgICAgICAgICAgaWYgKHNoaWZ0S2V5IHx8IGU/LnNoaWZ0S2V5KSB7XG4gICAgICAgICAgICAgICAgLy8gaXRlciB0aHJvdWdoIHRoZSB3cmFwcGVyIGNoaWxkcmVuIGFuZCBzZWxlY3QgYWxsXG4gICAgICAgICAgICAgICAgLy8gaW5iZXR3ZWVuIGN1cnJlbnQgc2VsZWN0aW9uIGFuZCBsYXN0IHByZXZpZXdcbiAgICAgICAgICAgICAgICBsZXQgc2VsZWN0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBlbCBvZiBsZXZlbFdyYXBwZXIuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFtpdGVtLlVJRCwgcHJldmlld0l0ZW0uVUlEXS5pbmRleE9mKGVsLmRhdGFzZXQudXVpZCkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc3RvcCBzZWxlY3RpbmcgYnV0IG1ha2Ugc3VyZSB0aGUgbGFzdCBpdGVtIGlzIHNlbGVjdGVkIHRvb1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVByZXZpZXcoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dWlkOiBlbC5kYXRhc2V0LnV1aWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbjogXCJhZGRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHN0YXJ0IHNlbGVjdGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVQcmV2aWV3KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHV1aWQ6IGVsLmRhdGFzZXQudXVpZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbjogc2VsZWN0ID8gXCJhZGRcIiA6IFwicmVtb3ZlXCIsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZT8ubWV0YUtleSB8fMKgZT8uY3RybEtleSkge1xuICAgICAgICAgICAgICAgIC8vIGRlL3NlbGVjdCBtdWx0aXBsZSBzaW5nbGUgaXRlbXNcbiAgICAgICAgICAgICAgICAvLyBOT1RFOiBvbmx5IGZvciBtb3VzZSBjbGljayBldmVudFxuICAgICAgICAgICAgICAgIHVwZGF0ZVByZXZpZXcoe1xuICAgICAgICAgICAgICAgICAgICB1dWlkOiBpdGVtLlVJRCxcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiAkcHJldmlld1VpZHMuaW5kZXhPZihpdGVtLlVJRCkgPT0gLTEgPyBcImFkZFwiIDogXCJyZW1vdmVcIixcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gdW5zZWxlY3RcbiAgICAgICAgICAgICAgICBbLi4ucHJldlNlbGVjdGlvbl0ubWFwKChlbCkgPT4gZWwuY2xhc3NMaXN0LnJlbW92ZShcInNlbGVjdGVkSXRlbVwiKSk7XG4gICAgICAgICAgICAgICAgY2hhbmdlUGF0aChpdGVtLCBlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2hhbmdlUGF0aChpdGVtLCBlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGUuY3VycmVudFRhcmdldC5mb2N1cygpOyAgLy8gbmVlZGVkIGZvciBrZXlib2FyZCBuYXZpZ2F0aW9uXG4gICAgICAgIGUuY3VycmVudFRhcmdldC5jbGFzc0xpc3QuYWRkKFwic2VsZWN0ZWRJdGVtXCIpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluaXRLZXlib2FyZE5hdigpIHtcbiAgICAgICAgLy8gaW5pdGlhbGl6ZSBjbGljayBvbiBmaXJzdCBlbGVtZW50IHdoZW4gaGl0dGluZyB1cC9kb3duIGFycm93IGtleVxuICAgICAgICBpZiAoa2V5Ym9hcmROYXZJbml0aWFsaXplZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGVscyA9IFtcbiAgICAgICAgICAgIC4uLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubGV2ZWxDb2x1bW4gLmluUGF0aFwiKSwgIC8vIHByZXZpb3VzbHkgc2VsZWN0ZWQgZm9sZGVyXG4gICAgICAgICAgICAuLi5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmxldmVsQ29sdW1uIC5zZWxlY3RlZEl0ZW1cIiksICAvLyBwcmV2aW91c2x5IHNlbGVjdGVkIGl0ZW1cbiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubGV2ZWxDb2x1bW4gLmNvbnRlbnRJdGVtXCIpLCAgLy8gZGVmYXVsdCBmaXJzdCBpdGVtXG4gICAgICAgIF1cbiAgICAgICAgaWYgKGVscy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGtleWJvYXJkTmF2SW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgICAgICAgICAgZWxzWzBdLmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBrZXlib2FyZE5hdmlnYXRpb24oaXRlbSwgZSkge1xuICAgICAgICBjb25zdCBub2RlID0gZS5jdXJyZW50VGFyZ2V0O1xuICAgICAgICBzaGlmdEtleSA9IGUuc2hpZnRLZXk7XG4gICAgICAgIGlmIChlLmtleSA9PSBcIkVzY2FwZVwiKSB7XG4gICAgICAgICAgICBjYW5jZWxTZWxlY3Rpb24oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoXG4gICAgICAgICAgICBlLmtleSA9PSBcIkFycm93RG93blwiICYmXG4gICAgICAgICAgICBub2RlPy5uZXh0RWxlbWVudFNpYmxpbmc/LmNsYXNzTGlzdC5jb250YWlucyhcImNvbnRlbnRJdGVtXCIpXG4gICAgICAgICkge1xuICAgICAgICAgICAgbm9kZS5uZXh0RWxlbWVudFNpYmxpbmcuY2xpY2soKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoXG4gICAgICAgICAgICBlLmtleSA9PSBcIkFycm93VXBcIiAmJlxuICAgICAgICAgICAgbm9kZT8ucHJldmlvdXNFbGVtZW50U2libGluZz8uY2xhc3NMaXN0LmNvbnRhaW5zKFwiY29udGVudEl0ZW1cIilcbiAgICAgICAgKSB7XG4gICAgICAgICAgICBub2RlLnByZXZpb3VzRWxlbWVudFNpYmxpbmcuY2xpY2soKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZS5rZXkgPT0gXCJBcnJvd1JpZ2h0XCIpIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJDb2wgPSBlLnRhcmdldC5jbG9zZXN0KFwiLmxldmVsQ29sdW1uXCIpO1xuICAgICAgICAgICAgY29uc3Qgbnh0Q29sID0gY3VyckNvbD8ubmV4dEVsZW1lbnRTaWJsaW5nO1xuICAgICAgICAgICAgaWYgKCFueHRDb2wgfHwgIW54dENvbC5jbGFzc0xpc3QuY29udGFpbnMoXCJsZXZlbENvbHVtblwiKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG54dENvbC5xdWVyeVNlbGVjdG9yKFwiLmNvbnRlbnRJdGVtXCIpPy5jbGljaygpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlLmtleSA9PSBcIkFycm93TGVmdFwiKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyQ29sID0gZS50YXJnZXQuY2xvc2VzdChcIi5sZXZlbENvbHVtblwiKTtcbiAgICAgICAgICAgIGNvbnN0IHByZXZDb2wgPSBjdXJyQ29sPy5wcmV2aW91c0VsZW1lbnRTaWJsaW5nO1xuICAgICAgICAgICAgaWYgKCFwcmV2Q29sIHx8ICFwcmV2Q29sLmNsYXNzTGlzdC5jb250YWlucyhcImxldmVsQ29sdW1uXCIpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcHJldkNvbC5xdWVyeVNlbGVjdG9yKFwiLmluUGF0aFwiKS5jbGljaygpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlLmtleSA9PSBcIlNwYWNlXCIpIHtcbiAgICAgICAgICAgIC8vIGFkZCBpdGVtIHRvIHNlbGVjdGlvbiAobGlrZSBtZXRhS2V5ICsgY2xpY2spXG4gICAgICAgICAgICBjbGlja0l0ZW0oaXRlbSwgZSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGUua2V5ID09IFwiRW50ZXJcIikge1xuICAgICAgICAgICAgaWYgKGlzU2VsZWN0YWJsZShpdGVtKSkge1xuICAgICAgICAgICAgICAgIGFkZFNlbGVjdGVkSXRlbXMoaXRlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYyBmdW5jdGlvbiBhZGRJdGVtKGl0ZW0pIHtcbiAgICAgICAgc2VsZWN0ZWRJdGVtcy51cGRhdGUoKG4pID0+IFsuLi5uLCBpdGVtXSk7XG4gICAgICAgIHNlbGVjdGVkVWlkcy51cGRhdGUoKCkgPT4gJHNlbGVjdGVkSXRlbXMubWFwKCh4KSA9PiB4LlVJRCkpO1xuICAgICAgICB1cGRhdGVQcmV2aWV3KHsgYWN0aW9uOiBcImNsZWFyXCIgfSk7XG4gICAgICAgICRzaG93Q29udGVudEJyb3dzZXIgPSBmYWxzZTtcbiAgICAgICAga2V5Ym9hcmROYXZJbml0aWFsaXplZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIGFzeW5jIGZ1bmN0aW9uIGFkZFNlbGVjdGVkSXRlbXMoKSB7XG4gICAgICAgIGNvbnN0IHByZXZpZXdJdGVtcyA9IGF3YWl0IGdldF9pdGVtc19mcm9tX3VpZHMoJHByZXZpZXdVaWRzLCAkY29uZmlnKTtcbiAgICAgICAgc2VsZWN0ZWRJdGVtcy51cGRhdGUoKG4pID0+IHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgaXQgb2YgcHJldmlld0l0ZW1zKSB7XG4gICAgICAgICAgICAgICAgaWYgKCRzZWxlY3RlZFVpZHMuaW5kZXhPZihpdC5VSUQpICE9IC0xKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBuLnB1c2goaXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG47XG4gICAgICAgIH0pO1xuICAgICAgICBzZWxlY3RlZFVpZHMudXBkYXRlKCgpID0+ICRzZWxlY3RlZEl0ZW1zLm1hcCgoeCkgPT4geC5VSUQpKTtcbiAgICAgICAgdXBkYXRlUHJldmlldyh7IGFjdGlvbjogXCJjbGVhclwiIH0pO1xuICAgICAgICAkc2hvd0NvbnRlbnRCcm93c2VyID0gZmFsc2U7XG4gICAgICAgIGtleWJvYXJkTmF2SW5pdGlhbGl6ZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjYW5jZWxTZWxlY3Rpb24oKSB7XG4gICAgICAgICRzaG93Q29udGVudEJyb3dzZXIgPSBmYWxzZTtcbiAgICAgICAga2V5Ym9hcmROYXZJbml0aWFsaXplZCA9IGZhbHNlO1xuICAgICAgICB1cGRhdGVQcmV2aWV3KHsgYWN0aW9uOiBcImNsZWFyXCIgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNTZWxlY3RhYmxlKGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuICRzZWxlY3RlZFVpZHMuaW5kZXhPZihpdGVtLlVJRCkgPT09IC0xO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNjcm9sbFRvUmlnaHQoKSB7XG4gICAgICAgIGNvbnN0IHNjcm9sbENvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubGV2ZWxDb2x1bW5zXCIpO1xuICAgICAgICBpZiAoc2Nyb2xsQ29udGFpbmVyKSB7XG4gICAgICAgICAgICBhbmltYXRlU2Nyb2xsLnNjcm9sbFRvKHtcbiAgICAgICAgICAgICAgICAvLyBlbGVtZW50OiBcIi5sZXZlbENvbHVtbjpsYXN0LWNoaWxkXCIsXG4gICAgICAgICAgICAgICAgeDogc2Nyb2xsQ29udGFpbmVyLnNjcm9sbFdpZHRoICsgMTAwLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpdGVtSW5QYXRoKGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuICRjdXJyZW50UGF0aC5pbmRleE9mKGl0ZW0ucGF0aCkgIT0gLTE7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZmlsdGVySXRlbXMoKSB7XG4gICAgICAgIGxldCB0aW1lb3V0SWQ7XG4gICAgICAgIGlmICh0aW1lb3V0SWQpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuICAgICAgICB9XG4gICAgICAgIHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgY29udGVudEl0ZW1zLmdldCh7IHBhdGg6ICRjdXJyZW50UGF0aCwgc2VhcmNoVGVybTogdGhpcy52YWx1ZSB9KTtcbiAgICAgICAgfSwgMzAwKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsb2FkTW9yZShub2RlKSB7XG4gICAgICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKFxuICAgICAgICAgICAgKGVudHJpZXMpID0+IHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGVudHJpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVudHJ5LmlzSW50ZXJzZWN0aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXRoID0gbm9kZS5kYXRhc2V0LmxldmVsUGF0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhZ2UgPSBwYXJzZUludChub2RlLmRhdGFzZXQubGV2ZWxOZXh0UGFnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50SXRlbXMuZ2V0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2FkTW9yZVBhdGg6IHBhdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnZTogcGFnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHsgdGhyZXNob2xkOiAwLCByb290OiBudWxsLCBtYXJnaW46IFwiMHB4XCIgfSxcbiAgICAgICAgKTtcbiAgICAgICAgLy8gZGVmZXIgb2JzZXJ2aW5nXG4gICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIG9ic2VydmVyLm9ic2VydmUobm9kZSk7XG4gICAgICAgIH0sIDUwMCk7XG4gICAgfVxuXG4gICAgJDoge1xuICAgICAgICBpZiAoJHNob3dDb250ZW50QnJvd3Nlcikge1xuICAgICAgICAgICAgY29udGVudEl0ZW1zLmdldCh7IHBhdGg6ICRjdXJyZW50UGF0aCB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgICQ6IHtcbiAgICAgICAgJGNvbnRlbnRJdGVtcztcbiAgICAgICAgc2Nyb2xsVG9SaWdodCgpO1xuICAgIH1cblxuICAgICQ6IHtcbiAgICAgICAgJHByZXZpZXdVaWRzO1xuICAgIH1cbjwvc2NyaXB0PlxuXG57I2lmICRzaG93Q29udGVudEJyb3dzZXJ9XG4gICAgPGRpdiBjbGFzcz1cImNvbnRlbnQtYnJvd3Nlci1wb3NpdGlvbi13cmFwcGVyXCI+XG4gICAgICAgIDxuYXZcbiAgICAgICAgICAgIGNsYXNzPVwiY29udGVudC1icm93c2VyXCJcbiAgICAgICAgICAgIHRyYW5zaXRpb246Zmx5PXt7IHg6ICh2dyAvIDEwMCkgKiA5NCwgb3BhY2l0eTogMSB9fVxuICAgICAgICAgICAgb246aW50cm9lbmQ9eygpID0+IHsgc2Nyb2xsVG9SaWdodCgpOyBpbml0S2V5Ym9hcmROYXYoKSB9fVxuICAgICAgICAgICAgdXNlOmNsaWNrT3V0c2lkZVxuICAgICAgICAgICAgb246Y2xpY2tfb3V0c2lkZT17Y2FuY2VsU2VsZWN0aW9ufVxuICAgICAgICA+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwidG9vbEJhciBuYXZiYXJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmlsdGVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJmaWx0ZXJcIiBvbjppbnB1dD17ZmlsdGVySXRlbXN9IC8+XG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJmaWx0ZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgPjxzdmcgdXNlOnJlc29sdmVJY29uPXt7IGljb25OYW1lOiBcInNlYXJjaFwiIH19IC8+PC9sYWJlbFxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgeyNpZiAkY29uZmlnLnVwbG9hZEVuYWJsZWR9XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJ1cGxvYWQgYnRuIGJ0bi1zZWNvbmRhcnkgYnRuLXNtXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhYmluZGV4PVwiMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICBvbjprZXlkb3duPXt1cGxvYWR9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbjpjbGljaz17dXBsb2FkfVxuICAgICAgICAgICAgICAgICAgICAgICAgPjxzdmcgdXNlOnJlc29sdmVJY29uPXt7IGljb25OYW1lOiBcInVwbG9hZFwiIH19IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICB7X3QoXCJ1cGxvYWQgdG8gJHtjdXJyZW50X3BhdGh9XCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50X3BhdGg6ICRjdXJyZW50UGF0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pfTwvYnV0dG9uXG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7L2lmfVxuICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJidG4gYnRuLWxpbmsgdGV4dC13aGl0ZVwiXG4gICAgICAgICAgICAgICAgICAgIHRhYmluZGV4PVwiMFwiXG4gICAgICAgICAgICAgICAgICAgIG9uOmNsaWNrfHByZXZlbnREZWZhdWx0PXsoKSA9PiBjYW5jZWxTZWxlY3Rpb24oKX1cbiAgICAgICAgICAgICAgICAgICAgPjxzdmcgdXNlOnJlc29sdmVJY29uPXt7IGljb25OYW1lOiBcIngtY2lyY2xlXCIgfX0gLz48L2J1dHRvblxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgeyNhd2FpdCAkY29udGVudEl0ZW1zfVxuICAgICAgICAgICAgICAgIDxwPntfdChcImxvYWRpbmcgY29udGVudCBpdGVtc1wiKX08L3A+XG4gICAgICAgICAgICB7OnRoZW4gbGV2ZWxzfVxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJsZXZlbENvbHVtbnNcIj5cbiAgICAgICAgICAgICAgICAgICAgeyNlYWNoIGxldmVscyBhcyBsZXZlbCwgaSAobGV2ZWwucGF0aCl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJsZXZlbENvbHVtbntpICUgMiA9PSAwID8gJyBvZGQnIDogJyBldmVuJ31cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluOmZseXxsb2NhbD17eyBkdXJhdGlvbjogMzAwIH19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImxldmVsVG9vbGJhclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7I2lmIGkgPT0gMH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImJ0biBidG4tbGluayBidG4teHMgcHMtMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFiaW5kZXg9XCIwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbjprZXlkb3duPXsoKSA9PiBjaGFuZ2VQYXRoKFwiL1wiKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbjpjbGljaz17KCkgPT4gY2hhbmdlUGF0aChcIi9cIil9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjxzdmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlOnJlc29sdmVJY29uPXt7IGljb25OYW1lOiBcImhvdXNlXCIgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPjwvYnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvaWZ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsjaWYgbGV2ZWwuc2VsZWN0YWJsZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImJ0biBidG4tcHJpbWFyeSBidG4teHNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXshaXNTZWxlY3RhYmxlKGxldmVsKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbjpjbGlja3xwcmV2ZW50RGVmYXVsdD17KCkgPT4gYWRkSXRlbShsZXZlbCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge190KFwic2VsZWN0ICR7bGV2ZWxfcGF0aH1cIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXZlbF9wYXRoOiBsZXZlbC5hYnNQYXRoIHx8IFwiL1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvaWZ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJsZXZlbEFjdGlvbnNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsjaWYgIWxldmVsLmdyaWRWaWV3fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJidG4gYnRuLWxpbmsgYnRuLXhzIGdyaWQtdmlld1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uOmNsaWNrPXsoKSA9PiAobGV2ZWwuZ3JpZFZpZXcgPSB0cnVlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZTpyZXNvbHZlSWNvbj17eyBpY29uTmFtZTogXCJncmlkXCIgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHs6ZWxzZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiYnRuIGJ0bi1saW5rIGJ0bi14cyBncmlkLXZpZXdcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbjpjbGljaz17KCkgPT4gKGxldmVsLmdyaWRWaWV3ID0gZmFsc2UpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN2Z1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlOnJlc29sdmVJY29uPXt7IGljb25OYW1lOiBcImxpc3RcIiB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey9pZn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImxldmVsSXRlbXNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyNlYWNoIGxldmVsLnJlc3VsdHMgfHwgW10gYXMgaXRlbSwgbn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwhLS0gc3ZlbHRlLWlnbm9yZSBtaXNzaW5nLWRlY2xhcmF0aW9uIC0tPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiY29udGVudEl0ZW17biAlIDIgPT0gMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICcgb2RkJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6ICcgZXZlbid9e2l0ZW1JblBhdGgoaXRlbSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnIGluUGF0aCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAnJ317JHByZXZpZXdVaWRzLmluZGV4T2YoaXRlbS5VSUQpICE9IC0xXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJyBzZWxlY3RlZEl0ZW0nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogJyd9eyFpc1NlbGVjdGFibGUoaXRlbSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnIHRleHQtbXV0ZWQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogJyd9XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb2xlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWJpbmRleD17bn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLXV1aWQ9e2l0ZW0uVUlEfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uOmtleWRvd258cHJldmVudERlZmF1bHQ9eyhlKSA9PiBrZXlib2FyZE5hdmlnYXRpb24oaXRlbSwgZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb246Y2xpY2s9eyhlKSA9PiBjbGlja0l0ZW0oaXRlbSwgZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyNpZiBsZXZlbC5ncmlkVmlld31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImdyaWQtcHJldmlld1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyNpZiBpdGVtLmdldEljb259XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcmM9e2Ake2l0ZW0uZ2V0VVJMfS9AQGltYWdlcy9pbWFnZS90aHVtYmB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsdD17aXRlbS5UaXRsZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgezplbHNlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlOnJlc29sdmVJY29uPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uTmFtZTogYGNvbnRlbnR0eXBlLyR7aXRlbS5wb3J0YWxfdHlwZS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1xcLnwgL2csIFwiLVwiKX1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7L2lmfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2l0ZW0uVGl0bGV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHs6ZWxzZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJpdGVtLXRpdGxlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPVwie2l0ZW0ucG9ydGFsX3R5cGV9OiB7aXRlbS5UaXRsZX1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3ZnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlOnJlc29sdmVJY29uPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb25OYW1lOiBgY29udGVudHR5cGUvJHtpdGVtLnBvcnRhbF90eXBlLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvXFwufCAvZywgXCItXCIpfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7aXRlbS5UaXRsZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey9pZn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7I2lmIGl0ZW0uaXNfZm9sZGVyaXNoICYmICRjb25maWcubW9kZSA9PSBcImJyb3dzZVwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYnJvd3NlU3ViXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3ZnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlOnJlc29sdmVJY29uPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb25OYW1lOiBcImFycm93LXJpZ2h0LWNpcmNsZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7L2lmfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvZWFjaH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyNpZiBsZXZlbC5tb3JlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwibG9hZG1vcmVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtbGV2ZWwtcGF0aD17bGV2ZWwucGF0aH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLWxldmVsLW5leHQtcGFnZT17cGFyc2VJbnQobGV2ZWwucGFnZSkgKyAxfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZTpsb2FkTW9yZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzcGlubmVyLWJvcmRlclwiIHJvbGU9XCJzdGF0dXNcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7L2lmfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7I2lmIGxldmVsLnRvdGFsID09IDB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGVudEl0ZW1cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD57X3QoXCJubyByZXN1bHRzIGZvdW5kXCIpfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7L2lmfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIHsvZWFjaH1cbiAgICAgICAgICAgICAgICAgICAgeyNpZiBwcmV2aWV3SXRlbT8uVUlEICYmICRwcmV2aWV3VWlkcy5sZW5ndGggPT0gMX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwcmV2aWV3XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImxldmVsVG9vbGJhclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImJ0biBidG4tcHJpbWFyeSBidG4teHNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9eyFpc1NlbGVjdGFibGUocHJldmlld0l0ZW0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb246Y2xpY2t8cHJldmVudERlZmF1bHQ9eygpID0+IGFkZEl0ZW0ocHJldmlld0l0ZW0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPntfdChcInNlbGVjdCAke3ByZXZpZXdfcGF0aH1cIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXZpZXdfcGF0aDogcHJldmlld0l0ZW0ucGF0aC5zcGxpdChcIi9cIikucG9wKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX08L2J1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImluZm9cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyNpZiBwcmV2aWV3SXRlbS5nZXRJY29ufVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInByZXZpZXdJbWFnZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3JjPVwie3ByZXZpZXdJdGVtLmdldFVSTH0vQEBpbWFnZXMvaW1hZ2UvcHJldmlld1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsdD17cHJldmlld0l0ZW0uVGl0bGV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7OmVsc2V9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicHJldmlld0ljb25cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3ZnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZTpyZXNvbHZlSWNvbj17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbk5hbWU6IGBjb250ZW50dHlwZS8ke3ByZXZpZXdJdGVtLnBvcnRhbF90eXBlLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvXFwufCAvZywgXCItXCIpfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7L2lmfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDQ+e3ByZXZpZXdJdGVtLlRpdGxlfTwvaDQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPntwcmV2aWV3SXRlbS5EZXNjcmlwdGlvbn08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgey9pZn1cbiAgICAgICAgICAgICAgICAgICAgeyNpZiAkcHJldmlld1VpZHMubGVuZ3RoID4gMX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwcmV2aWV3XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImxldmVsVG9vbGJhclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImJ0biBidG4tcHJpbWFyeSBidG4teHNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb246Y2xpY2t8cHJldmVudERlZmF1bHQ9e2FkZFNlbGVjdGVkSXRlbXN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+e190KFwiYWRkIHNlbGVjdGVkIGl0ZW1zXCIpfTwvYnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW5mb1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3ZnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2U6cmVzb2x2ZUljb249e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uTmFtZTogXCJmaWxlc1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICB7L2lmfVxuICAgICAgICAgICAgICAgICAgICB7I2lmIHNob3dVcGxvYWR9XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidXBsb2FkLXdyYXBwZXJcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgey9pZn1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIHs6Y2F0Y2ggZXJyb3J9XG4gICAgICAgICAgICAgICAgPHAgc3R5bGU9XCJjb2xvcjogcmVkXCI+e2Vycm9yLm1lc3NhZ2V9PC9wPlxuICAgICAgICAgICAgey9hd2FpdH1cbiAgICAgICAgPC9uYXY+XG4gICAgPC9kaXY+XG57L2lmfVxuXG48c3R5bGU+XG4gICAgLmNvbnRlbnQtYnJvd3Nlci1wb3NpdGlvbi13cmFwcGVyIHtcbiAgICAgICAgcG9zaXRpb246IGZpeGVkO1xuICAgICAgICB0b3A6IDA7XG4gICAgICAgIHJpZ2h0OiAwO1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGVuZDtcbiAgICAgICAgei1pbmRleDogMTUwMDtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIGhlaWdodDogMTAwdmg7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC4yNSk7XG4gICAgfVxuICAgIC5idG4teHMge1xuICAgICAgICAtLWJzLWJ0bi1wYWRkaW5nLXk6IDAuMTVyZW07XG4gICAgICAgIC0tYnMtYnRuLXBhZGRpbmcteDogMC41cmVtO1xuICAgICAgICAtLWJzLWJ0bi1mb250LXNpemU6IDAuNzVyZW07XG4gICAgfVxuICAgIC5jb250ZW50LWJyb3dzZXIge1xuICAgICAgICBoZWlnaHQ6IDEwMHZoO1xuICAgICAgICBtaW4td2lkdGg6IDU1MHB4O1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1icy1saWdodC1iZy1zdWJ0bGUpO1xuICAgICAgICBib3JkZXItbGVmdDogdmFyKC0tYnMtYm9yZGVyLXN0eWxlKSB2YXIoLS1icy1ib3JkZXItd2lkdGgpICNmZmY7XG4gICAgICAgIHotaW5kZXg6IDE1MDA7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgfVxuICAgIC50b29sQmFyIHtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tYnMtcHJpbWFyeSk7XG4gICAgICAgIHBhZGRpbmc6IDAuMzI1cmVtIDAuNzVyZW07XG4gICAgICAgIGNvbG9yOiB2YXIoLS1icy1saWdodCk7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gICAgfVxuICAgIC50b29sQmFyID4gLnVwbG9hZCB7XG4gICAgICAgIG1hcmdpbjogMCAxcmVtIDAgYXV0bztcbiAgICB9XG4gICAgLnRvb2xCYXIgOmdsb2JhbChzdmcpIHtcbiAgICAgICAgdmVydGljYWwtYWxpZ246IC0wLjEyNWVtO1xuICAgIH1cbiAgICAubGV2ZWxDb2x1bW5zIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZmxleC13cmFwOiBub3dyYXA7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgICAgICBmbGV4LWdyb3c6IDM7XG4gICAgICAgIGJvcmRlci1sZWZ0OiB2YXIoLS1icy1ib3JkZXItc3R5bGUpIHZhcigtLWJzLWJvcmRlci1jb2xvcikgdmFyKC0tYnMtYm9yZGVyLXdpZHRoKTtcbiAgICAgICAgdXNlci1zZWxlY3Q6IG5vbmU7XG4gICAgfVxuXG4gICAgLmxldmVsQ29sdW1uIHtcbiAgICAgICAgd2lkdGg6IDMyMHB4O1xuICAgICAgICBib3JkZXItcmlnaHQ6IHZhcigtLWJzLWJvcmRlci1zdHlsZSkgdmFyKC0tYnMtYm9yZGVyLXdpZHRoKVxuICAgICAgICAgICAgdmFyKC0tYnMtYm9yZGVyLWNvbG9yKTtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICB9XG5cbiAgICAubGV2ZWxUb29sYmFyIHtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIGhlaWdodDogMi41cmVtO1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gICAgICAgIHBhZGRpbmc6IDAuMzc1cmVtO1xuICAgICAgICBib3JkZXItYm90dG9tOiB2YXIoLS1icy1ib3JkZXItc3R5bGUpIHZhcigtLWJzLWJvcmRlci13aWR0aClcbiAgICAgICAgICAgIHZhcigtLWJzLWJvcmRlci1jb2xvcik7XG4gICAgfVxuICAgIC5sZXZlbFRvb2xiYXIgPiAubGV2ZWxBY3Rpb25zIHtcbiAgICAgICAgbWFyZ2luLWxlZnQ6IGF1dG87XG4gICAgfVxuXG4gICAgLmxldmVsSXRlbXMge1xuICAgICAgICBvdmVyZmxvdy14OiBhdXRvO1xuICAgIH1cbiAgICAuY29udGVudEl0ZW0ge1xuICAgICAgICAvKiBwYWRkaW5nOiAxcmVtIDFyZW07ICovXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgICAgICAgZm9udC1zaXplOiA5MCU7XG4gICAgICAgIG1pbi1oZWlnaHQ6IDJyZW07XG4gICAgfVxuICAgIC5jb250ZW50SXRlbTpmb2N1cy12aXNpYmxlIHtcbiAgICAgICAgb3V0bGluZTpub25lO1xuICAgIH1cbiAgICAuY29udGVudEl0ZW0uZXZlbiB7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWJzLXNlY29uZGFyeS1iZyk7XG4gICAgfVxuICAgIC5jb250ZW50SXRlbS5pblBhdGgsXG4gICAgLmNvbnRlbnRJdGVtOmZvY3VzIHtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSh2YXIoLS1icy1wcmltYXJ5LXJnYiksIDAuMTUpO1xuICAgIH1cbiAgICAuY29udGVudEl0ZW0uc2VsZWN0ZWRJdGVtIHtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tYnMtcHJpbWFyeSk7XG4gICAgICAgIGNvbG9yOiB2YXIoLS1icy1ib2R5LWJnKTtcbiAgICB9XG4gICAgLmNvbnRlbnRJdGVtID4gKiB7XG4gICAgICAgIHBhZGRpbmc6IDAuNXJlbTtcbiAgICAgICAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgICAgICAgbWF4LXdpZHRoOiA0NTBweDtcbiAgICAgICAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG4gICAgICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgfVxuICAgIC5jb250ZW50SXRlbSA+IC5icm93c2VTdWIge1xuICAgICAgICBmbGV4LXNocmluazogMDtcbiAgICB9XG5cbiAgICAuY29udGVudEl0ZW0gLmdyaWQtcHJldmlldyA+IGltZyB7XG4gICAgICAgIHdpZHRoOiA5NXB4O1xuICAgICAgICBoZWlnaHQ6IDk1cHg7XG4gICAgICAgIG9iamVjdC1maXQ6IGNvdmVyO1xuICAgICAgICBmbG9hdDogbGVmdDtcbiAgICAgICAgbWFyZ2luLXJpZ2h0OiAxcmVtO1xuICAgIH1cbiAgICAucHJldmlldyB7XG4gICAgICAgIHdpZHRoOiAzMjBweDtcbiAgICAgICAgbWluLWhlaWdodDogMzAwcHg7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgfVxuICAgIC5wcmV2aWV3IC5pbmZvIHtcbiAgICAgICAgcGFkZGluZzogMC41cmVtO1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgd29yZC13cmFwOiBhbnl3aGVyZTtcbiAgICB9XG4gICAgLnByZXZpZXcgLmluZm8gLnByZXZpZXdJY29uIHtcbiAgICAgICAgbWFyZ2luOiAwIGF1dG8gMXJlbSBhdXRvO1xuICAgIH1cbiAgICAucHJldmlldyAuaW5mbyAucHJldmlld0ljb24gc3ZnIHtcbiAgICAgICAgd2lkdGg6IDUwcHggIWltcG9ydGFudDtcbiAgICAgICAgaGVpZ2h0OiA1MHB4ICFpbXBvcnRhbnQ7XG4gICAgfVxuICAgIC5wcmV2aWV3IGg0IHtcbiAgICAgICAgZm9udC1zaXplOiAxLjIgcmVtO1xuICAgIH1cbiAgICAucHJldmlldyBpbWcge1xuICAgICAgICBtYXgtd2lkdGg6IDEwMCU7XG4gICAgICAgIG1heC13aWR0aDogMTAwJTtcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogMC41cmVtO1xuICAgIH1cblxuICAgIC51cGxvYWQtd3JhcHBlciB7XG4gICAgICAgIHBhZGRpbmc6IDFyZW07XG4gICAgICAgIHdpZHRoOiA1OTBweDtcbiAgICAgICAgb3ZlcmZsb3cteDogYXV0bztcbiAgICB9XG4gICAgLmxvYWRtb3JlIHtcbiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICBwYWRkaW5nOiAwLjI1cmVtIDA7XG4gICAgfVxuPC9zdHlsZT5cbiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUEwaUJJLDhFQUFrQyxDQUM5QixRQUFRLENBQUUsS0FBSyxDQUNmLEdBQUcsQ0FBRSxDQUFDLENBQ04sS0FBSyxDQUFFLENBQUMsQ0FDUixPQUFPLENBQUUsSUFBSSxDQUNiLGVBQWUsQ0FBRSxHQUFHLENBQ3BCLE9BQU8sQ0FBRSxJQUFJLENBQ2IsS0FBSyxDQUFFLElBQUksQ0FDWCxNQUFNLENBQUUsS0FBSyxDQUNiLGdCQUFnQixDQUFFLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUN4QyxDQUNBLG9EQUFRLENBQ0osa0JBQWtCLENBQUUsT0FBTyxDQUMzQixrQkFBa0IsQ0FBRSxNQUFNLENBQzFCLGtCQUFrQixDQUFFLE9BQ3hCLENBQ0EsNkRBQWlCLENBQ2IsTUFBTSxDQUFFLEtBQUssQ0FDYixTQUFTLENBQUUsS0FBSyxDQUNoQixnQkFBZ0IsQ0FBRSxJQUFJLG9CQUFvQixDQUFDLENBQzNDLFdBQVcsQ0FBRSxJQUFJLGlCQUFpQixDQUFDLENBQUMsSUFBSSxpQkFBaUIsQ0FBQyxDQUFDLElBQUksQ0FDL0QsT0FBTyxDQUFFLElBQUksQ0FDYixPQUFPLENBQUUsSUFBSSxDQUNiLGNBQWMsQ0FBRSxNQUNwQixDQUNBLHFEQUFTLENBQ0wsZ0JBQWdCLENBQUUsSUFBSSxZQUFZLENBQUMsQ0FDbkMsT0FBTyxDQUFFLFFBQVEsQ0FBQyxPQUFPLENBQ3pCLEtBQUssQ0FBRSxJQUFJLFVBQVUsQ0FBQyxDQUN0QixLQUFLLENBQUUsSUFBSSxDQUNYLE9BQU8sQ0FBRSxJQUFJLENBQ2IsZUFBZSxDQUFFLGFBQ3JCLENBQ0EsdUJBQVEsQ0FBRyxxQ0FBUSxDQUNmLE1BQU0sQ0FBRSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxJQUNyQixDQUNBLHVCQUFRLENBQVMsR0FBSyxDQUNsQixjQUFjLENBQUUsUUFDcEIsQ0FDQSwwREFBYyxDQUNWLE9BQU8sQ0FBRSxJQUFJLENBQ2IsU0FBUyxDQUFFLE1BQU0sQ0FDakIsS0FBSyxDQUFFLElBQUksQ0FDWCxRQUFRLENBQUUsTUFBTSxDQUNoQixTQUFTLENBQUUsQ0FBQyxDQUNaLFdBQVcsQ0FBRSxJQUFJLGlCQUFpQixDQUFDLENBQUMsSUFBSSxpQkFBaUIsQ0FBQyxDQUFDLElBQUksaUJBQWlCLENBQUMsQ0FDakYsV0FBVyxDQUFFLElBQ2pCLENBRUEseURBQWEsQ0FDVCxLQUFLLENBQUUsS0FBSyxDQUNaLFlBQVksQ0FBRSxJQUFJLGlCQUFpQixDQUFDLENBQUMsSUFBSSxpQkFBaUIsQ0FBQztBQUNuRSxZQUFZLElBQUksaUJBQWlCLENBQUMsQ0FDMUIsT0FBTyxDQUFFLElBQUksQ0FDYixjQUFjLENBQUUsTUFDcEIsQ0FFQSwwREFBYyxDQUNWLEtBQUssQ0FBRSxJQUFJLENBQ1gsTUFBTSxDQUFFLE1BQU0sQ0FDZCxPQUFPLENBQUUsSUFBSSxDQUNiLGVBQWUsQ0FBRSxhQUFhLENBQzlCLE9BQU8sQ0FBRSxRQUFRLENBQ2pCLGFBQWEsQ0FBRSxJQUFJLGlCQUFpQixDQUFDLENBQUMsSUFBSSxpQkFBaUIsQ0FBQztBQUNwRSxZQUFZLElBQUksaUJBQWlCLENBQzdCLENBQ0EsNEJBQWEsQ0FBRywyQ0FBYyxDQUMxQixXQUFXLENBQUUsSUFDakIsQ0FFQSx3REFBWSxDQUNSLFVBQVUsQ0FBRSxJQUNoQixDQUNBLHlEQUFhLENBRVQsT0FBTyxDQUFFLElBQUksQ0FDYixXQUFXLENBQUUsTUFBTSxDQUNuQixlQUFlLENBQUUsYUFBYSxDQUM5QixTQUFTLENBQUUsR0FBRyxDQUNkLFVBQVUsQ0FBRSxJQUNoQixDQUNBLHlEQUFZLGNBQWUsQ0FDdkIsUUFBUSxJQUNaLENBQ0EsWUFBWSxrREFBTSxDQUNkLGdCQUFnQixDQUFFLElBQUksaUJBQWlCLENBQzNDLENBQ0EsWUFBWSxvREFBTyxDQUNuQix5REFBWSxNQUFPLENBQ2YsZ0JBQWdCLENBQUUsS0FBSyxJQUFJLGdCQUFnQixDQUFDLENBQUMsQ0FBQyxJQUFJLENBQ3RELENBQ0EsWUFBWSwwREFBYyxDQUN0QixnQkFBZ0IsQ0FBRSxJQUFJLFlBQVksQ0FBQyxDQUNuQyxLQUFLLENBQUUsSUFBSSxZQUFZLENBQzNCLENBQ0EsMkJBQVksQ0FBRyw4QkFBRSxDQUNiLE9BQU8sQ0FBRSxNQUFNLENBQ2YsV0FBVyxDQUFFLE1BQU0sQ0FDbkIsU0FBUyxDQUFFLEtBQUssQ0FDaEIsYUFBYSxDQUFFLFFBQVEsQ0FDdkIsUUFBUSxDQUFFLE1BQ2QsQ0FDQSwyQkFBWSxDQUFHLHdDQUFXLENBQ3RCLFdBQVcsQ0FBRSxDQUNqQixDQUVBLDJCQUFZLENBQUMsNEJBQWEsQ0FBRyxrQkFBSSxDQUM3QixLQUFLLENBQUUsSUFBSSxDQUNYLE1BQU0sQ0FBRSxJQUFJLENBQ1osVUFBVSxDQUFFLEtBQUssQ0FDakIsS0FBSyxDQUFFLElBQUksQ0FDWCxZQUFZLENBQUUsSUFDbEIsQ0FDQSxxREFBUyxDQUNMLEtBQUssQ0FBRSxLQUFLLENBQ1osVUFBVSxDQUFFLEtBQUssQ0FDakIsT0FBTyxDQUFFLElBQUksQ0FDYixjQUFjLENBQUUsTUFBTSxDQUN0QixXQUFXLENBQUUsTUFDakIsQ0FDQSx1QkFBUSxDQUFDLG1DQUFNLENBQ1gsT0FBTyxDQUFFLE1BQU0sQ0FDZixLQUFLLENBQUUsSUFBSSxDQUNYLFNBQVMsQ0FBRSxRQUNmLENBQ0EsdUJBQVEsQ0FBQyxLQUFLLENBQUMsMENBQWEsQ0FDeEIsTUFBTSxDQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQ3hCLENBQ0EsdUJBQVEsQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLGlDQUFJLENBQzVCLEtBQUssQ0FBRSxJQUFJLENBQUMsVUFBVSxDQUN0QixNQUFNLENBQUUsSUFBSSxDQUFDLFVBQ2pCLENBQ0EsdUJBQVEsQ0FBQyxnQ0FBRyxDQUNSLFNBQVMsQ0FBRSxHQUFHLENBQUMsR0FDbkIsQ0FDQSx1QkFBUSxDQUFDLGlDQUFJLENBQ1QsU0FBUyxDQUFFLElBQUksQ0FDZixTQUFTLENBQUUsSUFBSSxDQUNmLGFBQWEsQ0FBRSxNQUNuQixDQUVBLDREQUFnQixDQUNaLE9BQU8sQ0FBRSxJQUFJLENBQ2IsS0FBSyxDQUFFLEtBQUssQ0FDWixVQUFVLENBQUUsSUFDaEIsQ0FDQSxzREFBVSxDQUNOLFVBQVUsQ0FBRSxNQUFNLENBQ2xCLE9BQU8sQ0FBRSxPQUFPLENBQUMsQ0FDckIifQ==*/"],sourceRoot:""}]),A.A=t},94441:function(g,A,I){var C=I(71354),e=I.n(C),l=I(76314),t=I.n(l)()(e());t.push([g.id,".content-browser-selected-items-wrapper.svelte-bljrxf.svelte-bljrxf.svelte-bljrxf{display:flex;align-items:start}.content-browser-selected-items.svelte-bljrxf.svelte-bljrxf.svelte-bljrxf{list-style:none;background-color:var(--bs-body-bg);border-radius:var(--bs-border-radius) 0 0 var(--bs-border-radius);border:var(--bs-border-style) var(--bs-border-color) var(--bs-border-width);min-height:2.4rem;padding:.5rem .5rem 0 .5rem;flex:1 1 auto}.content-browser-selected-items.svelte-bljrxf .selected-item.svelte-bljrxf.svelte-bljrxf{border-radius:var(--bs-border-radius);background-color:var(--bs-tertiary-bg);border:var(--bs-border-style) var(--bs-border-color) var(--bs-border-width);padding:.5rem;margin-bottom:.5rem;display:flex;flex-wrap:nowrap;align-items:start;justify-content:space-between;cursor:move}.content-browser-selected-items.svelte-bljrxf .selected-item.svelte-bljrxf>.svelte-bljrxf{margin-right:.5rem;display:block}.content-browser-selected-items.svelte-bljrxf .selected-item button.svelte-bljrxf.svelte-bljrxf{cursor:pointer;padding:0 .375rem .374rem 0}.content-browser-selected-items.svelte-bljrxf .selected-item .item-info.svelte-bljrxf.svelte-bljrxf{display:flex;align-items:start}.content-browser-selected-items.svelte-bljrxf .selected-item.svelte-bljrxf>img.svelte-bljrxf{object-fit:cover;width:95px;height:95px}","",{version:3,sources:["webpack://./src/pat/contentbrowser/src/SelectedItems.svelte"],names:[],mappings:"AAAA,kFAAA,YAAA,CAAA,iBAAA,CAAA,0EAAA,eAAA,CAAA,kCAAA,CAAA,iEAAA,CAAA,2EAAA,CAAA,iBAAA,CAAA,2BAAA,CAAA,aAAA,CAAA,yFAAA,qCAAA,CAAA,sCAAA,CAAA,2EAAA,CAAA,aAAA,CAAA,mBAAA,CAAA,YAAA,CAAA,gBAAA,CAAA,iBAAA,CAAA,6BAAA,CAAA,WAAA,CAAA,0FAAA,kBAAA,CAAA,aAAA,CAAA,gGAAA,cAAA,CAAA,2BAAA,CAAA,oGAAA,YAAA,CAAA,iBAAA,CAAA,6FAAA,gBAAA,CAAA,UAAA,CAAA,WAAA",sourcesContent:[".content-browser-selected-items-wrapper.svelte-bljrxf.svelte-bljrxf.svelte-bljrxf{display:flex;align-items:start}.content-browser-selected-items.svelte-bljrxf.svelte-bljrxf.svelte-bljrxf{list-style:none;background-color:var(--bs-body-bg);border-radius:var(--bs-border-radius) 0 0 var(--bs-border-radius);border:var(--bs-border-style) var(--bs-border-color) var(--bs-border-width);min-height:2.4rem;padding:0.5rem 0.5rem 0 0.5rem;flex:1 1 auto}.content-browser-selected-items.svelte-bljrxf .selected-item.svelte-bljrxf.svelte-bljrxf{border-radius:var(--bs-border-radius);background-color:var(--bs-tertiary-bg);border:var(--bs-border-style) var(--bs-border-color) var(--bs-border-width);padding:0.5rem;margin-bottom:0.5rem;display:flex;flex-wrap:nowrap;align-items:start;justify-content:space-between;cursor:move}.content-browser-selected-items.svelte-bljrxf .selected-item.svelte-bljrxf>.svelte-bljrxf{margin-right:0.5rem;display:block}.content-browser-selected-items.svelte-bljrxf .selected-item button.svelte-bljrxf.svelte-bljrxf{cursor:pointer;padding:0 0.375rem 0.374rem 0}.content-browser-selected-items.svelte-bljrxf .selected-item .item-info.svelte-bljrxf.svelte-bljrxf{display:flex;align-items:start}.content-browser-selected-items.svelte-bljrxf .selected-item.svelte-bljrxf>img.svelte-bljrxf{object-fit:cover;width:95px;height:95px}\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU2VsZWN0ZWRJdGVtcy5zdmVsdGUiLCJzb3VyY2VzIjpbIlNlbGVjdGVkSXRlbXMuc3ZlbHRlIl0sInNvdXJjZXNDb250ZW50IjpbIjxzY3JpcHQ+XG4gICAgaW1wb3J0IHsgZ2V0Q29udGV4dCwgb25Nb3VudCB9IGZyb20gXCJzdmVsdGVcIjtcbiAgICBpbXBvcnQgeyBmbGlwIH0gZnJvbSBcInN2ZWx0ZS9hbmltYXRlXCI7XG4gICAgaW1wb3J0IHsgZ2V0X2l0ZW1zX2Zyb21fdWlkcywgcmVzb2x2ZUljb24gfSBmcm9tIFwiLi91dGlscy5qc1wiO1xuICAgIGltcG9ydCBTb3J0YWJsZSBmcm9tIFwic29ydGFibGVqc1wiO1xuICAgIGltcG9ydCBfdCBmcm9tIFwiLi4vLi4vLi4vY29yZS9pMThuLXdyYXBwZXJcIjtcblxuICAgIGxldCByZWY7XG4gICAgbGV0IGluaXRpYWxpemluZyA9IHRydWU7XG5cbiAgICAvLyBnZXQgcmVhY3RpdmUgY29udGV4dCBjb25maWdcbiAgICBjb25zdCBjb25maWcgPSBnZXRDb250ZXh0KFwiY29uZmlnXCIpO1xuICAgIGNvbnN0IGZpZWxkSWQgPSAkY29uZmlnLmZpZWxkSWQ7XG4gICAgY29uc3Qgc2VsZWN0ZWRJdGVtc05vZGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChmaWVsZElkKTtcblxuICAgIC8vIGdldCByZWFjdGl2ZSBjb250ZXh0IHN0b3JlXG4gICAgY29uc3Qgc2VsZWN0ZWRJdGVtcyA9IGdldENvbnRleHQoXCJzZWxlY3RlZEl0ZW1zXCIpO1xuICAgIGNvbnN0IHNlbGVjdGVkVWlkcyA9IGdldENvbnRleHQoXCJzZWxlY3RlZFVpZHNcIik7XG5cbiAgICAvLyBzaG93Q29udGVudEJyb3dzZXIgcmVhY3RpdmUgc3RhdGVcbiAgICBjb25zdCBzaG93Q29udGVudEJyb3dzZXIgPSBnZXRDb250ZXh0KFwic2hvd0NvbnRlbnRCcm93c2VyXCIpO1xuXG4gICAgZnVuY3Rpb24gZXZlbnRfZGlzcGF0Y2gobmFtZSwgZGV0YWlsKSB7XG4gICAgICAgIGNvbnN0IGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KG5hbWUsIHtcbiAgICAgICAgICAgIGRldGFpbDoge1xuICAgICAgICAgICAgICAgIGNvbnRlbnQ6IGRldGFpbCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBidWJibGVzOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gICAgfVxuXG4gICAgb25Nb3VudChhc3luYyAoKSA9PiB7XG4gICAgICAgIGF3YWl0IGluaXRpYWxpemVTZWxlY3RlZEl0ZW1zU3RvcmUoKTtcbiAgICAgICAgaW5pdGlhbGl6ZVNvcnRpbmcoKTtcbiAgICAgICAgaW5pdGlhbGl6aW5nID0gZmFsc2U7XG4gICAgfSk7XG5cbiAgICBmdW5jdGlvbiB1bnNlbGVjdEl0ZW0oaSkge1xuICAgICAgICBzZWxlY3RlZEl0ZW1zLnVwZGF0ZSgobikgPT4ge1xuICAgICAgICAgICAgbi5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICByZXR1cm4gbjtcbiAgICAgICAgfSk7XG4gICAgICAgIHNlbGVjdGVkVWlkcy51cGRhdGUoKCkgPT4gJHNlbGVjdGVkSXRlbXMubWFwKCh4KSA9PiB4LlVJRCkpO1xuICAgIH1cblxuICAgIGFzeW5jIGZ1bmN0aW9uIGluaXRpYWxpemVTZWxlY3RlZEl0ZW1zU3RvcmUoKSB7XG4gICAgICAgIGNvbnN0IGluaXRpYWxWYWx1ZSA9ICRjb25maWcuc2VsZWN0aW9uLmxlbmd0aFxuICAgICAgICAgICAgPyAkY29uZmlnLnNlbGVjdGlvblxuICAgICAgICAgICAgOiBzZWxlY3RlZEl0ZW1zTm9kZT8udmFsdWVcbiAgICAgICAgICAgICAgPyBzZWxlY3RlZEl0ZW1zTm9kZS52YWx1ZS5zcGxpdCgkY29uZmlnLnNlcGFyYXRvcilcbiAgICAgICAgICAgICAgOiBbXTtcblxuICAgICAgICBpZiAoIWluaXRpYWxWYWx1ZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHNlbGVjdGVkSXRlbXNVaWRzID0gYXdhaXQgZ2V0X2l0ZW1zX2Zyb21fdWlkcyhpbml0aWFsVmFsdWUsICRjb25maWcpO1xuICAgICAgICAkc2VsZWN0ZWRJdGVtcyA9IHNlbGVjdGVkSXRlbXNVaWRzO1xuICAgICAgICBzZWxlY3RlZFVpZHMudXBkYXRlKCgpID0+IHNlbGVjdGVkSXRlbXNVaWRzLm1hcCgoeCkgPT4geC5VSUQpKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbml0aWFsaXplU29ydGluZygpIHtcbiAgICAgICAgaWYgKCRjb25maWcubWF4aW11bVNlbGVjdGlvblNpemUgIT09IDEgJiYgJHNlbGVjdGVkSXRlbXMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgU29ydGFibGUuY3JlYXRlKFxuICAgICAgICAgICAgICAgIHNlbGVjdGVkSXRlbXNOb2RlLnByZXZpb3VzU2libGluZy5xdWVyeVNlbGVjdG9yKFxuICAgICAgICAgICAgICAgICAgICBcIi5jb250ZW50LWJyb3dzZXItc2VsZWN0ZWQtaXRlbXNcIixcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZHJhZ2dhYmxlOiBcIi5zZWxlY3RlZC1pdGVtXCIsXG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbjogMjAwLFxuICAgICAgICAgICAgICAgICAgICBvblVwZGF0ZTogKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzb3J0ZWRVdWlkcyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBlbCBvZiBlLnRhcmdldC5jaGlsZHJlbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvcnRlZFV1aWRzLnB1c2goZWwuZGF0YXNldFtcInV1aWRcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Tm9kZVZhbHVlKHNvcnRlZFV1aWRzKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNlbGVjdGVkVWlkc0Zyb21TZWxlY3RlZEl0ZW1zKCkge1xuICAgICAgICBsZXQgaXRlbXMgPSBbXTtcbiAgICAgICAgJHNlbGVjdGVkSXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgaXRlbXMucHVzaChpdGVtLlVJRCk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gaXRlbXM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0Tm9kZVZhbHVlKHNlbGVjdGVkVWlkcykge1xuICAgICAgICBjb25zdCBub2RlX3ZhbCA9IHNlbGVjdGVkVWlkcy5qb2luKCRjb25maWcuc2VwYXJhdG9yKTtcbiAgICAgICAgc2VsZWN0ZWRJdGVtc05vZGUudmFsdWUgPSBub2RlX3ZhbDtcbiAgICB9XG5cbiAgICAkOiB7XG4gICAgICAgICRzZWxlY3RlZEl0ZW1zO1xuICAgICAgICBpZiAoJHNlbGVjdGVkSXRlbXMubGVuZ3RoIHx8ICFpbml0aWFsaXppbmcpIHtcbiAgICAgICAgICAgIHNldE5vZGVWYWx1ZShzZWxlY3RlZFVpZHNGcm9tU2VsZWN0ZWRJdGVtcygpKTtcbiAgICAgICAgICAgIGluaXRpYWxpemVTb3J0aW5nKCk7XG4gICAgICAgICAgICBldmVudF9kaXNwYXRjaChcInVwZGF0ZVNlbGVjdGlvblwiLCBzZWxlY3RlZFVpZHMpO1xuICAgICAgICB9XG4gICAgfVxuPC9zY3JpcHQ+XG5cbjxkaXYgY2xhc3M9XCJjb250ZW50LWJyb3dzZXItc2VsZWN0ZWQtaXRlbXMtd3JhcHBlclwiIGJpbmQ6dGhpcz17cmVmfT5cbiAgICA8IS0tIHttYXhTZWxlY3Rpb25zaXplfSAtLT5cbiAgICA8ZGl2IGNsYXNzPVwiY29udGVudC1icm93c2VyLXNlbGVjdGVkLWl0ZW1zXCI+XG4gICAgICAgIHsjaWYgJHNlbGVjdGVkSXRlbXN9XG4gICAgICAgICAgICB7I2VhY2ggJHNlbGVjdGVkSXRlbXMgYXMgc2VsSXRlbSwgaSAoc2VsSXRlbS5VSUQpfVxuICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJzZWxlY3RlZC1pdGVtXCJcbiAgICAgICAgICAgICAgICAgICAgYW5pbWF0ZTpmbGlwPXt7IGR1cmF0aW9uOiA1MDAgfX1cbiAgICAgICAgICAgICAgICAgICAgZGF0YS11dWlkPXtzZWxJdGVtLlVJRH1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpdGVtLWluZm9cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwhLS0gc3ZlbHRlLWlnbm9yZSBhMTF5LW1pc3NpbmctYXR0cmlidXRlIC0tPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiYnRuIGJ0bi1saW5rIGJ0bi1zbSBsaW5rLXNlY29uZGFyeVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb246Y2xpY2s9eygpID0+IHVuc2VsZWN0SXRlbShpKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PHN2ZyB1c2U6cmVzb2x2ZUljb249e3sgaWNvbk5hbWU6IFwieC1jaXJjbGVcIiB9fSAvPjwvYnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiaXRlbS10aXRsZVwiPntzZWxJdGVtLlRpdGxlfTwvc3Bhbj48YnIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInNtYWxsXCI+e3NlbEl0ZW0ucGF0aH08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIHsjaWYgc2VsSXRlbS5nZXRVUkwgJiYgKHNlbEl0ZW0uZ2V0SWNvbiB8fCBzZWxJdGVtLnBvcnRhbF90eXBlID09PSBcIkltYWdlXCIpfTxpbWdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcmM9XCJ7c2VsSXRlbS5nZXRVUkx9L0BAaW1hZ2VzL2ltYWdlL21pbmlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsdD17c2VsSXRlbS5UaXRsZX1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8+ey9pZn1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIHsvZWFjaH1cbiAgICAgICAgey9pZn1cbiAgICAgICAgeyNpZiAhJHNlbGVjdGVkSXRlbXN9XG4gICAgICAgICAgICA8cD57X3QoXCJsb2FkaW5nIHNlbGVjdGVkIGl0ZW1zXCIpfTwvcD5cbiAgICAgICAgey9pZn1cbiAgICA8L2Rpdj5cbiAgICA8YnV0dG9uXG4gICAgICAgIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCJcbiAgICAgICAgc3R5bGU9XCJib3JkZXItcmFkaXVzOjAgdmFyKC0tYnMtYm9yZGVyLXJhZGl1cykgdmFyKC0tYnMtYm9yZGVyLXJhZGl1cykgMFwiXG4gICAgICAgIGRpc2FibGVkPXskY29uZmlnLm1heGltdW1TZWxlY3Rpb25TaXplID4gMCAmJlxuICAgICAgICAgICAgKCRzZWxlY3RlZEl0ZW1zLmxlbmd0aCB8fCAwKSA+PSAkY29uZmlnLm1heGltdW1TZWxlY3Rpb25TaXplfVxuICAgICAgICBvbjpjbGlja3xwcmV2ZW50RGVmYXVsdD17KCkgPT4gKCRzaG93Q29udGVudEJyb3dzZXIgPSB0cnVlKX1cbiAgICAgICAgPntfdChcIlNlbGVjdFwiKX08L2J1dHRvblxuICAgID5cbjwvZGl2PlxuXG48c3R5bGU+XG4gICAgLmNvbnRlbnQtYnJvd3Nlci1zZWxlY3RlZC1pdGVtcy13cmFwcGVyIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgYWxpZ24taXRlbXM6IHN0YXJ0O1xuICAgIH1cbiAgICAuY29udGVudC1icm93c2VyLXNlbGVjdGVkLWl0ZW1zIHtcbiAgICAgICAgbGlzdC1zdHlsZTogbm9uZTtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tYnMtYm9keS1iZyk7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IHZhcigtLWJzLWJvcmRlci1yYWRpdXMpIDAgMCB2YXIoLS1icy1ib3JkZXItcmFkaXVzKTtcbiAgICAgICAgYm9yZGVyOiB2YXIoLS1icy1ib3JkZXItc3R5bGUpIHZhcigtLWJzLWJvcmRlci1jb2xvcikgdmFyKC0tYnMtYm9yZGVyLXdpZHRoKTtcbiAgICAgICAgbWluLWhlaWdodDogMi40cmVtO1xuICAgICAgICBwYWRkaW5nOiAwLjVyZW0gMC41cmVtIDAgMC41cmVtO1xuICAgICAgICBmbGV4OiAxIDEgYXV0bztcbiAgICB9XG4gICAgLmNvbnRlbnQtYnJvd3Nlci1zZWxlY3RlZC1pdGVtcyAuc2VsZWN0ZWQtaXRlbSB7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IHZhcigtLWJzLWJvcmRlci1yYWRpdXMpO1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1icy10ZXJ0aWFyeS1iZyk7XG4gICAgICAgIGJvcmRlcjogdmFyKC0tYnMtYm9yZGVyLXN0eWxlKSB2YXIoLS1icy1ib3JkZXItY29sb3IpIHZhcigtLWJzLWJvcmRlci13aWR0aCk7XG4gICAgICAgIHBhZGRpbmc6IDAuNXJlbTtcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogMC41cmVtO1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBmbGV4LXdyYXA6IG5vd3JhcDtcbiAgICAgICAgYWxpZ24taXRlbXM6IHN0YXJ0O1xuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gICAgICAgIGN1cnNvcjogbW92ZTtcbiAgICB9XG4gICAgLmNvbnRlbnQtYnJvd3Nlci1zZWxlY3RlZC1pdGVtcyAuc2VsZWN0ZWQtaXRlbSA+ICoge1xuICAgICAgICBtYXJnaW4tcmlnaHQ6IDAuNXJlbTtcbiAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgfVxuICAgIC5jb250ZW50LWJyb3dzZXItc2VsZWN0ZWQtaXRlbXMgLnNlbGVjdGVkLWl0ZW0gYnV0dG9uIHtcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICBwYWRkaW5nOiAwIDAuMzc1cmVtIDAuMzc0cmVtIDA7XG4gICAgfVxuICAgIC5jb250ZW50LWJyb3dzZXItc2VsZWN0ZWQtaXRlbXMgLnNlbGVjdGVkLWl0ZW0gLml0ZW0taW5mbyB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBzdGFydDtcbiAgICB9XG4gICAgLmNvbnRlbnQtYnJvd3Nlci1zZWxlY3RlZC1pdGVtcyAuc2VsZWN0ZWQtaXRlbSA+IGltZyB7XG4gICAgICAgIG9iamVjdC1maXQ6IGNvdmVyO1xuICAgICAgICB3aWR0aDogOTVweDtcbiAgICAgICAgaGVpZ2h0OiA5NXB4O1xuICAgIH1cbjwvc3R5bGU+XG4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBc0pJLGlGQUF3QyxDQUNwQyxPQUFPLENBQUUsSUFBSSxDQUNiLFdBQVcsQ0FBRSxLQUNqQixDQUNBLHlFQUFnQyxDQUM1QixVQUFVLENBQUUsSUFBSSxDQUNoQixnQkFBZ0IsQ0FBRSxJQUFJLFlBQVksQ0FBQyxDQUNuQyxhQUFhLENBQUUsSUFBSSxrQkFBa0IsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxrQkFBa0IsQ0FBQyxDQUNsRSxNQUFNLENBQUUsSUFBSSxpQkFBaUIsQ0FBQyxDQUFDLElBQUksaUJBQWlCLENBQUMsQ0FBQyxJQUFJLGlCQUFpQixDQUFDLENBQzVFLFVBQVUsQ0FBRSxNQUFNLENBQ2xCLE9BQU8sQ0FBRSxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQy9CLElBQUksQ0FBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQ2QsQ0FDQSw2Q0FBK0IsQ0FBQywwQ0FBZSxDQUMzQyxhQUFhLENBQUUsSUFBSSxrQkFBa0IsQ0FBQyxDQUN0QyxnQkFBZ0IsQ0FBRSxJQUFJLGdCQUFnQixDQUFDLENBQ3ZDLE1BQU0sQ0FBRSxJQUFJLGlCQUFpQixDQUFDLENBQUMsSUFBSSxpQkFBaUIsQ0FBQyxDQUFDLElBQUksaUJBQWlCLENBQUMsQ0FDNUUsT0FBTyxDQUFFLE1BQU0sQ0FDZixhQUFhLENBQUUsTUFBTSxDQUNyQixPQUFPLENBQUUsSUFBSSxDQUNiLFNBQVMsQ0FBRSxNQUFNLENBQ2pCLFdBQVcsQ0FBRSxLQUFLLENBQ2xCLGVBQWUsQ0FBRSxhQUFhLENBQzlCLE1BQU0sQ0FBRSxJQUNaLENBQ0EsNkNBQStCLENBQUMsNEJBQWMsQ0FBRyxjQUFFLENBQy9DLFlBQVksQ0FBRSxNQUFNLENBQ3BCLE9BQU8sQ0FBRSxLQUNiLENBQ0EsNkNBQStCLENBQUMsY0FBYyxDQUFDLGtDQUFPLENBQ2xELE1BQU0sQ0FBRSxPQUFPLENBQ2YsT0FBTyxDQUFFLENBQUMsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLENBQ2pDLENBQ0EsNkNBQStCLENBQUMsY0FBYyxDQUFDLHNDQUFXLENBQ3RELE9BQU8sQ0FBRSxJQUFJLENBQ2IsV0FBVyxDQUFFLEtBQ2pCLENBQ0EsNkNBQStCLENBQUMsNEJBQWMsQ0FBRyxpQkFBSSxDQUNqRCxVQUFVLENBQUUsS0FBSyxDQUNqQixLQUFLLENBQUUsSUFBSSxDQUNYLE1BQU0sQ0FBRSxJQUNaIn0=*/"],sourceRoot:""}]),A.A=t},39191:function(g,A,I){I.r(A),I.d(A,{default:function(){return Xg}});var C=I(43467),e=(I(2531),I(23505)),l=I(41949),t=I(8633),i=I(78836),c=I(95669),s=I(61751),b=I(8936),d=I(54603),n=I(49264);async function a(g){let{method:A="GET",vocabularyUrl:I=null,attributes:C=[],path:e=null,uids:l=null,searchTerm:t=null,searchPath:i=null,levelInfoPath:c=null,selectableTypes:s=[],pageSize:b=100,page:d=1}=g,n={criteria:[]};if(e&&(n={criteria:[{i:"path",o:"plone.app.querystring.operation.string.path",v:`${e}::1`}],sort_on:"getObjPositionInParent",sort_order:"ascending"}),c&&(n={criteria:[{i:"path",o:"plone.app.querystring.operation.string.path",v:`${c}::0`}]}),i&&(n={criteria:[{i:"path",o:"plone.app.querystring.operation.string.path",v:i}]},s&&n.criteria.push({i:"portal_type",o:"plone.app.querystring.operation.list.contains",v:s})),l&&(n={criteria:[{i:"UID",o:"plone.app.querystring.operation.list.contains",v:l}]}),t&&n.criteria.push({i:"SearchableText",o:"plone.app.querystring.operation.string.contains",v:`${t}`}),!n.criteria.length)return{results:[],total:0};console.log(n);let a=`${I}&query=${JSON.stringify(n)}&attributes=${JSON.stringify(C)}&batch=${JSON.stringify({page:d,size:b})}`,u=new Headers;u.set("Accept","application/json");const G=await fetch(a,{method:A,headers:u}),o=await G.json();if(G.ok){if(!i&&!c&&s.length){const g={results:[],total:o.total};for(const A of o.results)(-1!=s.indexOf(A.portal_type)||A.is_folderish)&&g.results.push(A);return g}return o}return{results:[],total:0,errors:o.errors}}async function u(g,A){if(!g)return[];const I=await a({vocabularyUrl:A.vocabularyUrl,attributes:A.attributes,uids:g});let C=await(I?.results)||[];return C.sort(((A,I)=>g.indexOf(A.UID)-g.indexOf(I.UID))),C}async function G(g,A){let{iconName:I}=A;const C=await async function(g){return await n.A.resolveIcon(g)}(I);return g.outerHTML=C,{destroy(){}}}function o(g){const A=A=>{g&&!g.contains(A.target)&&g.dispatchEvent(new CustomEvent("click_outside",g))};return document.addEventListener("click",A,!0),{destroy(){document.removeEventListener("click",A,!0)}}}function r(g,A){const I=(0,d.T5)([]),C=async A=>(A={...{vocabularyUrl:g.vocabularyUrl,attributes:g.attributes,pageSize:g.pageSize},...A},g.selectableTypes.length&&(A.selectableTypes=g.selectableTypes),await a(A));return I.get=async e=>{let{path:l="",searchTerm:t="",updateCache:i=!1,loadMorePath:c="",page:s=1}=e;const b=new URL(g.base_url).pathname;if("search"===g.mode)await(async(A,e,l)=>{let t={searchPath:A,page:l};e&&(t.searchTerm="*"+e+"*");let i=await C(t);i.page=l,i.searchTerm=e,I.update((A=>{const I=l*g.pageSize<i.total;return 0==A.length||A[0].searchTerm!=e?(i.more=I,i.selectable=!1,i.gridView=!1,[i]):(A[0].more=I,A[0].page=i.page,A[0].results=[...A[0].results,...i.results],A)}))})(b,t,s);else if(c){const e=(0,d.Jt)(A);if(!(c in e))return;let l=e[c];s>l.page&&await(async(A,e,l)=>{let t={path:A,page:e};l&&(t.searchTerm="*"+l+"*");let i=await C(t);i.more=e*g.pageSize<i.total,i.page=e,I.update((g=>(g.forEach((g=>{if(g.path!=A)return g;g.page=i.page,g.more=i.more,g.results=[...g.results,...i.results]})),g)))})(c,s,l.searchTerm)}else l&&(l=l.replace(new RegExp(`^${b}`),""),await(async(e,l,t,i)=>{let c=[],s=l.split("/")||[];const b=s.length>=g.maxDepth?g.maxDepth:s.length;let n=s.slice(s.length-b,s.length);const a=e+s.slice(0,s.length-b).join("/"),u=(0,d.Jt)(A);for(;n.length>0;){let g=n.join("/").replace(/^\//,"");g=a+(""!=n.pop()?`/${g}`:""),-1===c.indexOf(g)&&c.push(g)}let G=[],o=0;for(var r of c){o++;const I=1==o;let l={};if(!(r in u)||I&&t||i){let i={path:r};if(I&&t&&(i.searchTerm="*"+t+"*"),l=await C(i),l.more=g.pageSize<l.total,l.searchTerm=t,l.page=1,l.path=r,l.absPath=r.replace(e,""),!t){const I=await C({levelInfoPath:r});I.total&&(l.UID=I.results[0].UID,l.Title=I.results[0].Title,l.selectable=!g.selectableTypes.length||-1!=g.selectableTypes.indexOf(I.results[0].portal_type)),l.gridView=!1,A.update((g=>(g[r]=l,g)))}}else l=u[r];G=[l,...G]}I.set(G)})(b,l,t,i))},I}var B=I(85072),m=I.n(B),Z=I(97825),x=I.n(Z),X=I(55056),p=I.n(X),V=I(10540),F=I.n(V),Q=I(41113),W=I.n(Q),v=I(44278),y={};y.styleTagTransform=W(),y.setAttributes=p(),y.insert=function(g){var A=document.head.querySelectorAll("*")[0];A?document.head.insertBefore(g,A):document.head.append(g)},y.domAPI=x(),y.insertStyleElement=F();m()(v.A,y),v.A&&v.A.locals&&v.A.locals;function N(g,A,I){const C=g.slice();return C[46]=A[I],C[47]=A,C[48]=I,C}function U(g,A,I){const C=g.slice();return C[49]=A[I],C[51]=I,C}function h(g){let A,I,e,l,t,i,s,b,d,n,a,u,r,B,m,Z,x,X,p,V,F,Q=g[6].uploadEnabled&&R(g),W={ctx:g,current:null,token:null,hasCatch:!0,pending:gg,then:w,catch:Y,value:45,error:52};return(0,C.vBd)(Z=g[1],W),{c(){A=(0,C.ND4)("div"),I=(0,C.ND4)("nav"),e=(0,C.ND4)("div"),l=(0,C.ND4)("div"),t=(0,C.ND4)("input"),i=(0,C.xem)(),s=(0,C.ND4)("label"),b=(0,C.QQy)("svg"),n=(0,C.xem)(),Q&&Q.c(),a=(0,C.xem)(),u=(0,C.ND4)("button"),r=(0,C.QQy)("svg"),m=(0,C.xem)(),W.block.c(),(0,C.CFu)(t,"type","text"),(0,C.CFu)(t,"name","filter"),(0,C.CFu)(s,"for","filter"),(0,C.CFu)(l,"class","filter"),(0,C.CFu)(u,"class","btn btn-link text-white"),(0,C.CFu)(u,"tabindex","0"),(0,C.CFu)(e,"class","toolBar navbar svelte-1nidsbj"),(0,C.CFu)(I,"class","content-browser svelte-1nidsbj"),(0,C.CFu)(A,"class","content-browser-position-wrapper svelte-1nidsbj")},m(c,Z){(0,C.Yry)(c,A,Z),(0,C.BCw)(A,I),(0,C.BCw)(I,e),(0,C.BCw)(e,l),(0,C.BCw)(l,t),(0,C.BCw)(l,i),(0,C.BCw)(l,s),(0,C.BCw)(s,b),(0,C.BCw)(e,n),Q&&Q.m(e,null),(0,C.BCw)(e,a),(0,C.BCw)(e,u),(0,C.BCw)(u,r),(0,C.BCw)(I,m),W.block.m(I,W.anchor=null),W.mount=()=>I,W.anchor=null,p=!0,V||(F=[(0,C.KTR)(t,"input",g[26]),(0,C.hGc)(d=G.call(null,b,{iconName:"search"})),(0,C.hGc)(B=G.call(null,r,{iconName:"x-circle"})),(0,C.KTR)(u,"click",(0,C.xZN)(g[28])),(0,C.KTR)(I,"introend",g[37]),(0,C.hGc)(x=o.call(null,I)),(0,C.KTR)(I,"click_outside",g[22])],V=!0)},p(A,I){(g=A)[6].uploadEnabled?Q?Q.p(g,I):(Q=R(g),Q.c(),Q.m(e,a)):Q&&(Q.d(1),Q=null),W.ctx=g,2&I[0]&&Z!==(Z=g[1])&&(0,C.vBd)(Z,W)||(0,C._6B)(W,g,I)},i(A){p||(A&&(0,C.Dti)((()=>{p&&(X||(X=(0,C.h86)(I,c._J,{x:g[14]/100*94,opacity:1},!0)),X.run(1))})),p=!0)},o(A){A&&(X||(X=(0,C.h86)(I,c._J,{x:g[14]/100*94,opacity:1},!1)),X.run(0)),p=!1},d(g){g&&(0,C.YoD)(A),Q&&Q.d(),W.block.d(),W.token=null,W=null,g&&X&&X.end(),V=!1,(0,C.oOW)(F)}}}function R(g){let A,I,e,l,t,i,c,b=(0,s.Ay)("upload to ${current_path}",{current_path:g[2]})+"";return{c(){A=(0,C.ND4)("button"),I=(0,C.QQy)("svg"),l=(0,C.xem)(),t=(0,C.Qq7)(b),(0,C.CFu)(A,"type","button"),(0,C.CFu)(A,"class","upload btn btn-secondary btn-sm svelte-1nidsbj"),(0,C.CFu)(A,"tabindex","0")},m(s,b){(0,C.Yry)(s,A,b),(0,C.BCw)(A,I),(0,C.BCw)(A,l),(0,C.BCw)(A,t),i||(c=[(0,C.hGc)(e=G.call(null,I,{iconName:"upload"})),(0,C.KTR)(A,"keydown",g[15]),(0,C.KTR)(A,"click",g[15])],i=!0)},p(g,A){4&A[0]&&b!==(b=(0,s.Ay)("upload to ${current_path}",{current_path:g[2]})+"")&&(0,C.iQh)(t,b)},d(g){g&&(0,C.YoD)(A),i=!1,(0,C.oOW)(c)}}}function Y(g){let A,I,e=g[52].message+"";return{c(){A=(0,C.ND4)("p"),I=(0,C.Qq7)(e),(0,C.hgi)(A,"color","red")},m(g,e){(0,C.Yry)(g,A,e),(0,C.BCw)(A,I)},p(g,A){2&A[0]&&e!==(e=g[52].message+"")&&(0,C.iQh)(I,e)},d(g){g&&(0,C.YoD)(A)}}}function w(g){let A,I,e,l,t=[],i=new Map,c=(0,C.rv_)(g[45]);const s=g=>g[46].path;for(let A=0;A<c.length;A+=1){let I=N(g,c,A),C=s(I);i.set(C,t[A]=O(C,I))}let b=g[5]?.UID&&1==g[0].length&&K(g),d=g[0].length>1&&_(g),n=g[4]&&$(g);return{c(){A=(0,C.ND4)("div");for(let g=0;g<t.length;g+=1)t[g].c();I=(0,C.xem)(),b&&b.c(),e=(0,C.xem)(),d&&d.c(),l=(0,C.xem)(),n&&n.c(),(0,C.CFu)(A,"class","levelColumns svelte-1nidsbj")},m(g,i){(0,C.Yry)(g,A,i);for(let g=0;g<t.length;g+=1)t[g]&&t[g].m(A,null);(0,C.BCw)(A,I),b&&b.m(A,null),(0,C.BCw)(A,e),d&&d.m(A,null),(0,C.BCw)(A,l),n&&n.m(A,null)},p(g,a){43712579&a[0]&&(c=(0,C.rv_)(g[45]),t=(0,C.l7s)(t,a,s,1,g,c,i,A,C.n_k,O,I,N)),g[5]?.UID&&1==g[0].length?b?b.p(g,a):(b=K(g),b.c(),b.m(A,e)):b&&(b.d(1),b=null),g[0].length>1?d?d.p(g,a):(d=_(g),d.c(),d.m(A,l)):d&&(d.d(1),d=null),g[4]?n||(n=$(g),n.c(),n.m(A,null)):n&&(n.d(1),n=null)},d(g){g&&(0,C.YoD)(A);for(let g=0;g<t.length;g+=1)t[g].d();b&&b.d(),d&&d.d(),n&&n.d()}}}function j(g){let A,I,e,l,t;return{c(){A=(0,C.ND4)("button"),I=(0,C.QQy)("svg"),(0,C.CFu)(A,"type","button"),(0,C.CFu)(A,"class","btn btn-link btn-xs ps-0 svelte-1nidsbj"),(0,C.CFu)(A,"tabindex","0")},m(i,c){(0,C.Yry)(i,A,c),(0,C.BCw)(A,I),l||(t=[(0,C.hGc)(e=G.call(null,I,{iconName:"house"})),(0,C.KTR)(A,"keydown",g[29]),(0,C.KTR)(A,"click",g[30])],l=!0)},p:C.lQ1,d(g){g&&(0,C.YoD)(A),l=!1,(0,C.oOW)(t)}}}function L(g){let A,I,e,l,t,i=(0,s.Ay)("select ${level_path}",{level_path:g[46].absPath||"/"})+"";function c(){return g[31](g[46])}return{c(){A=(0,C.ND4)("button"),I=(0,C.Qq7)(i),(0,C.CFu)(A,"class","btn btn-primary btn-xs svelte-1nidsbj"),A.disabled=e=!g[23](g[46])},m(g,e){(0,C.Yry)(g,A,e),(0,C.BCw)(A,I),l||(t=(0,C.KTR)(A,"click",(0,C.xZN)(c)),l=!0)},p(l,t){g=l,2&t[0]&&i!==(i=(0,s.Ay)("select ${level_path}",{level_path:g[46].absPath||"/"})+"")&&(0,C.iQh)(I,i),2&t[0]&&e!==(e=!g[23](g[46]))&&(A.disabled=e)},d(g){g&&(0,C.YoD)(A),l=!1,t()}}}function S(g){let A,I,e,l,t;function i(){return g[33](g[46],g[47],g[48])}return{c(){A=(0,C.ND4)("button"),I=(0,C.QQy)("svg"),(0,C.CFu)(A,"class","btn btn-link btn-xs grid-view svelte-1nidsbj")},m(g,c){(0,C.Yry)(g,A,c),(0,C.BCw)(A,I),l||(t=[(0,C.hGc)(e=G.call(null,I,{iconName:"list"})),(0,C.KTR)(A,"click",i)],l=!0)},p(A,I){g=A},d(g){g&&(0,C.YoD)(A),l=!1,(0,C.oOW)(t)}}}function D(g){let A,I,e,l,t;function i(){return g[32](g[46],g[47],g[48])}return{c(){A=(0,C.ND4)("button"),I=(0,C.QQy)("svg"),(0,C.CFu)(A,"class","btn btn-link btn-xs grid-view svelte-1nidsbj")},m(g,c){(0,C.Yry)(g,A,c),(0,C.BCw)(A,I),l||(t=[(0,C.hGc)(e=G.call(null,I,{iconName:"grid"})),(0,C.KTR)(A,"click",i)],l=!0)},p(A,I){g=A},d(g){g&&(0,C.YoD)(A),l=!1,(0,C.oOW)(t)}}}function J(g){let A,I,e,l,t,i,c,s,b=g[49].Title+"";return{c(){A=(0,C.ND4)("div"),I=(0,C.QQy)("svg"),l=(0,C.xem)(),t=(0,C.Qq7)(b),(0,C.CFu)(A,"class","item-title svelte-1nidsbj"),(0,C.CFu)(A,"title",i=g[49].portal_type+": "+g[49].Title)},m(i,b){(0,C.Yry)(i,A,b),(0,C.BCw)(A,I),(0,C.BCw)(A,l),(0,C.BCw)(A,t),c||(s=(0,C.hGc)(e=G.call(null,I,{iconName:`contenttype/${g[49].portal_type.toLowerCase().replace(/\.| /g,"-")}`})),c=!0)},p(I,l){g=I,e&&(0,C.Qk1)(e.update)&&2&l[0]&&e.update.call(null,{iconName:`contenttype/${g[49].portal_type.toLowerCase().replace(/\.| /g,"-")}`}),2&l[0]&&b!==(b=g[49].Title+"")&&(0,C.iQh)(t,b),2&l[0]&&i!==(i=g[49].portal_type+": "+g[49].Title)&&(0,C.CFu)(A,"title",i)},d(g){g&&(0,C.YoD)(A),c=!1,s()}}}function f(g){let A,I,e,l=g[49].Title+"";function t(g,A){return g[49].getIcon?H:k}let i=t(g),c=i(g);return{c(){A=(0,C.ND4)("div"),c.c(),I=(0,C.xem)(),e=(0,C.Qq7)(l),(0,C.CFu)(A,"class","grid-preview svelte-1nidsbj")},m(g,l){(0,C.Yry)(g,A,l),c.m(A,null),(0,C.BCw)(A,I),(0,C.BCw)(A,e)},p(g,s){i===(i=t(g))&&c?c.p(g,s):(c.d(1),c=i(g),c&&(c.c(),c.m(A,I))),2&s[0]&&l!==(l=g[49].Title+"")&&(0,C.iQh)(e,l)},d(g){g&&(0,C.YoD)(A),c.d()}}}function k(g){let A,I,e,l;return{c(){A=(0,C.QQy)("svg")},m(t,i){(0,C.Yry)(t,A,i),e||(l=(0,C.hGc)(I=G.call(null,A,{iconName:`contenttype/${g[49].portal_type.toLowerCase().replace(/\.| /g,"-")}`})),e=!0)},p(A,e){g=A,I&&(0,C.Qk1)(I.update)&&2&e[0]&&I.update.call(null,{iconName:`contenttype/${g[49].portal_type.toLowerCase().replace(/\.| /g,"-")}`})},d(g){g&&(0,C.YoD)(A),e=!1,l()}}}function H(g){let A,I,e;return{c(){A=(0,C.ND4)("img"),(0,C.mq_)(A.src,I=`${g[49].getURL}/@@images/image/thumb`)||(0,C.CFu)(A,"src",I),(0,C.CFu)(A,"alt",e=g[49].Title),(0,C.CFu)(A,"class","svelte-1nidsbj")},m(g,I){(0,C.Yry)(g,A,I)},p(g,l){2&l[0]&&!(0,C.mq_)(A.src,I=`${g[49].getURL}/@@images/image/thumb`)&&(0,C.CFu)(A,"src",I),2&l[0]&&e!==(e=g[49].Title)&&(0,C.CFu)(A,"alt",e)},d(g){g&&(0,C.YoD)(A)}}}function E(g){let A,I,e,l,t;return{c(){A=(0,C.ND4)("div"),I=(0,C.QQy)("svg"),(0,C.CFu)(A,"class","browseSub svelte-1nidsbj")},m(g,i){(0,C.Yry)(g,A,i),(0,C.BCw)(A,I),l||(t=(0,C.hGc)(e=G.call(null,I,{iconName:"arrow-right-circle"})),l=!0)},d(g){g&&(0,C.YoD)(A),l=!1,t()}}}function z(g){let A,I,e,l,t,i,c;function s(g,A){return g[46].gridView?f:J}let b=s(g),d=b(g),n=g[49].is_folderish&&"browse"==g[6].mode&&E();function a(...A){return g[34](g[49],...A)}function u(...A){return g[35](g[49],...A)}return{c(){A=(0,C.ND4)("div"),d.c(),I=(0,C.xem)(),n&&n.c(),(0,C.CFu)(A,"class",e="contentItem"+(g[51]%2==0?" odd":" even")+(g[25](g[49])?" inPath":"")+(-1!=g[0].indexOf(g[49].UID)?" selectedItem":"")+(g[23](g[49])?"":" text-muted")+" svelte-1nidsbj"),(0,C.CFu)(A,"role","button"),(0,C.CFu)(A,"tabindex",l=g[51]),(0,C.CFu)(A,"data-uuid",t=g[49].UID)},m(g,e){(0,C.Yry)(g,A,e),d.m(A,null),(0,C.BCw)(A,I),n&&n.m(A,null),i||(c=[(0,C.KTR)(A,"keydown",(0,C.xZN)(a)),(0,C.KTR)(A,"click",u)],i=!0)},p(l,i){b===(b=s(g=l))&&d?d.p(g,i):(d.d(1),d=b(g),d&&(d.c(),d.m(A,I))),g[49].is_folderish&&"browse"==g[6].mode?n||(n=E(),n.c(),n.m(A,null)):n&&(n.d(1),n=null),3&i[0]&&e!==(e="contentItem"+(g[51]%2==0?" odd":" even")+(g[25](g[49])?" inPath":"")+(-1!=g[0].indexOf(g[49].UID)?" selectedItem":"")+(g[23](g[49])?"":" text-muted")+" svelte-1nidsbj")&&(0,C.CFu)(A,"class",e),2&i[0]&&t!==(t=g[49].UID)&&(0,C.CFu)(A,"data-uuid",t)},d(g){g&&(0,C.YoD)(A),d.d(),n&&n.d(),i=!1,(0,C.oOW)(c)}}}function T(g){let A,I,e,l,t,i,c;return{c(){A=(0,C.ND4)("div"),I=(0,C.ND4)("div"),(0,C.CFu)(I,"class","spinner-border"),(0,C.CFu)(I,"role","status"),(0,C.CFu)(A,"class","loadmore svelte-1nidsbj"),(0,C.CFu)(A,"data-level-path",e=g[46].path),(0,C.CFu)(A,"data-level-next-page",l=parseInt(g[46].page)+1)},m(e,l){(0,C.Yry)(e,A,l),(0,C.BCw)(A,I),i||(c=(0,C.hGc)(t=g[27].call(null,A)),i=!0)},p(g,I){2&I[0]&&e!==(e=g[46].path)&&(0,C.CFu)(A,"data-level-path",e),2&I[0]&&l!==(l=parseInt(g[46].page)+1)&&(0,C.CFu)(A,"data-level-next-page",l)},d(g){g&&(0,C.YoD)(A),i=!1,c()}}}function P(g){let A,I;return{c(){A=(0,C.ND4)("div"),I=(0,C.ND4)("p"),I.textContent=`${(0,s.Ay)("no results found")}`,(0,C.CFu)(I,"class","svelte-1nidsbj"),(0,C.CFu)(A,"class","contentItem svelte-1nidsbj")},m(g,e){(0,C.Yry)(g,A,e),(0,C.BCw)(A,I)},d(g){g&&(0,C.YoD)(A)}}}function O(g,A){let I,e,l,t,i,s,b,d,n,a,u,G=0==A[48]&&j(A),o=A[46].selectable&&L(A);function r(g,A){return g[46].gridView?S:D}let B=r(A),m=B(A),Z=(0,C.rv_)(A[46].results||[]),x=[];for(let g=0;g<Z.length;g+=1)x[g]=z(U(A,Z,g));let X=A[46].more&&T(A),p=0==A[46].total&&P();return{key:g,first:null,c(){I=(0,C.ND4)("div"),e=(0,C.ND4)("div"),G&&G.c(),l=(0,C.xem)(),o&&o.c(),t=(0,C.xem)(),i=(0,C.ND4)("div"),m.c(),s=(0,C.xem)(),b=(0,C.ND4)("div");for(let g=0;g<x.length;g+=1)x[g].c();d=(0,C.xem)(),X&&X.c(),n=(0,C.xem)(),p&&p.c(),(0,C.CFu)(i,"class","levelActions svelte-1nidsbj"),(0,C.CFu)(e,"class","levelToolbar svelte-1nidsbj"),(0,C.CFu)(b,"class","levelItems svelte-1nidsbj"),(0,C.CFu)(I,"class",a="levelColumn"+(A[48]%2==0?" odd":" even")+" svelte-1nidsbj"),this.first=I},m(g,A){(0,C.Yry)(g,I,A),(0,C.BCw)(I,e),G&&G.m(e,null),(0,C.BCw)(e,l),o&&o.m(e,null),(0,C.BCw)(e,t),(0,C.BCw)(e,i),m.m(i,null),(0,C.BCw)(I,s),(0,C.BCw)(I,b);for(let g=0;g<x.length;g+=1)x[g]&&x[g].m(b,null);(0,C.BCw)(b,d),X&&X.m(b,null),(0,C.BCw)(b,n),p&&p.m(b,null)},p(g,c){if(0==(A=g)[48]?G?G.p(A,c):(G=j(A),G.c(),G.m(e,l)):G&&(G.d(1),G=null),A[46].selectable?o?o.p(A,c):(o=L(A),o.c(),o.m(e,t)):o&&(o.d(1),o=null),B===(B=r(A))&&m?m.p(A,c):(m.d(1),m=B(A),m&&(m.c(),m.m(i,null))),42598467&c[0]){let g;for(Z=(0,C.rv_)(A[46].results||[]),g=0;g<Z.length;g+=1){const I=U(A,Z,g);x[g]?x[g].p(I,c):(x[g]=z(I),x[g].c(),x[g].m(b,d))}for(;g<x.length;g+=1)x[g].d(1);x.length=Z.length}A[46].more?X?X.p(A,c):(X=T(A),X.c(),X.m(b,n)):X&&(X.d(1),X=null),0==A[46].total?p||(p=P(),p.c(),p.m(b,null)):p&&(p.d(1),p=null),2&c[0]&&a!==(a="levelColumn"+(A[48]%2==0?" odd":" even")+" svelte-1nidsbj")&&(0,C.CFu)(I,"class",a)},i(g){g&&(u||(0,C.Dti)((()=>{u=(0,C.b7f)(I,c._J,{duration:300}),u.start()})))},o:C.lQ1,d(g){g&&(0,C.YoD)(I),G&&G.d(),o&&o.d(),m.d(),(0,C.ppq)(x,g),X&&X.d(),p&&p.d()}}}function K(g){let A,I,e,l,t,i,c,b,d,n,a,u,G,o,r,B=(0,s.Ay)("select ${preview_path}",{preview_path:g[5].path.split("/").pop()})+"",m=g[5].Title+"",Z=g[5].Description+"";function x(g,A){return g[5].getIcon?q:M}let X=x(g),p=X(g);return{c(){A=(0,C.ND4)("div"),I=(0,C.ND4)("div"),e=(0,C.ND4)("button"),l=(0,C.Qq7)(B),i=(0,C.xem)(),c=(0,C.ND4)("div"),p.c(),b=(0,C.xem)(),d=(0,C.ND4)("h4"),n=(0,C.Qq7)(m),a=(0,C.xem)(),u=(0,C.ND4)("p"),G=(0,C.Qq7)(Z),(0,C.CFu)(e,"class","btn btn-primary btn-xs svelte-1nidsbj"),e.disabled=t=!g[23](g[5]),(0,C.CFu)(I,"class","levelToolbar svelte-1nidsbj"),(0,C.CFu)(d,"class","svelte-1nidsbj"),(0,C.CFu)(c,"class","info svelte-1nidsbj"),(0,C.CFu)(A,"class","preview svelte-1nidsbj")},m(t,s){(0,C.Yry)(t,A,s),(0,C.BCw)(A,I),(0,C.BCw)(I,e),(0,C.BCw)(e,l),(0,C.BCw)(A,i),(0,C.BCw)(A,c),p.m(c,null),(0,C.BCw)(c,b),(0,C.BCw)(c,d),(0,C.BCw)(d,n),(0,C.BCw)(c,a),(0,C.BCw)(c,u),(0,C.BCw)(u,G),o||(r=(0,C.KTR)(e,"click",(0,C.xZN)(g[36])),o=!0)},p(g,A){32&A[0]&&B!==(B=(0,s.Ay)("select ${preview_path}",{preview_path:g[5].path.split("/").pop()})+"")&&(0,C.iQh)(l,B),32&A[0]&&t!==(t=!g[23](g[5]))&&(e.disabled=t),X===(X=x(g))&&p?p.p(g,A):(p.d(1),p=X(g),p&&(p.c(),p.m(c,b))),32&A[0]&&m!==(m=g[5].Title+"")&&(0,C.iQh)(n,m),32&A[0]&&Z!==(Z=g[5].Description+"")&&(0,C.iQh)(G,Z)},d(g){g&&(0,C.YoD)(A),p.d(),o=!1,r()}}}function M(g){let A,I,e,l,t;return{c(){A=(0,C.ND4)("div"),I=(0,C.QQy)("svg"),(0,C.CFu)(I,"class","svelte-1nidsbj"),(0,C.CFu)(A,"class","previewIcon svelte-1nidsbj")},m(i,c){(0,C.Yry)(i,A,c),(0,C.BCw)(A,I),l||(t=(0,C.hGc)(e=G.call(null,I,{iconName:`contenttype/${g[5].portal_type.toLowerCase().replace(/\.| /g,"-")}`})),l=!0)},p(g,A){e&&(0,C.Qk1)(e.update)&&32&A[0]&&e.update.call(null,{iconName:`contenttype/${g[5].portal_type.toLowerCase().replace(/\.| /g,"-")}`})},d(g){g&&(0,C.YoD)(A),l=!1,t()}}}function q(g){let A,I,e,l;return{c(){A=(0,C.ND4)("div"),I=(0,C.ND4)("img"),(0,C.mq_)(I.src,e=g[5].getURL+"/@@images/image/preview")||(0,C.CFu)(I,"src",e),(0,C.CFu)(I,"alt",l=g[5].Title),(0,C.CFu)(I,"class","svelte-1nidsbj"),(0,C.CFu)(A,"class","previewImage")},m(g,e){(0,C.Yry)(g,A,e),(0,C.BCw)(A,I)},p(g,A){32&A[0]&&!(0,C.mq_)(I.src,e=g[5].getURL+"/@@images/image/preview")&&(0,C.CFu)(I,"src",e),32&A[0]&&l!==(l=g[5].Title)&&(0,C.CFu)(I,"alt",l)},d(g){g&&(0,C.YoD)(A)}}}function _(g){let A,I,e,l,t,i,c,b,d;return{c(){A=(0,C.ND4)("div"),I=(0,C.ND4)("div"),e=(0,C.ND4)("button"),e.textContent=`${(0,s.Ay)("add selected items")}`,l=(0,C.xem)(),t=(0,C.ND4)("div"),i=(0,C.QQy)("svg"),(0,C.CFu)(e,"class","btn btn-primary btn-xs svelte-1nidsbj"),(0,C.CFu)(I,"class","levelToolbar svelte-1nidsbj"),(0,C.CFu)(i,"class","svelte-1nidsbj"),(0,C.CFu)(t,"class","info svelte-1nidsbj"),(0,C.CFu)(A,"class","preview svelte-1nidsbj")},m(s,n){(0,C.Yry)(s,A,n),(0,C.BCw)(A,I),(0,C.BCw)(I,e),(0,C.BCw)(A,l),(0,C.BCw)(A,t),(0,C.BCw)(t,i),b||(d=[(0,C.KTR)(e,"click",(0,C.xZN)(g[21])),(0,C.hGc)(c=G.call(null,i,{iconName:"files"}))],b=!0)},p:C.lQ1,d(g){g&&(0,C.YoD)(A),b=!1,(0,C.oOW)(d)}}}function $(g){let A;return{c(){A=(0,C.ND4)("div"),(0,C.CFu)(A,"class","upload-wrapper svelte-1nidsbj")},m(g,I){(0,C.Yry)(g,A,I)},d(g){g&&(0,C.YoD)(A)}}}function gg(g){let A;return{c(){A=(0,C.ND4)("p"),A.textContent=`${(0,s.Ay)("loading content items")}`},m(g,I){(0,C.Yry)(g,A,I)},p:C.lQ1,d(g){g&&(0,C.YoD)(A)}}}function Ag(g){let A,I=g[3]&&h(g);return{c(){I&&I.c(),A=(0,C.Iex)()},m(g,e){I&&I.m(g,e),(0,C.Yry)(g,A,e)},p(g,e){g[3]?I?(I.p(g,e),8&e[0]&&(0,C.c7F)(I,1)):(I=h(g),I.c(),(0,C.c7F)(I,1),I.m(A.parentNode,A)):I&&((0,C.V44)(),(0,C.Tn8)(I,1,1,(()=>{I=null})),(0,C.GYV)())},i(g){(0,C.c7F)(I)},o(g){(0,C.Tn8)(I)},d(g){g&&(0,C.YoD)(A),I&&I.d(g)}}}function Ig(g,A,I){let e,c,s,d,n,a,G;i.ih({scrollX:!0,container:".levelColumns",duration:500});const o=(0,l.SD)("currentPath");(0,C.j0C)(g,o,(g=>I(2,s=g)));const B=(0,l.SD)("config");(0,C.j0C)(g,B,(g=>I(6,G=g)));const m=(0,l.SD)("pathCache"),Z=(0,l.SD)("showContentBrowser");(0,C.j0C)(g,Z,(g=>I(3,d=g)));const x=(0,l.SD)("selectedItems");(0,C.j0C)(g,x,(g=>I(41,a=g)));const X=(0,l.SD)("selectedUids");(0,C.j0C)(g,X,(g=>I(40,n=g)));const p=(0,l.SD)("previewUids");(0,C.j0C)(g,p,(g=>I(0,e=g)));const V=r(G,m);(0,C.j0C)(g,V,(g=>I(1,c=g)));let F=!1,Q={},W=!1,v=!1,y=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0);function N({data:g=null,uuid:A=null,action:l="show"}){if(g&&"show"==l)I(5,Q=g),(0,C.vu6)(p,e=[g.UID],e);else if(A&&"add"==l&&-1===e.indexOf(A)){if(G.maximumSelectionSize>0&&e.length>=G.maximumSelectionSize)return;(0,C.vu6)(p,e=[...e,A],e)}else A&&"remove"==l&&-1!==e.indexOf(A)?p.update((g=>(g.splice(g.indexOf(A),1),g))):"clear"==l&&(I(5,Q={}),(0,C.vu6)(p,e=[],e))}function U(g,A){I(4,F=!1),N({action:"clear"}),"/"!==g?function(g){if("search"==G.mode)N({data:g});else if(g.is_folderish)o.set(g.path);else{const A=g.path.split("/"),I=A.slice(0,A.length-1).join("/");o.set(I||"/"),N({data:g})}D()}(g):o.set(g)}function h(g,A){W||(W=!0);const I=A.currentTarget.closest(".levelItems"),C=I.querySelectorAll(".selectedItem");if(C.length)if(v||A?.shiftKey){let A=!1;for(const C of I.children){if(-1!==[g.UID,Q.UID].indexOf(C.dataset.uuid)){if(A){N({uuid:C.dataset.uuid,action:"add"}),A=!1;continue}A=!0}N({uuid:C.dataset.uuid,action:A?"add":"remove"})}}else A?.metaKey||A?.ctrlKey?N({uuid:g.UID,action:-1==e.indexOf(g.UID)?"add":"remove"}):([...C].map((g=>g.classList.remove("selectedItem"))),U(g));else U(g);A.currentTarget.focus(),A.currentTarget.classList.add("selectedItem")}function R(){if(W)return;const g=[...document.querySelectorAll(".levelColumn .inPath"),...document.querySelectorAll(".levelColumn .selectedItem"),document.querySelector(".levelColumn .contentItem")];g.length&&(W=!0,g[0].focus())}function Y(g,A){const I=A.currentTarget;if(v=A.shiftKey,"Escape"==A.key&&L(),"ArrowDown"==A.key&&I?.nextElementSibling?.classList.contains("contentItem")&&I.nextElementSibling.click(),"ArrowUp"==A.key&&I?.previousElementSibling?.classList.contains("contentItem")&&I.previousElementSibling.click(),"ArrowRight"==A.key){const g=A.target.closest(".levelColumn"),I=g?.nextElementSibling;if(!I||!I.classList.contains("levelColumn"))return;I.querySelector(".contentItem")?.click()}if("ArrowLeft"==A.key){const g=A.target.closest(".levelColumn"),I=g?.previousElementSibling;if(!I||!I.classList.contains("levelColumn"))return;I.querySelector(".inPath").click()}"Space"==A.key&&h(g,A),"Enter"==A.key&&S(g)&&j()}async function w(g){x.update((A=>[...A,g])),X.update((()=>a.map((g=>g.UID)))),N({action:"clear"}),(0,C.vu6)(Z,d=!1,d),W=!1}async function j(){const g=await u(e,G);x.update((A=>{for(const I of g)-1==n.indexOf(I.UID)&&A.push(I);return A})),X.update((()=>a.map((g=>g.UID)))),N({action:"clear"}),(0,C.vu6)(Z,d=!1,d),W=!1}function L(){(0,C.vu6)(Z,d=!1,d),W=!1,N({action:"clear"})}function S(g){return-1===n.indexOf(g.UID)}function D(){const g=document.querySelector(".levelColumns");g&&i.VG({x:g.scrollWidth+100})}return g.$$.update=()=>{12&g.$$.dirty[0]&&d&&V.get({path:s}),2&g.$$.dirty[0]&&D(),g.$$.dirty[0]},[e,c,s,d,F,Q,G,o,B,Z,x,X,p,V,y,async function(){N({action:"clear"}),I(4,F=!0),await t.A.timeout(1);const g=document.querySelector(".upload-wrapper");g.classList.add("pat-upload"),new b.default(g,{baseUrl:G.base_url,currentPath:s,relativePath:"@@fileUpload",allowPathSelection:!1,hiddenInputContainer:".upload-wrapper",success:(g,A)=>{V.get({path:s,updateCache:!0})}})},U,h,R,Y,w,j,L,S,D,function(g){return-1!=s.indexOf(g.path)},function(){let g;g&&clearTimeout(g),g=setTimeout((()=>{V.get({path:s,searchTerm:this.value})}),300)},function(g){const A=new IntersectionObserver((A=>{for(const I of A)if(I.isIntersecting){const A=g.dataset.levelPath,I=parseInt(g.dataset.levelNextPage);V.get({loadMorePath:A,page:I})}}),{threshold:0,root:null,margin:"0px"});window.setTimeout((()=>{A.observe(g)}),500)},()=>L(),()=>U("/"),()=>U("/"),g=>w(g),(g,A,I)=>(0,C.vu6)(V,A[I].gridView=!0,c),(g,A,I)=>(0,C.vu6)(V,A[I].gridView=!1,c),(g,A)=>Y(g,A),(g,A)=>h(g,A),()=>w(Q),()=>{D(),R()}]}class Cg extends C.r7T{constructor(g){super(),(0,C.TsN)(this,g,Ig,Ag,C.jXN,{},null,[-1,-1])}}var eg=Cg,lg=I(81557),tg=I(93536),ig=I.n(tg),cg=I(94441),sg={};sg.styleTagTransform=W(),sg.setAttributes=p(),sg.insert=function(g){var A=document.head.querySelectorAll("*")[0];A?document.head.insertBefore(g,A):document.head.append(g)},sg.domAPI=x(),sg.insertStyleElement=F();m()(cg.A,sg),cg.A&&cg.A.locals&&cg.A.locals;function bg(g,A,I){const C=g.slice();return C[19]=A[I],C[21]=I,C}function dg(g){let A,I=[],e=new Map,l=(0,C.rv_)(g[0]);const t=g=>g[19].UID;for(let A=0;A<l.length;A+=1){let C=bg(g,l,A),i=t(C);e.set(i,I[A]=ag(i,C))}return{c(){for(let g=0;g<I.length;g+=1)I[g].c();A=(0,C.Iex)()},m(g,e){for(let A=0;A<I.length;A+=1)I[A]&&I[A].m(g,e);(0,C.Yry)(g,A,e)},p(g,i){if(129&i){l=(0,C.rv_)(g[0]);for(let g=0;g<I.length;g+=1)I[g].r();I=(0,C.l7s)(I,i,t,1,g,l,e,A.parentNode,C.F8r,ag,A,bg);for(let g=0;g<I.length;g+=1)I[g].a()}},d(g){g&&(0,C.YoD)(A);for(let A=0;A<I.length;A+=1)I[A].d(g)}}}function ng(g){let A,I,e;return{c(){A=(0,C.ND4)("img"),(0,C.mq_)(A.src,I=g[19].getURL+"/@@images/image/mini")||(0,C.CFu)(A,"src",I),(0,C.CFu)(A,"alt",e=g[19].Title),(0,C.CFu)(A,"class","svelte-bljrxf")},m(g,I){(0,C.Yry)(g,A,I)},p(g,l){1&l&&!(0,C.mq_)(A.src,I=g[19].getURL+"/@@images/image/mini")&&(0,C.CFu)(A,"src",I),1&l&&e!==(e=g[19].Title)&&(0,C.CFu)(A,"alt",e)},d(g){g&&(0,C.YoD)(A)}}}function ag(g,A){let I,e,l,t,i,c,s,b,d,n,a,u,o,r,B,m,Z,x,X,p=A[19].Title+"",V=A[19].path+"",F=C.lQ1;function Q(){return A[9](A[21])}let W=A[19].getURL&&(A[19].getIcon||"Image"===A[19].portal_type)&&ng(A);return{key:g,first:null,c(){I=(0,C.ND4)("div"),e=(0,C.ND4)("div"),l=(0,C.ND4)("button"),t=(0,C.QQy)("svg"),c=(0,C.xem)(),s=(0,C.ND4)("div"),b=(0,C.ND4)("span"),d=(0,C.Qq7)(p),n=(0,C.ND4)("br"),a=(0,C.xem)(),u=(0,C.ND4)("span"),o=(0,C.Qq7)(V),r=(0,C.xem)(),W&&W.c(),B=(0,C.xem)(),(0,C.CFu)(l,"class","btn btn-link btn-sm link-secondary svelte-bljrxf"),(0,C.CFu)(b,"class","item-title"),(0,C.CFu)(u,"class","small"),(0,C.CFu)(e,"class","item-info svelte-bljrxf"),(0,C.CFu)(I,"class","selected-item svelte-bljrxf"),(0,C.CFu)(I,"data-uuid",m=A[19].UID),this.first=I},m(g,A){(0,C.Yry)(g,I,A),(0,C.BCw)(I,e),(0,C.BCw)(e,l),(0,C.BCw)(l,t),(0,C.BCw)(e,c),(0,C.BCw)(e,s),(0,C.BCw)(s,b),(0,C.BCw)(b,d),(0,C.BCw)(s,n),(0,C.BCw)(s,a),(0,C.BCw)(s,u),(0,C.BCw)(u,o),(0,C.BCw)(I,r),W&&W.m(I,null),(0,C.BCw)(I,B),x||(X=[(0,C.hGc)(i=G.call(null,t,{iconName:"x-circle"})),(0,C.KTR)(l,"click",Q)],x=!0)},p(g,e){A=g,1&e&&p!==(p=A[19].Title+"")&&(0,C.iQh)(d,p),1&e&&V!==(V=A[19].path+"")&&(0,C.iQh)(o,V),A[19].getURL&&(A[19].getIcon||"Image"===A[19].portal_type)?W?W.p(A,e):(W=ng(A),W.c(),W.m(I,B)):W&&(W.d(1),W=null),1&e&&m!==(m=A[19].UID)&&(0,C.CFu)(I,"data-uuid",m)},r(){Z=I.getBoundingClientRect()},f(){(0,C.K$G)(I),F()},a(){F(),F=(0,C.qYc)(I,Z,lg.U,{duration:500})},d(g){g&&(0,C.YoD)(I),W&&W.d(),x=!1,(0,C.oOW)(X)}}}function ug(g){let A;return{c(){A=(0,C.ND4)("p"),A.textContent=`${(0,s.Ay)("loading selected items")}`},m(g,I){(0,C.Yry)(g,A,I)},d(g){g&&(0,C.YoD)(A)}}}function Gg(g){let A,I,e,l,t,i,c,b,d,n=(0,s.Ay)("Select")+"",a=g[0]&&dg(g),u=!g[0]&&ug();return{c(){A=(0,C.ND4)("div"),I=(0,C.ND4)("div"),a&&a.c(),e=(0,C.xem)(),u&&u.c(),l=(0,C.xem)(),t=(0,C.ND4)("button"),i=(0,C.Qq7)(n),(0,C.CFu)(I,"class","content-browser-selected-items svelte-bljrxf"),(0,C.CFu)(t,"class","btn btn-primary"),(0,C.hgi)(t,"border-radius","0 var(--bs-border-radius) var(--bs-border-radius) 0"),t.disabled=c=g[2].maximumSelectionSize>0&&(g[0].length||0)>=g[2].maximumSelectionSize,(0,C.CFu)(A,"class","content-browser-selected-items-wrapper svelte-bljrxf")},m(c,s){(0,C.Yry)(c,A,s),(0,C.BCw)(A,I),a&&a.m(I,null),(0,C.BCw)(I,e),u&&u.m(I,null),(0,C.BCw)(A,l),(0,C.BCw)(A,t),(0,C.BCw)(t,i),g[11](A),b||(d=(0,C.KTR)(t,"click",(0,C.xZN)(g[10])),b=!0)},p(g,[A]){g[0]?a?a.p(g,A):(a=dg(g),a.c(),a.m(I,e)):a&&(a.d(1),a=null),g[0]?u&&(u.d(1),u=null):u||(u=ug(),u.c(),u.m(I,null)),5&A&&c!==(c=g[2].maximumSelectionSize>0&&(g[0].length||0)>=g[2].maximumSelectionSize)&&(t.disabled=c)},i:C.lQ1,o:C.lQ1,d(I){I&&(0,C.YoD)(A),a&&a.d(),u&&u.d(),g[11](null),b=!1,d()}}}function og(g,A,I){let e,t,i,c,s=!0;const b=(0,l.SD)("config");(0,C.j0C)(g,b,(g=>I(2,t=g)));const d=t.fieldId,n=document.getElementById(d),a=(0,l.SD)("selectedItems");(0,C.j0C)(g,a,(g=>I(0,e=g)));const G=(0,l.SD)("selectedUids"),o=(0,l.SD)("showContentBrowser");function r(g){a.update((A=>(A.splice(g,1),A))),G.update((()=>e.map((g=>g.UID))))}function B(){1!==t.maximumSelectionSize&&e.length>1&&ig().create(n.previousSibling.querySelector(".content-browser-selected-items"),{draggable:".selected-item",animation:200,onUpdate:g=>{let A=[];for(const I of g.target.children)A.push(I.dataset.uuid);m(A)}})}function m(g){const A=g.join(t.separator);n.value=A}(0,C.j0C)(g,o,(g=>I(3,i=g))),(0,l.Rc)((async()=>{await async function(){const g=t.selection.length?t.selection:n?.value?n.value.split(t.separator):[];if(!g.length)return;const A=await u(g,t);(0,C.vu6)(a,e=A,e),G.update((()=>A.map((g=>g.UID))))}(),B(),I(8,s=!1)}));return g.$$.update=()=>{257&g.$$.dirty&&(!e.length&&s||(m(function(){let g=[];return e.forEach((A=>{g.push(A.UID)})),g}()),B(),function(g,A){const I=new CustomEvent(g,{detail:{content:A},bubbles:!0});document.dispatchEvent(I)}("updateSelection",G)))},[e,c,t,i,b,a,o,r,s,g=>r(g),()=>(0,C.vu6)(o,i=!0,i),function(g){C.Dnk[g?"unshift":"push"]((()=>{c=g,I(1,c)}))}]}class rg extends C.r7T{constructor(g){super(),(0,C.TsN)(this,g,og,Gg,C.jXN,{})}}var Bg=rg;(0,d.T5)(!1);function mg(g){let A,I,e,l;return A=new eg({}),e=new Bg({}),{c(){(0,C.N0i)(A.$$.fragment),I=(0,C.xem)(),(0,C.N0i)(e.$$.fragment)},m(g,t){(0,C.wSR)(A,g,t),(0,C.Yry)(g,I,t),(0,C.wSR)(e,g,t),l=!0},p:C.lQ1,i(g){l||((0,C.c7F)(A.$$.fragment,g),(0,C.c7F)(e.$$.fragment,g),l=!0)},o(g){(0,C.Tn8)(A.$$.fragment,g),(0,C.Tn8)(e.$$.fragment,g),l=!1},d(g){g&&(0,C.YoD)(I),(0,C.Hbl)(A,g),(0,C.Hbl)(e,g)}}}function Zg(g,A,I){let t,i,{maxDepth:c}=A,{attributes:s}=A,{contextPath:b}=A,{vocabularyUrl:n}=A,{mode:a="browse"}=A,{basePath:u=""}=A,{selectableTypes:G=[]}=A,{maximumSelectionSize:o=-1}=A,{separator:r}=A,{selection:B=[]}=A,{query:m={}}=A,{fieldId:Z}=A,{upload:x}=A,{favorites:X}=A,{recentlyUsed:p}=A,{recentlyUsedKey:V}=A,{bSize:F=20}=A;const Q=e.A.getLogger("pat-contentbrowser");!function(){let g=(0,d.T5)("");(0,l.o)("currentPath",g)}(),function(){let g=(0,d.T5)({});(0,l.o)("config",g)}(),function(){let g=(0,d.T5)({});(0,l.o)("pathCache",g)}(),function(){let g=(0,d.T5)([]);(0,l.o)("selectedItems",g)}(),function(){let g=(0,d.T5)(!1);(0,l.o)("showContentBrowser",g)}(),function(){let g=(0,d.T5)([]);(0,l.o)("selectedUids",g)}(),function(){let g=(0,d.T5)([]);(0,l.o)("previewUids",g)}();const W=(0,l.SD)("currentPath");(0,C.j0C)(g,W,(g=>I(20,i=g))),i||(0,C.vu6)(W,i=u||"/",i);const v=document.body.getAttribute("data-portal-url");let y=(0,l.SD)("config");return(0,C.j0C)(g,y,(g=>I(19,t=g))),(0,C.vu6)(y,t={mode:a,attributes:s,contextPath:b,vocabularyUrl:n,maxDepth:c,basePath:u,selectableTypes:G,maximumSelectionSize:o,separator:r,selection:B,query:m,fieldId:Z,uploadEnabled:x,favorites:X,recentlyUsed:p,recentlyUsedKey:V,base_url:v,pageSize:F},t),Q.debug(`Initialized App<${Z}> with config ${JSON.stringify(t)}`),g.$$set=g=>{"maxDepth"in g&&I(2,c=g.maxDepth),"attributes"in g&&I(3,s=g.attributes),"contextPath"in g&&I(4,b=g.contextPath),"vocabularyUrl"in g&&I(5,n=g.vocabularyUrl),"mode"in g&&I(6,a=g.mode),"basePath"in g&&I(7,u=g.basePath),"selectableTypes"in g&&I(8,G=g.selectableTypes),"maximumSelectionSize"in g&&I(9,o=g.maximumSelectionSize),"separator"in g&&I(10,r=g.separator),"selection"in g&&I(11,B=g.selection),"query"in g&&I(12,m=g.query),"fieldId"in g&&I(13,Z=g.fieldId),"upload"in g&&I(14,x=g.upload),"favorites"in g&&I(15,X=g.favorites),"recentlyUsed"in g&&I(16,p=g.recentlyUsed),"recentlyUsedKey"in g&&I(17,V=g.recentlyUsedKey),"bSize"in g&&I(18,F=g.bSize)},[W,y,c,s,b,n,a,u,G,o,r,B,m,Z,x,X,p,V,F]}class xg extends C.r7T{constructor(g){super(),(0,C.TsN)(this,g,Zg,mg,C.jXN,{maxDepth:2,attributes:3,contextPath:4,vocabularyUrl:5,mode:6,basePath:7,selectableTypes:8,maximumSelectionSize:9,separator:10,selection:11,query:12,fieldId:13,upload:14,favorites:15,recentlyUsed:16,recentlyUsedKey:17,bSize:18})}}var Xg=xg}}]);
//# sourceMappingURL=39191.e7953a02904d88b7f090.min.js.map