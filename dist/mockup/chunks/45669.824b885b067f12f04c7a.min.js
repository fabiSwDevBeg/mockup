(self.webpackChunk_plone_mockup=self.webpackChunk_plone_mockup||[]).push([[45669,96082],{45669:function(e,t,o){o(96082)},96082:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");var t=tinymce.util.Tools.resolve("tinymce.Env");const o=e=>t=>t.options.get(e),n=o("min_height"),s=o("max_height"),i=o("autoresize_overflow_padding"),r=o("autoresize_bottom_margin"),l=(e,t)=>{const o=e.getBody();o&&(o.style.overflowY=t?"":"hidden",t||(o.scrollTop=0))},g=(e,t,o,n)=>{var s;const i=parseInt(null!==(s=e.getStyle(t,o,n))&&void 0!==s?s:"",10);return isNaN(i)?0:i},a=(e,o,r,c)=>{var u;const f=e.dom,d=e.getDoc();if(!d)return;if((e=>e.plugins.fullscreen&&e.plugins.fullscreen.isFullscreen())(e))return void l(e,!0);const m=d.documentElement,h=c?c():i(e),p=null!==(u=n(e))&&void 0!==u?u:e.getElement().offsetHeight;let y=p;const v=g(f,m,"margin-top",!0),C=g(f,m,"margin-bottom",!0);let S=m.offsetHeight+v+C+h;S<0&&(S=0);const _=e.getContainer().offsetHeight-e.getContentAreaContainer().offsetHeight;S+_>p&&(y=S+_);const b=s(e);if(b&&y>b?(y=b,l(e,!0)):l(e,!1),y!==o.get()){const n=y-o.get();if(f.setStyle(e.getContainer(),"height",y+"px"),o.set(y),(e=>{e.dispatch("ResizeEditor")})(e),t.browser.isSafari()&&(t.os.isMacOS()||t.os.isiOS())){const t=e.getWin();t.scrollTo(t.pageXOffset,t.pageYOffset)}e.hasFocus()&&(e=>{if("setcontent"===(null==e?void 0:e.type.toLowerCase())){const t=e;return!0===t.selection||!0===t.paste}return!1})(r)&&e.selection.scrollIntoView(),(t.browser.isSafari()||t.browser.isChromium())&&n<0&&a(e,o,r,c)}};e.add("autoresize",(e=>{if((e=>{const t=e.options.register;t("autoresize_overflow_padding",{processor:"number",default:1}),t("autoresize_bottom_margin",{processor:"number",default:50})})(e),e.options.isSet("resize")||e.options.set("resize",!1),!e.inline){const o=(e=>{let t=e;return{get:()=>t,set:e=>{t=e}}})(0);((e,t)=>{e.addCommand("mceAutoResize",(()=>{a(e,t)}))})(e,o),((e,o)=>{let n,s,l=()=>r(e);e.on("init",(s=>{n=0;const r=i(e),g=e.dom;g.setStyles(e.getDoc().documentElement,{height:"auto"}),t.browser.isEdge()||t.browser.isIE()?g.setStyles(e.getBody(),{paddingLeft:r,paddingRight:r,"min-height":0}):g.setStyles(e.getBody(),{paddingLeft:r,paddingRight:r}),a(e,o,s,l),n+=1})),e.on("NodeChange SetContent keyup FullscreenStateChanged ResizeContent",(t=>{if(1===n)s=e.getContainer().offsetHeight,a(e,o,t,l),n+=1;else if(2===n){const t=s<e.getContainer().offsetHeight;if(t){const t=e.dom,o=e.getDoc();t.setStyles(o.documentElement,{"min-height":0}),t.setStyles(e.getBody(),{"min-height":"inherit"})}l=t?(i=0,()=>i):l,n+=1}else a(e,o,t,l);var i}))})(e,o)}}))}()}}]);
//# sourceMappingURL=45669.824b885b067f12f04c7a.min.js.map