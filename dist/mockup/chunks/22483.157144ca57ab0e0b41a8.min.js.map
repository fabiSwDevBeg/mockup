{"version":3,"file":"chunks/22483.157144ca57ab0e0b41a8.min.js","mappings":"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","sources":["webpack://@plone/mockup/./src/pat/contentbrowser/src/ContentBrowser.svelte","webpack://@plone/mockup/./src/pat/contentbrowser/src/SelectedItems.svelte","webpack://@plone/mockup/./src/pat/contentbrowser/src/api.js","webpack://@plone/mockup/./src/pat/contentbrowser/src/ContentStore.js","webpack://@plone/mockup/./src/pat/contentbrowser/src/clickOutside.js","webpack://@plone/mockup/./src/pat/contentbrowser/src/resolveIcon.js","webpack://@plone/mockup/./src/pat/contentbrowser/src/ContentBrowser.svelte?b874","webpack://@plone/mockup/ContentBrowser.svelte","webpack://@plone/mockup/./src/pat/contentbrowser/src/SelectedItems.svelte?e8bf","webpack://@plone/mockup/SelectedItems.svelte","webpack://@plone/mockup/./src/pat/contentbrowser/src/stores.js","webpack://@plone/mockup/App.svelte"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".content-browser-position-wrapper.svelte-31b4ry.svelte-31b4ry.svelte-31b4ry{position:fixed;top:0;right:0;display:flex;justify-content:end;z-index:1500;width:100%;height:100vh;background-color:rgba(0,0,0,.25)}.content-browser.svelte-31b4ry.svelte-31b4ry.svelte-31b4ry{height:100vh;min-width:550px;background-color:var(--bs-light-bg-subtle);border-left:var(--bs-border-style) var(--bs-border-width) #fff;z-index:1500;display:flex;flex-direction:column}.toolBar.svelte-31b4ry.svelte-31b4ry.svelte-31b4ry{background-color:var(--bs-primary);padding:.325rem .75rem;color:var(--bs-light);width:100%;display:flex;justify-content:space-between}.toolBar.svelte-31b4ry>.upload.svelte-31b4ry.svelte-31b4ry{margin:0 1rem 0 auto}.toolBar.svelte-31b4ry svg{vertical-align:-0.125em}.levelColumns.svelte-31b4ry.svelte-31b4ry.svelte-31b4ry{display:flex;flex-wrap:nowrap;width:100%;overflow:hidden;flex-grow:3;border-left:var(--bs-border-style) var(--bs-border-color) var(--bs-border-width)}.levelColumn.svelte-31b4ry.svelte-31b4ry.svelte-31b4ry{min-width:320px;border-right:var(--bs-border-style) var(--bs-border-width) var(--bs-border-color);display:flex;flex-direction:column}.levelToolbar.svelte-31b4ry.svelte-31b4ry.svelte-31b4ry{width:100%;height:2.8rem;display:flex;justify-content:space-between;padding:.375rem;border-bottom:var(--bs-border-style) var(--bs-border-width) var(--bs-border-color)}.levelToolbar.svelte-31b4ry>.levelActions.svelte-31b4ry.svelte-31b4ry{margin-left:auto}.levelItems.svelte-31b4ry.svelte-31b4ry.svelte-31b4ry{overflow-x:auto}.contentItem.svelte-31b4ry.svelte-31b4ry.svelte-31b4ry{display:flex;align-items:center;justify-content:space-between;font-size:90%;min-height:2rem;padding-right:.375rem}.contentItem.even.svelte-31b4ry.svelte-31b4ry.svelte-31b4ry{background-color:var(--bs-secondary-bg)}.contentItem.inPath.svelte-31b4ry.svelte-31b4ry.svelte-31b4ry{background-color:rgba(var(--bs-primary-rgb), 0.15)}.contentItem.selectedItem.svelte-31b4ry.svelte-31b4ry.svelte-31b4ry{background-color:var(--bs-primary);color:var(--bs-body-bg)}.contentItem.svelte-31b4ry>.svelte-31b4ry.svelte-31b4ry{padding:.5rem;white-space:nowrap;max-width:100%;user-select:none}.contentItem.svelte-31b4ry .grid-preview.svelte-31b4ry>img.svelte-31b4ry{width:95px;height:95px;object-fit:cover;float:left;margin-right:1rem}.preview.svelte-31b4ry.svelte-31b4ry.svelte-31b4ry{min-width:320px;max-width:500px;min-height:300px;display:flex;flex-direction:column;align-items:center}.preview.svelte-31b4ry .info.svelte-31b4ry.svelte-31b4ry{padding:.5rem;width:100%}.preview.svelte-31b4ry h4.svelte-31b4ry.svelte-31b4ry{font-size:1.2 rem}.preview.svelte-31b4ry img.svelte-31b4ry.svelte-31b4ry{max-width:100%;max-width:100%;margin-bottom:.5rem}.upload-wrapper.svelte-31b4ry.svelte-31b4ry.svelte-31b4ry{padding:1rem;width:590px;overflow-x:auto}.loadmore.svelte-31b4ry.svelte-31b4ry.svelte-31b4ry{text-align:center;padding:.25rem 0}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/pat/contentbrowser/src/ContentBrowser.svelte\"],\"names\":[],\"mappings\":\"AAAA,4EAAA,cAAA,CAAA,KAAA,CAAA,OAAA,CAAA,YAAA,CAAA,mBAAA,CAAA,YAAA,CAAA,UAAA,CAAA,YAAA,CAAA,gCAAA,CAAA,2DAAA,YAAA,CAAA,eAAA,CAAA,0CAAA,CAAA,8DAAA,CAAA,YAAA,CAAA,YAAA,CAAA,qBAAA,CAAA,mDAAA,kCAAA,CAAA,sBAAA,CAAA,qBAAA,CAAA,UAAA,CAAA,YAAA,CAAA,6BAAA,CAAA,2DAAA,oBAAA,CAAA,2BAAA,uBAAA,CAAA,wDAAA,YAAA,CAAA,gBAAA,CAAA,UAAA,CAAA,eAAA,CAAA,WAAA,CAAA,gFAAA,CAAA,uDAAA,eAAA,CAAA,iFAAA,CACmC,YAAA,CAAA,qBAAA,CAAA,wDAAA,UAAA,CAAA,aAAA,CAAA,YAAA,CAAA,6BAAA,CAAA,eAAA,CAAA,kFAAA,CACA,sEAAA,gBAAA,CAAA,sDAAA,eAAA,CAAA,uDAAA,YAAA,CAAA,kBAAA,CAAA,6BAAA,CAAA,aAAA,CAAA,eAAA,CAAA,qBAAA,CAAA,4DAAA,uCAAA,CAAA,8DAAA,kDAAA,CAAA,oEAAA,kCAAA,CAAA,uBAAA,CAAA,wDAAA,aAAA,CAAA,kBAAA,CAAA,cAAA,CAAA,gBAAA,CAAA,yEAAA,UAAA,CAAA,WAAA,CAAA,gBAAA,CAAA,UAAA,CAAA,iBAAA,CAAA,mDAAA,eAAA,CAAA,eAAA,CAAA,gBAAA,CAAA,YAAA,CAAA,qBAAA,CAAA,kBAAA,CAAA,yDAAA,aAAA,CAAA,UAAA,CAAA,sDAAA,iBAAA,CAAA,uDAAA,cAAA,CAAA,cAAA,CAAA,mBAAA,CAAA,0DAAA,YAAA,CAAA,WAAA,CAAA,eAAA,CAAA,oDAAA,iBAAA,CAAA,gBAAA\",\"sourcesContent\":[\".content-browser-position-wrapper.svelte-31b4ry.svelte-31b4ry.svelte-31b4ry{position:fixed;top:0;right:0;display:flex;justify-content:end;z-index:1500;width:100%;height:100vh;background-color:rgba(0, 0, 0, 0.25)}.content-browser.svelte-31b4ry.svelte-31b4ry.svelte-31b4ry{height:100vh;min-width:550px;background-color:var(--bs-light-bg-subtle);border-left:var(--bs-border-style) var(--bs-border-width) #fff;z-index:1500;display:flex;flex-direction:column}.toolBar.svelte-31b4ry.svelte-31b4ry.svelte-31b4ry{background-color:var(--bs-primary);padding:0.325rem 0.75rem;color:var(--bs-light);width:100%;display:flex;justify-content:space-between}.toolBar.svelte-31b4ry>.upload.svelte-31b4ry.svelte-31b4ry{margin:0 1rem 0 auto}.toolBar.svelte-31b4ry svg{vertical-align:-0.125em}.levelColumns.svelte-31b4ry.svelte-31b4ry.svelte-31b4ry{display:flex;flex-wrap:nowrap;width:100%;overflow:hidden;flex-grow:3;border-left:var(--bs-border-style) var(--bs-border-color) var(--bs-border-width)}.levelColumn.svelte-31b4ry.svelte-31b4ry.svelte-31b4ry{min-width:320px;border-right:var(--bs-border-style) var(--bs-border-width)\\n            var(--bs-border-color);display:flex;flex-direction:column}.levelToolbar.svelte-31b4ry.svelte-31b4ry.svelte-31b4ry{width:100%;height:2.8rem;display:flex;justify-content:space-between;padding:0.375rem;border-bottom:var(--bs-border-style) var(--bs-border-width)\\n            var(--bs-border-color)}.levelToolbar.svelte-31b4ry>.levelActions.svelte-31b4ry.svelte-31b4ry{margin-left:auto}.levelItems.svelte-31b4ry.svelte-31b4ry.svelte-31b4ry{overflow-x:auto}.contentItem.svelte-31b4ry.svelte-31b4ry.svelte-31b4ry{display:flex;align-items:center;justify-content:space-between;font-size:90%;min-height:2rem;padding-right:0.375rem}.contentItem.even.svelte-31b4ry.svelte-31b4ry.svelte-31b4ry{background-color:var(--bs-secondary-bg)}.contentItem.inPath.svelte-31b4ry.svelte-31b4ry.svelte-31b4ry{background-color:rgba(var(--bs-primary-rgb), 0.15)}.contentItem.selectedItem.svelte-31b4ry.svelte-31b4ry.svelte-31b4ry{background-color:var(--bs-primary);color:var(--bs-body-bg)}.contentItem.svelte-31b4ry>.svelte-31b4ry.svelte-31b4ry{padding:0.5rem;white-space:nowrap;max-width:100%;user-select:none}.contentItem.svelte-31b4ry .grid-preview.svelte-31b4ry>img.svelte-31b4ry{width:95px;height:95px;object-fit:cover;float:left;margin-right:1rem}.preview.svelte-31b4ry.svelte-31b4ry.svelte-31b4ry{min-width:320px;max-width:500px;min-height:300px;display:flex;flex-direction:column;align-items:center}.preview.svelte-31b4ry .info.svelte-31b4ry.svelte-31b4ry{padding:0.5rem;width:100%}.preview.svelte-31b4ry h4.svelte-31b4ry.svelte-31b4ry{font-size:1.2 rem}.preview.svelte-31b4ry img.svelte-31b4ry.svelte-31b4ry{max-width:100%;max-width:100%;margin-bottom:0.5rem}.upload-wrapper.svelte-31b4ry.svelte-31b4ry.svelte-31b4ry{padding:1rem;width:590px;overflow-x:auto}.loadmore.svelte-31b4ry.svelte-31b4ry.svelte-31b4ry{text-align:center;padding:0.25rem 0}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ29udGVudEJyb3dzZXIuc3ZlbHRlIiwic291cmNlcyI6WyJDb250ZW50QnJvd3Nlci5zdmVsdGUiXSwic291cmNlc0NvbnRlbnQiOlsiPHNjcmlwdD5cbiAgICBpbXBvcnQgdXRpbHMgZnJvbSBcIkBwYXR0ZXJuc2xpYi9wYXR0ZXJuc2xpYi9zcmMvY29yZS91dGlsc1wiO1xuICAgIGltcG9ydCB7IGdldENvbnRleHQgfSBmcm9tIFwic3ZlbHRlXCI7XG4gICAgaW1wb3J0ICogYXMgYW5pbWF0ZVNjcm9sbCBmcm9tIFwic3ZlbHRlLXNjcm9sbHRvXCI7XG4gICAgaW1wb3J0IHsgZmx5IH0gZnJvbSBcInN2ZWx0ZS90cmFuc2l0aW9uXCI7XG4gICAgaW1wb3J0IGNvbnRlbnRTdG9yZSBmcm9tIFwiLi9Db250ZW50U3RvcmVcIjtcbiAgICBpbXBvcnQgeyBjbGlja091dHNpZGUgfSBmcm9tIFwiLi9jbGlja091dHNpZGVcIjtcbiAgICBpbXBvcnQgeyByZXNvbHZlSWNvbiB9IGZyb20gXCIuL3Jlc29sdmVJY29uLmpzXCI7XG4gICAgaW1wb3J0IFVwbG9hZCBmcm9tIFwiLi4vLi4vdXBsb2FkL3VwbG9hZFwiO1xuICAgIGltcG9ydCBfdCBmcm9tIFwiLi4vLi4vLi4vY29yZS9pMThuLXdyYXBwZXJcIjtcblxuICAgIC8vIGltcG9ydCBLZXlkb3duIGZyb20gXCJzdmVsdGUta2V5ZG93blwiO1xuXG4gICAgYW5pbWF0ZVNjcm9sbC5zZXRHbG9iYWxPcHRpb25zKHtcbiAgICAgICAgc2Nyb2xsWDogdHJ1ZSxcbiAgICAgICAgY29udGFpbmVyOiBcIi5sZXZlbENvbHVtbnNcIixcbiAgICAgICAgZHVyYXRpb246IDUwMCxcbiAgICB9KTtcblxuICAgIC8vIGdldCBjb250ZXh0IHN0b3Jlc1xuICAgIGNvbnN0IGN1cnJlbnRQYXRoID0gZ2V0Q29udGV4dChcImN1cnJlbnRQYXRoXCIpO1xuICAgIGNvbnN0IGNvbmZpZyA9IGdldENvbnRleHQoXCJjb25maWdcIik7XG4gICAgY29uc3QgcGF0aENhY2hlID0gZ2V0Q29udGV4dChcInBhdGhDYWNoZVwiKTtcbiAgICBjb25zdCBzaG93Q29udGVudEJyb3dzZXIgPSBnZXRDb250ZXh0KFwic2hvd0NvbnRlbnRCcm93c2VyXCIpO1xuICAgIGNvbnN0IHNlbGVjdGVkSXRlbXMgPSBnZXRDb250ZXh0KFwic2VsZWN0ZWRJdGVtc1wiKTtcbiAgICBjb25zdCBzZWxlY3RlZFVpZHMgPSBnZXRDb250ZXh0KFwic2VsZWN0ZWRVaWRzXCIpO1xuXG4gICAgLy8gaW5pdGlhbGl6ZSBjb250ZW50IGJyb3dzZXIgc3RvcmVcbiAgICBjb25zdCBjb250ZW50SXRlbXMgPSBjb250ZW50U3RvcmUoJGNvbmZpZywgcGF0aENhY2hlKTtcblxuICAgIGxldCBzaG93VXBsb2FkID0gZmFsc2U7XG4gICAgbGV0IHByZXZpZXdJdGVtID0geyBVSUQ6IFwiXCIgfTtcblxuICAgIGxldCB2dyA9IE1hdGgubWF4KGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCB8fCAwLCB3aW5kb3cuaW5uZXJXaWR0aCB8fCAwKTtcblxuICAgIGFzeW5jIGZ1bmN0aW9uIHVwbG9hZCgpIHtcbiAgICAgICAgcHJldmlld0l0ZW0gPSB7IFVJRDogXCJcIiB9O1xuICAgICAgICBzaG93VXBsb2FkID0gdHJ1ZTtcbiAgICAgICAgYXdhaXQgdXRpbHMudGltZW91dCgxKTtcbiAgICAgICAgY29uc3QgdXBsb2FkRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnVwbG9hZC13cmFwcGVyXCIpO1xuICAgICAgICB1cGxvYWRFbC5jbGFzc0xpc3QuYWRkKFwicGF0LXVwbG9hZFwiKTtcbiAgICAgICAgY29uc3QgcGF0VXBsb2FkID0gbmV3IFVwbG9hZCh1cGxvYWRFbCwge1xuICAgICAgICAgICAgYmFzZVVybDogJGNvbmZpZy5iYXNlX3VybCxcbiAgICAgICAgICAgIGN1cnJlbnRQYXRoOiAkY3VycmVudFBhdGgsXG4gICAgICAgICAgICByZWxhdGl2ZVBhdGg6IFwiQEBmaWxlVXBsb2FkXCIsXG4gICAgICAgICAgICBhbGxvd1BhdGhTZWxlY3Rpb246IGZhbHNlLFxuICAgICAgICAgICAgaGlkZGVuSW5wdXRDb250YWluZXI6IFwiLnVwbG9hZC13cmFwcGVyXCIsXG4gICAgICAgICAgICBzdWNjZXNzOiAoZmlsZVVwbG9hZCwgb2JqKSA9PiB7XG4gICAgICAgICAgICAgICAgY29udGVudEl0ZW1zLmdldCh7IHBhdGg6ICRjdXJyZW50UGF0aCwgdXBkYXRlQ2FjaGU6IHRydWUgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzaG93UHJldmlldyhpdGVtKSB7XG4gICAgICAgIGlmICgkY29uZmlnLm1vZGUgPT0gXCJzZWFyY2hcIikge1xuICAgICAgICAgICAgLy8gb25lIGxldmVsIHNlYXJjaCBtb2RlXG4gICAgICAgICAgICBwcmV2aWV3SXRlbSA9IGl0ZW07XG4gICAgICAgIH0gZWxzZSBpZiAoaXRlbS5pc19mb2xkZXJpc2gpIHtcbiAgICAgICAgICAgIGN1cnJlbnRQYXRoLnNldChpdGVtLnBhdGgpO1xuICAgICAgICAgICAgcHJldmlld0l0ZW0gPSB7IFVJRDogXCJcIiB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcnRzID0gaXRlbS5wYXRoLnNwbGl0KFwiL1wiKTtcbiAgICAgICAgICAgIGNvbnN0IGZvbGRlclBhdGggPSBwYXRoUGFydHMuc2xpY2UoMCwgcGF0aFBhcnRzLmxlbmd0aCAtIDEpLmpvaW4oXCIvXCIpO1xuICAgICAgICAgICAgY3VycmVudFBhdGguc2V0KGZvbGRlclBhdGggfHwgXCIvXCIpO1xuICAgICAgICAgICAgcHJldmlld0l0ZW0gPSBpdGVtO1xuICAgICAgICB9XG4gICAgICAgIHNjcm9sbFRvUmlnaHQoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZWxlY3RJdGVtcyhzZWxlY3RlZE5vZGUpIHtcbiAgICAgICAgLy8gaXRlciB0aHJvdWdoIHRoZSB3cmFwcGVyIG5vZGVzIGFuZCBzZWxlY3QgYWxsXG4gICAgICAgIC8vIGluYmV0d2VlbiBjdXJyZW50IHNlbGVjdGlvbiBhbmQgbGFzdCBzZWxlY3Rpb25cbiAgICAgICAgbGV0IHNlbGVjdCA9IGZhbHNlO1xuICAgICAgICBmb3IoY29uc3QgZWwgb2Ygc2VsZWN0ZWROb2RlLmNsb3Nlc3QoXCIubGV2ZWxJdGVtc1wiKS5jaGlsZHJlbikge1xuICAgICAgICAgICAgaWYgKGVsLmNsYXNzTGlzdC5jb250YWlucyhcInNlbGVjdGVkSXRlbVwiKSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVsKTtcbiAgICAgICAgICAgICAgICBzZWxlY3QgPSAhc2VsZWN0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWwuY2xhc3NMaXN0LnRvZ2dsZShcInNlbGVjdGVkSXRlbVwiLCBzZWxlY3QpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNoYW5nZVBhdGgoaXRlbSwgZSkge1xuICAgICAgICBzaG93VXBsb2FkID0gZmFsc2U7XG4gICAgICAgIGlmIChpdGVtID09PSBcIi9cIikge1xuICAgICAgICAgICAgY3VycmVudFBhdGguc2V0KGl0ZW0pO1xuICAgICAgICAgICAgcHJldmlld0l0ZW0gPSB7IFVJRDogXCJcIiB9O1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IGVsc2UgaWYgKGU/LnNoaWZ0S2V5KSB7XG4gICAgICAgICAgICAvLyBjaGVjayBmb3IgcHJldmlvdXNseSBzZWxlY3RlZCBpdGVtcyBpbiB0aGUgc2FtZSBsZXZlbFxuICAgICAgICAgICAgLy8gYW5kIHNlbGVjdCBhbGwgaXRlbXMgaW5iZXR3ZWVuXG4gICAgICAgICAgICBjb25zdCBsZXZlbFdyYXBwZXIgPSBlLnRhcmdldC5jbG9zZXN0KFwiLmxldmVsSXRlbXNcIik7XG4gICAgICAgICAgICBpZiAobGV2ZWxXcmFwcGVyLnF1ZXJ5U2VsZWN0b3IoXCIuc2VsZWN0ZWRJdGVtXCIpKSB7XG4gICAgICAgICAgICAgICAgZS50YXJnZXQuY2xhc3NMaXN0LmFkZChcInNlbGVjdGVkSXRlbVwiKTtcbiAgICAgICAgICAgICAgICBwcmV2aWV3SXRlbSA9IHsgVUlEOiBcIlwiLCBtdWx0aXBsZTogdHJ1ZSB9O1xuICAgICAgICAgICAgICAgIHNlbGVjdEl0ZW1zKGUudGFyZ2V0KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gY2xlYXIgcHJldmlvdXMgc2VsZWN0aW9uXG4gICAgICAgIGUudGFyZ2V0LmNsb3Nlc3QoXCIubGV2ZWxJdGVtc1wiKS5xdWVyeVNlbGVjdG9yQWxsKFwiLmNvbnRlbnRJdGVtXCIpLmZvckVhY2goKGVsKSA9PiB7XG4gICAgICAgICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKFwic2VsZWN0ZWRJdGVtXCIpO1xuICAgICAgICB9KVxuICAgICAgICBzaG93UHJldmlldyhpdGVtKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBrZXlib2FyZE5hdmlnYXRpb24oaXRlbSwgZSkge1xuICAgICAgICAvLyBUT0RPXG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBhc3luYyBmdW5jdGlvbiBhZGRJdGVtKGl0ZW0pIHtcbiAgICAgICAgc2VsZWN0ZWRJdGVtcy51cGRhdGUoKG4pID0+IFsuLi5uLCBpdGVtXSk7XG4gICAgICAgIHNlbGVjdGVkVWlkcy51cGRhdGUoKCkgPT4gJHNlbGVjdGVkSXRlbXMubWFwKCh4KSA9PiB4LlVJRCkpO1xuICAgICAgICAkc2hvd0NvbnRlbnRCcm93c2VyID0gZmFsc2U7XG4gICAgICAgIHByZXZpZXdJdGVtID0geyBVSUQ6IFwiXCIgfTtcbiAgICB9XG5cbiAgICBhc3luYyBmdW5jdGlvbiBhZGRTZWxlY3RlZEl0ZW1zKCkge1xuICAgICAgICAvLyBUT0RPXG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjYW5jZWxTZWxlY3Rpb24oKSB7XG4gICAgICAgICRzaG93Q29udGVudEJyb3dzZXIgPSBmYWxzZTtcbiAgICAgICAgcHJldmlld0l0ZW0gPSB7IFVJRDogXCJcIiB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzU2VsZWN0YWJsZShpdGVtKSB7XG4gICAgICAgIHJldHVybiAkc2VsZWN0ZWRVaWRzLmluZGV4T2YoaXRlbS5VSUQpID09PSAtMTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzY3JvbGxUb1JpZ2h0KCkge1xuICAgICAgICBjb25zdCBzY3JvbGxDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmxldmVsQ29sdW1uc1wiKTtcbiAgICAgICAgaWYgKHNjcm9sbENvbnRhaW5lcikge1xuICAgICAgICAgICAgYW5pbWF0ZVNjcm9sbC5zY3JvbGxUbyh7XG4gICAgICAgICAgICAgICAgLy8gZWxlbWVudDogXCIubGV2ZWxDb2x1bW46bGFzdC1jaGlsZFwiLFxuICAgICAgICAgICAgICAgIHg6IHNjcm9sbENvbnRhaW5lci5zY3JvbGxXaWR0aCArIDEwMCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXRlbUluUGF0aChpdGVtKSB7XG4gICAgICAgIHJldHVybiAkY3VycmVudFBhdGguaW5kZXhPZihpdGVtLnBhdGgpICE9IC0xO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGZpbHRlckl0ZW1zKCkge1xuICAgICAgICBsZXQgdGltZW91dElkO1xuICAgICAgICBpZiAodGltZW91dElkKSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dElkKTtcbiAgICAgICAgfVxuICAgICAgICB0aW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGNvbnRlbnRJdGVtcy5nZXQoeyBwYXRoOiAkY3VycmVudFBhdGgsIHNlYXJjaFRlcm06IHRoaXMudmFsdWUgfSk7XG4gICAgICAgIH0sIDMwMCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbG9hZE1vcmUobm9kZSkge1xuICAgICAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihcbiAgICAgICAgICAgIChlbnRyaWVzKSA9PiB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBlbnRyeSBvZiBlbnRyaWVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlbnRyeS5pc0ludGVyc2VjdGluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGF0aCA9IG5vZGUuZGF0YXNldC5sZXZlbFBhdGg7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYWdlID0gcGFyc2VJbnQobm9kZS5kYXRhc2V0LmxldmVsTmV4dFBhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudEl0ZW1zLmdldCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9hZE1vcmVQYXRoOiBwYXRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2U6IHBhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7IHRocmVzaG9sZDogMCwgcm9vdDogbnVsbCwgbWFyZ2luOiBcIjBweFwiIH0sXG4gICAgICAgICk7XG4gICAgICAgIC8vIGRlZmVyIG9ic2VydmluZ1xuICAgICAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBvYnNlcnZlci5vYnNlcnZlKG5vZGUpO1xuICAgICAgICB9LCA1MDApO1xuICAgIH1cblxuICAgICQ6IHtcbiAgICAgICAgaWYgKCRzaG93Q29udGVudEJyb3dzZXIpIHtcbiAgICAgICAgICAgIGNvbnRlbnRJdGVtcy5nZXQoeyBwYXRoOiAkY3VycmVudFBhdGggfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAkOiB7XG4gICAgICAgICRjb250ZW50SXRlbXM7XG4gICAgICAgIHNjcm9sbFRvUmlnaHQoKTtcbiAgICB9XG48L3NjcmlwdD5cblxuPCEtLSA8S2V5ZG93biBwYXVzZWQ9eyEkc2hvd0NvbnRlbnRCcm93c2VyfSBvbjpFc2NhcGU9e2NhbmNlbFNlbGVjdGlvbn0gLz4gLS0+XG5cbnsjaWYgJHNob3dDb250ZW50QnJvd3Nlcn1cbiAgICA8ZGl2IGNsYXNzPVwiY29udGVudC1icm93c2VyLXBvc2l0aW9uLXdyYXBwZXJcIj5cbiAgICAgICAgPG5hdlxuICAgICAgICAgICAgY2xhc3M9XCJjb250ZW50LWJyb3dzZXJcIlxuICAgICAgICAgICAgdHJhbnNpdGlvbjpmbHk9e3sgeDogKHZ3IC8gMTAwKSAqIDk0LCBvcGFjaXR5OiAxIH19XG4gICAgICAgICAgICBvbjppbnRyb2VuZD17KCkgPT4gc2Nyb2xsVG9SaWdodCgpfVxuICAgICAgICAgICAgdXNlOmNsaWNrT3V0c2lkZVxuICAgICAgICAgICAgb246Y2xpY2tfb3V0c2lkZT17Y2FuY2VsU2VsZWN0aW9ufVxuICAgICAgICA+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwidG9vbEJhciBuYXZiYXJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmlsdGVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJmaWx0ZXJcIiBvbjppbnB1dD17ZmlsdGVySXRlbXN9IC8+XG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJmaWx0ZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgPjxzdmcgdXNlOnJlc29sdmVJY29uPXt7IGljb25OYW1lOiBcInNlYXJjaFwiIH19IC8+PC9sYWJlbFxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgeyNpZiAkY29uZmlnLnVwbG9hZEVuYWJsZWR9XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJ1cGxvYWQgYnRuIGJ0bi1zZWNvbmRhcnkgYnRuLXNtXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhYmluZGV4PVwiMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICBvbjprZXlkb3duPXt1cGxvYWR9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbjpjbGljaz17dXBsb2FkfVxuICAgICAgICAgICAgICAgICAgICAgICAgPjxzdmcgdXNlOnJlc29sdmVJY29uPXt7IGljb25OYW1lOiBcInVwbG9hZFwiIH19IC8+IHVwbG9hZCBmaWxlcyB0byB7JGN1cnJlbnRQYXRofTwvYnV0dG9uXG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7L2lmfVxuICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJidG4gYnRuLWxpbmsgdGV4dC13aGl0ZVwiXG4gICAgICAgICAgICAgICAgICAgIHRhYmluZGV4PVwiMFwiXG4gICAgICAgICAgICAgICAgICAgIG9uOmNsaWNrfHByZXZlbnREZWZhdWx0PXsoKSA9PiBjYW5jZWxTZWxlY3Rpb24oKX1cbiAgICAgICAgICAgICAgICAgICAgPjxzdmcgdXNlOnJlc29sdmVJY29uPXt7IGljb25OYW1lOiBcIngtY2lyY2xlXCIgfX0gLz48L2J1dHRvblxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgeyNhd2FpdCAkY29udGVudEl0ZW1zfVxuICAgICAgICAgICAgICAgIDxwPntfdChcImxvYWRpbmcgY29udGVudCBpdGVtc1wiKX08L3A+XG4gICAgICAgICAgICB7OnRoZW4gbGV2ZWxzfVxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJsZXZlbENvbHVtbnNcIj5cbiAgICAgICAgICAgICAgICAgICAgeyNlYWNoIGxldmVscyBhcyBsZXZlbCwgaSAobGV2ZWwucGF0aCl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJsZXZlbENvbHVtbntpICUgMiA9PSAwID8gJyBvZGQnIDogJyBldmVuJ31cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluOmZseXxsb2NhbD17eyBkdXJhdGlvbjogMzAwIH19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImxldmVsVG9vbGJhclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7I2lmIGkgPT0gMCAmJiBsZXZlbC5zZWxlY3RhYmxlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiYnRuIGJ0bi1saW5rIGJ0bi1zbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFiaW5kZXg9XCIwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbjprZXlkb3duPXsoKSA9PiBjaGFuZ2VQYXRoKFwiL1wiKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbjpjbGljaz17KCkgPT4gY2hhbmdlUGF0aChcIi9cIil9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjxzdmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlOnJlc29sdmVJY29uPXt7IGljb25OYW1lOiBcImhvdXNlXCIgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPjwvYnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvaWZ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsjaWYgaSA+IDAgJiYgbGV2ZWwuc2VsZWN0YWJsZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImJ0biBidG4tcHJpbWFyeSBidG4tc21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXshaXNTZWxlY3RhYmxlKGxldmVsKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbjpjbGlja3xwcmV2ZW50RGVmYXVsdD17KCkgPT4gYWRkSXRlbShsZXZlbCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge190KFwic2VsZWN0ICR7bGV2ZWxfcGF0aH1cIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXZlbF9wYXRoOiBsZXZlbC5wYXRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvaWZ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJsZXZlbEFjdGlvbnNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsjaWYgIWxldmVsLmdyaWRWaWV3fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJidG4gYnRuLWxpbmsgYnRuLXNtIGdyaWQtdmlld1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uOmNsaWNrPXsoKSA9PiAobGV2ZWwuZ3JpZFZpZXcgPSB0cnVlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZTpyZXNvbHZlSWNvbj17eyBpY29uTmFtZTogXCJncmlkXCIgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHs6ZWxzZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiYnRuIGJ0bi1saW5rIGJ0bi1zbSBncmlkLXZpZXdcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbjpjbGljaz17KCkgPT4gKGxldmVsLmdyaWRWaWV3ID0gZmFsc2UpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN2Z1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlOnJlc29sdmVJY29uPXt7IGljb25OYW1lOiBcImxpc3RcIiB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey9pZn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImxldmVsSXRlbXNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyNlYWNoIGxldmVsLnJlc3VsdHMgfHwgW10gYXMgaXRlbSwgbn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImNvbnRlbnRJdGVte24gJSAyID09IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnIG9kZCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAnIGV2ZW4nfXtpdGVtSW5QYXRoKGl0ZW0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJyBpblBhdGgnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogJyd9e3ByZXZpZXdJdGVtLlVJRCA9PT0gaXRlbS5VSURcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnIHNlbGVjdGVkSXRlbSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAnJ317IWlzU2VsZWN0YWJsZShpdGVtKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICcgdGV4dC1tdXRlZCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAnJ31cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhYmluZGV4PVwiMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb246a2V5ZG93bj17KGUpID0+IGtleWJvYXJkTmF2aWdhdGlvbihpdGVtLCBlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbjpjbGljaz17KGUpID0+IGNoYW5nZVBhdGgoaXRlbSwgZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyNpZiBsZXZlbC5ncmlkVmlld31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImdyaWQtcHJldmlld1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyNpZiBpdGVtLmdldEljb259XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcmM9e2Ake2l0ZW0uZ2V0VVJMfS9AQGltYWdlcy9pbWFnZS90aHVtYmB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsdD17aXRlbS5UaXRsZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgezplbHNlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlOnJlc29sdmVJY29uPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uTmFtZTogYGNvbnRlbnR0eXBlLyR7aXRlbS5wb3J0YWxfdHlwZS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1xcLnwgL2csIFwiLVwiKX1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7L2lmfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2l0ZW0uVGl0bGV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHs6ZWxzZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiB0aXRsZT17aXRlbS5wb3J0YWxfdHlwZX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3ZnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlOnJlc29sdmVJY29uPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb25OYW1lOiBgY29udGVudHR5cGUvJHtpdGVtLnBvcnRhbF90eXBlLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvXFwufCAvZywgXCItXCIpfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7aXRlbS5UaXRsZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey9pZn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7I2lmIGl0ZW0uaXNfZm9sZGVyaXNoICYmICRjb25maWcubW9kZSA9PSBcImJyb3dzZVwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3ZnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2U6cmVzb2x2ZUljb249e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uTmFtZTogXCJhcnJvdy1yaWdodC1jaXJjbGVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey9pZn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7L2VhY2h9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsjaWYgbGV2ZWwubW9yZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImxvYWRtb3JlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLWxldmVsLXBhdGg9e2xldmVsLnBhdGh9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1sZXZlbC1uZXh0LXBhZ2U9e3BhcnNlSW50KGxldmVsLnBhZ2UpICsgMX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2U6bG9hZE1vcmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3Bpbm5lci1ib3JkZXJcIiByb2xlPVwic3RhdHVzXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey9pZn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyNpZiBsZXZlbC50b3RhbCA9PSAwfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbnRlbnRJdGVtXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+e190KFwibm8gcmVzdWx0cyBmb3VuZFwiKX08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey9pZn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICB7L2VhY2h9XG4gICAgICAgICAgICAgICAgICAgIHsjaWYgcHJldmlld0l0ZW0uVUlEfVxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInByZXZpZXdcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibGV2ZWxUb29sYmFyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5IGJ0bi1zbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17IWlzU2VsZWN0YWJsZShwcmV2aWV3SXRlbSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbjpjbGlja3xwcmV2ZW50RGVmYXVsdD17KCkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRJdGVtKHByZXZpZXdJdGVtKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID57X3QoXCJzZWxlY3QgJHtwcmV2aWV3X3BhdGh9XCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2aWV3X3BhdGg6IHByZXZpZXdJdGVtLnBhdGguc3BsaXQoXCIvXCIpLnBvcCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9PC9idXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpbmZvXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsjaWYgcHJldmlld0l0ZW0ucG9ydGFsX3R5cGUgPT09IFwiSW1hZ2VcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcmM9XCJ7cHJldmlld0l0ZW0uZ2V0VVJMfS9AQGltYWdlcy9pbWFnZS9wcmV2aWV3XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWx0PXtwcmV2aWV3SXRlbS5UaXRsZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvaWZ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoND57cHJldmlld0l0ZW0uVGl0bGV9PC9oND5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+e3ByZXZpZXdJdGVtLkRlc2NyaXB0aW9ufTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICB7L2lmfVxuICAgICAgICAgICAgICAgICAgICB7I2lmIHByZXZpZXdJdGVtLm11bHRpcGxlfVxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInByZXZpZXdcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibGV2ZWxUb29sYmFyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5IGJ0bi1zbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbjpjbGlja3xwcmV2ZW50RGVmYXVsdD17KCkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRTZWxlY3RlZEl0ZW1zKCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+e190KFwiYWRkIHNlbGVjdGVkIGl0ZW1zXCIpfTwvYnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICB7L2lmfVxuICAgICAgICAgICAgICAgICAgICB7I2lmIHNob3dVcGxvYWR9XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidXBsb2FkLXdyYXBwZXJcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgey9pZn1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIHs6Y2F0Y2ggZXJyb3J9XG4gICAgICAgICAgICAgICAgPHAgc3R5bGU9XCJjb2xvcjogcmVkXCI+e2Vycm9yLm1lc3NhZ2V9PC9wPlxuICAgICAgICAgICAgey9hd2FpdH1cbiAgICAgICAgPC9uYXY+XG4gICAgPC9kaXY+XG57L2lmfVxuXG48c3R5bGU+XG4gICAgLmNvbnRlbnQtYnJvd3Nlci1wb3NpdGlvbi13cmFwcGVyIHtcbiAgICAgICAgcG9zaXRpb246IGZpeGVkO1xuICAgICAgICB0b3A6IDA7XG4gICAgICAgIHJpZ2h0OiAwO1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGVuZDtcbiAgICAgICAgei1pbmRleDogMTUwMDtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIGhlaWdodDogMTAwdmg7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC4yNSk7XG4gICAgfVxuICAgIC5jb250ZW50LWJyb3dzZXIge1xuICAgICAgICBoZWlnaHQ6IDEwMHZoO1xuICAgICAgICBtaW4td2lkdGg6IDU1MHB4O1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1icy1saWdodC1iZy1zdWJ0bGUpO1xuICAgICAgICBib3JkZXItbGVmdDogdmFyKC0tYnMtYm9yZGVyLXN0eWxlKSB2YXIoLS1icy1ib3JkZXItd2lkdGgpICNmZmY7XG4gICAgICAgIHotaW5kZXg6IDE1MDA7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgfVxuICAgIC50b29sQmFyIHtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tYnMtcHJpbWFyeSk7XG4gICAgICAgIHBhZGRpbmc6IDAuMzI1cmVtIDAuNzVyZW07XG4gICAgICAgIGNvbG9yOiB2YXIoLS1icy1saWdodCk7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gICAgfVxuICAgIC50b29sQmFyID4gLnVwbG9hZCB7XG4gICAgICAgIG1hcmdpbjogMCAxcmVtIDAgYXV0bztcbiAgICB9XG4gICAgLnRvb2xCYXIgOmdsb2JhbChzdmcpIHtcbiAgICAgICAgdmVydGljYWwtYWxpZ246IC0wLjEyNWVtO1xuICAgIH1cbiAgICAubGV2ZWxDb2x1bW5zIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZmxleC13cmFwOiBub3dyYXA7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgICAgICBmbGV4LWdyb3c6IDM7XG4gICAgICAgIGJvcmRlci1sZWZ0OiB2YXIoLS1icy1ib3JkZXItc3R5bGUpIHZhcigtLWJzLWJvcmRlci1jb2xvcikgdmFyKC0tYnMtYm9yZGVyLXdpZHRoKTtcbiAgICB9XG5cbiAgICAubGV2ZWxDb2x1bW4ge1xuICAgICAgICBtaW4td2lkdGg6IDMyMHB4O1xuICAgICAgICBib3JkZXItcmlnaHQ6IHZhcigtLWJzLWJvcmRlci1zdHlsZSkgdmFyKC0tYnMtYm9yZGVyLXdpZHRoKVxuICAgICAgICAgICAgdmFyKC0tYnMtYm9yZGVyLWNvbG9yKTtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICB9XG5cbiAgICAubGV2ZWxUb29sYmFyIHtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIGhlaWdodDogMi44cmVtO1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gICAgICAgIHBhZGRpbmc6IDAuMzc1cmVtO1xuICAgICAgICBib3JkZXItYm90dG9tOiB2YXIoLS1icy1ib3JkZXItc3R5bGUpIHZhcigtLWJzLWJvcmRlci13aWR0aClcbiAgICAgICAgICAgIHZhcigtLWJzLWJvcmRlci1jb2xvcik7XG4gICAgfVxuICAgIC5sZXZlbFRvb2xiYXIgPiAubGV2ZWxBY3Rpb25zIHtcbiAgICAgICAgbWFyZ2luLWxlZnQ6IGF1dG87XG4gICAgfVxuXG4gICAgLmxldmVsSXRlbXMge1xuICAgICAgICBvdmVyZmxvdy14OiBhdXRvO1xuICAgIH1cbiAgICAuY29udGVudEl0ZW0ge1xuICAgICAgICAvKiBwYWRkaW5nOiAxcmVtIDFyZW07ICovXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgICAgICAgZm9udC1zaXplOiA5MCU7XG4gICAgICAgIG1pbi1oZWlnaHQ6IDJyZW07XG4gICAgICAgIHBhZGRpbmctcmlnaHQ6IDAuMzc1cmVtO1xuICAgIH1cbiAgICAuY29udGVudEl0ZW0uZXZlbiB7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWJzLXNlY29uZGFyeS1iZyk7XG4gICAgfVxuICAgIC5jb250ZW50SXRlbS5pblBhdGgge1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKHZhcigtLWJzLXByaW1hcnktcmdiKSwgMC4xNSk7XG4gICAgfVxuICAgIC5jb250ZW50SXRlbS5zZWxlY3RlZEl0ZW0ge1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1icy1wcmltYXJ5KTtcbiAgICAgICAgY29sb3I6IHZhcigtLWJzLWJvZHktYmcpO1xuICAgIH1cbiAgICAuY29udGVudEl0ZW0gPiAqIHtcbiAgICAgICAgcGFkZGluZzogMC41cmVtO1xuICAgICAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICAgICAgICBtYXgtd2lkdGg6IDEwMCU7XG4gICAgICAgIHVzZXItc2VsZWN0OiBub25lO1xuICAgIH1cblxuICAgIC5jb250ZW50SXRlbSAuZ3JpZC1wcmV2aWV3ID4gaW1nIHtcbiAgICAgICAgd2lkdGg6IDk1cHg7XG4gICAgICAgIGhlaWdodDogOTVweDtcbiAgICAgICAgb2JqZWN0LWZpdDogY292ZXI7XG4gICAgICAgIGZsb2F0OiBsZWZ0O1xuICAgICAgICBtYXJnaW4tcmlnaHQ6IDFyZW07XG4gICAgfVxuICAgIC5wcmV2aWV3IHtcbiAgICAgICAgbWluLXdpZHRoOiAzMjBweDtcbiAgICAgICAgbWF4LXdpZHRoOiA1MDBweDtcbiAgICAgICAgbWluLWhlaWdodDogMzAwcHg7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgfVxuICAgIC5wcmV2aWV3IC5pbmZvIHtcbiAgICAgICAgcGFkZGluZzogMC41cmVtO1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICB9XG4gICAgLnByZXZpZXcgaDQge1xuICAgICAgICBmb250LXNpemU6IDEuMiByZW07XG4gICAgfVxuICAgIC5wcmV2aWV3IGltZyB7XG4gICAgICAgIG1heC13aWR0aDogMTAwJTtcbiAgICAgICAgbWF4LXdpZHRoOiAxMDAlO1xuICAgICAgICBtYXJnaW4tYm90dG9tOiAwLjVyZW07XG4gICAgfVxuXG4gICAgLnVwbG9hZC13cmFwcGVyIHtcbiAgICAgICAgcGFkZGluZzogMXJlbTtcbiAgICAgICAgd2lkdGg6IDU5MHB4O1xuICAgICAgICBvdmVyZmxvdy14OiBhdXRvO1xuICAgIH1cbiAgICAubG9hZG1vcmUge1xuICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICAgIHBhZGRpbmc6IDAuMjVyZW0gMDtcbiAgICB9XG48L3N0eWxlPlxuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQWlaSSwyRUFBa0MsQ0FDOUIsUUFBUSxDQUFFLEtBQUssQ0FDZixHQUFHLENBQUUsQ0FBQyxDQUNOLEtBQUssQ0FBRSxDQUFDLENBQ1IsT0FBTyxDQUFFLElBQUksQ0FDYixlQUFlLENBQUUsR0FBRyxDQUNwQixPQUFPLENBQUUsSUFBSSxDQUNiLEtBQUssQ0FBRSxJQUFJLENBQ1gsTUFBTSxDQUFFLEtBQUssQ0FDYixnQkFBZ0IsQ0FBRSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FDeEMsQ0FDQSwwREFBaUIsQ0FDYixNQUFNLENBQUUsS0FBSyxDQUNiLFNBQVMsQ0FBRSxLQUFLLENBQ2hCLGdCQUFnQixDQUFFLElBQUksb0JBQW9CLENBQUMsQ0FDM0MsV0FBVyxDQUFFLElBQUksaUJBQWlCLENBQUMsQ0FBQyxJQUFJLGlCQUFpQixDQUFDLENBQUMsSUFBSSxDQUMvRCxPQUFPLENBQUUsSUFBSSxDQUNiLE9BQU8sQ0FBRSxJQUFJLENBQ2IsY0FBYyxDQUFFLE1BQ3BCLENBQ0Esa0RBQVMsQ0FDTCxnQkFBZ0IsQ0FBRSxJQUFJLFlBQVksQ0FB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*/\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".content-browser-selected-items-wrapper.svelte-bljrxf.svelte-bljrxf.svelte-bljrxf{display:flex;align-items:start}.content-browser-selected-items.svelte-bljrxf.svelte-bljrxf.svelte-bljrxf{list-style:none;background-color:var(--bs-body-bg);border-radius:var(--bs-border-radius) 0 0 var(--bs-border-radius);border:var(--bs-border-style) var(--bs-border-color) var(--bs-border-width);min-height:2.4rem;padding:.5rem .5rem 0 .5rem;flex:1 1 auto}.content-browser-selected-items.svelte-bljrxf .selected-item.svelte-bljrxf.svelte-bljrxf{border-radius:var(--bs-border-radius);background-color:var(--bs-tertiary-bg);border:var(--bs-border-style) var(--bs-border-color) var(--bs-border-width);padding:.5rem;margin-bottom:.5rem;display:flex;flex-wrap:nowrap;align-items:start;justify-content:space-between;cursor:move}.content-browser-selected-items.svelte-bljrxf .selected-item.svelte-bljrxf>.svelte-bljrxf{margin-right:.5rem;display:block}.content-browser-selected-items.svelte-bljrxf .selected-item button.svelte-bljrxf.svelte-bljrxf{cursor:pointer;padding:0 .375rem .374rem 0}.content-browser-selected-items.svelte-bljrxf .selected-item .item-info.svelte-bljrxf.svelte-bljrxf{display:flex;align-items:start}.content-browser-selected-items.svelte-bljrxf .selected-item.svelte-bljrxf>img.svelte-bljrxf{object-fit:cover;width:95px;height:95px}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/pat/contentbrowser/src/SelectedItems.svelte\"],\"names\":[],\"mappings\":\"AAAA,kFAAA,YAAA,CAAA,iBAAA,CAAA,0EAAA,eAAA,CAAA,kCAAA,CAAA,iEAAA,CAAA,2EAAA,CAAA,iBAAA,CAAA,2BAAA,CAAA,aAAA,CAAA,yFAAA,qCAAA,CAAA,sCAAA,CAAA,2EAAA,CAAA,aAAA,CAAA,mBAAA,CAAA,YAAA,CAAA,gBAAA,CAAA,iBAAA,CAAA,6BAAA,CAAA,WAAA,CAAA,0FAAA,kBAAA,CAAA,aAAA,CAAA,gGAAA,cAAA,CAAA,2BAAA,CAAA,oGAAA,YAAA,CAAA,iBAAA,CAAA,6FAAA,gBAAA,CAAA,UAAA,CAAA,WAAA\",\"sourcesContent\":[\".content-browser-selected-items-wrapper.svelte-bljrxf.svelte-bljrxf.svelte-bljrxf{display:flex;align-items:start}.content-browser-selected-items.svelte-bljrxf.svelte-bljrxf.svelte-bljrxf{list-style:none;background-color:var(--bs-body-bg);border-radius:var(--bs-border-radius) 0 0 var(--bs-border-radius);border:var(--bs-border-style) var(--bs-border-color) var(--bs-border-width);min-height:2.4rem;padding:0.5rem 0.5rem 0 0.5rem;flex:1 1 auto}.content-browser-selected-items.svelte-bljrxf .selected-item.svelte-bljrxf.svelte-bljrxf{border-radius:var(--bs-border-radius);background-color:var(--bs-tertiary-bg);border:var(--bs-border-style) var(--bs-border-color) var(--bs-border-width);padding:0.5rem;margin-bottom:0.5rem;display:flex;flex-wrap:nowrap;align-items:start;justify-content:space-between;cursor:move}.content-browser-selected-items.svelte-bljrxf .selected-item.svelte-bljrxf>.svelte-bljrxf{margin-right:0.5rem;display:block}.content-browser-selected-items.svelte-bljrxf .selected-item button.svelte-bljrxf.svelte-bljrxf{cursor:pointer;padding:0 0.375rem 0.374rem 0}.content-browser-selected-items.svelte-bljrxf .selected-item .item-info.svelte-bljrxf.svelte-bljrxf{display:flex;align-items:start}.content-browser-selected-items.svelte-bljrxf .selected-item.svelte-bljrxf>img.svelte-bljrxf{object-fit:cover;width:95px;height:95px}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU2VsZWN0ZWRJdGVtcy5zdmVsdGUiLCJzb3VyY2VzIjpbIlNlbGVjdGVkSXRlbXMuc3ZlbHRlIl0sInNvdXJjZXNDb250ZW50IjpbIjxzY3JpcHQ+XG4gICAgaW1wb3J0IHsgZ2V0Q29udGV4dCwgb25Nb3VudCB9IGZyb20gXCJzdmVsdGVcIjtcbiAgICBpbXBvcnQgeyBmbGlwIH0gZnJvbSBcInN2ZWx0ZS9hbmltYXRlXCI7XG4gICAgaW1wb3J0IHsgcmVxdWVzdCB9IGZyb20gXCIuL2FwaS5qc1wiO1xuICAgIGltcG9ydCB7IHJlc29sdmVJY29uIH0gZnJvbSBcIi4vcmVzb2x2ZUljb24uanNcIjtcbiAgICBpbXBvcnQgU29ydGFibGUgZnJvbSBcInNvcnRhYmxlanNcIjtcbiAgICBpbXBvcnQgX3QgZnJvbSBcIi4uLy4uLy4uL2NvcmUvaTE4bi13cmFwcGVyXCI7XG5cbiAgICBsZXQgcmVmO1xuICAgIGxldCBpbml0aWFsaXppbmcgPSB0cnVlO1xuXG4gICAgLy8gZ2V0IHJlYWN0aXZlIGNvbnRleHQgY29uZmlnXG4gICAgY29uc3QgY29uZmlnID0gZ2V0Q29udGV4dChcImNvbmZpZ1wiKTtcbiAgICBjb25zdCBmaWVsZElkID0gJGNvbmZpZy5maWVsZElkO1xuICAgIGNvbnN0IHNlbGVjdGVkSXRlbXNOb2RlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZmllbGRJZCk7XG5cbiAgICAvLyBnZXQgcmVhY3RpdmUgY29udGV4dCBzdG9yZVxuICAgIGNvbnN0IHNlbGVjdGVkSXRlbXMgPSBnZXRDb250ZXh0KFwic2VsZWN0ZWRJdGVtc1wiKTtcbiAgICBjb25zdCBzZWxlY3RlZFVpZHMgPSBnZXRDb250ZXh0KFwic2VsZWN0ZWRVaWRzXCIpO1xuXG4gICAgLy8gc2hvd0NvbnRlbnRCcm93c2VyIHJlYWN0aXZlIHN0YXRlXG4gICAgY29uc3Qgc2hvd0NvbnRlbnRCcm93c2VyID0gZ2V0Q29udGV4dChcInNob3dDb250ZW50QnJvd3NlclwiKTtcblxuICAgIGZ1bmN0aW9uIGV2ZW50X2Rpc3BhdGNoKG5hbWUsIGRldGFpbCkge1xuICAgICAgICBjb25zdCBldmVudCA9IG5ldyBDdXN0b21FdmVudChuYW1lLCB7XG4gICAgICAgICAgICBkZXRhaWw6IHtcbiAgICAgICAgICAgICAgICBjb250ZW50OiBkZXRhaWwsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYnViYmxlczogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICAgIH1cblxuICAgIG9uTW91bnQoYXN5bmMgKCkgPT4ge1xuICAgICAgICBhd2FpdCBpbml0aWFsaXplU2VsZWN0ZWRJdGVtc1N0b3JlKCk7XG4gICAgICAgIGluaXRpYWxpemVTb3J0aW5nKCk7XG4gICAgICAgIGluaXRpYWxpemluZyA9IGZhbHNlO1xuICAgIH0pO1xuXG4gICAgZnVuY3Rpb24gdW5zZWxlY3RJdGVtKGkpIHtcbiAgICAgICAgc2VsZWN0ZWRJdGVtcy51cGRhdGUoKG4pID0+IHtcbiAgICAgICAgICAgIG4uc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgcmV0dXJuIG47XG4gICAgICAgIH0pO1xuICAgICAgICBzZWxlY3RlZFVpZHMudXBkYXRlKCgpID0+ICRzZWxlY3RlZEl0ZW1zLm1hcCgoeCkgPT4geC5VSUQpKTtcbiAgICB9XG5cbiAgICBhc3luYyBmdW5jdGlvbiBnZXRTZWxlY3RlZEl0ZW1zVWlkcyh1aWRzKSB7XG4gICAgICAgIGlmICghdWlkcykge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNlbGVjdGVkSXRlbXNGcm9tVWlkcyA9IGF3YWl0IHJlcXVlc3Qoe1xuICAgICAgICAgICAgdm9jYWJ1bGFyeVVybDogJGNvbmZpZy52b2NhYnVsYXJ5VXJsLFxuICAgICAgICAgICAgYXR0cmlidXRlczogJGNvbmZpZy5hdHRyaWJ1dGVzLFxuICAgICAgICAgICAgdWlkczogdWlkcyxcbiAgICAgICAgfSk7XG4gICAgICAgIGxldCByZXN1bHRzID0gKGF3YWl0IHNlbGVjdGVkSXRlbXNGcm9tVWlkcz8ucmVzdWx0cykgfHwgW107XG4gICAgICAgIC8vIHJlc29ydCB0aGUgcmVzdWx0cyBiYXNlZCBvbiB0aGUgb3JkZXIgb2YgdWlkc1xuICAgICAgICByZXN1bHRzLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB1aWRzLmluZGV4T2YoYS5VSUQpIC0gdWlkcy5pbmRleE9mKGIuVUlEKTtcbiAgICAgICAgfSlcbiAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgfVxuXG4gICAgYXN5bmMgZnVuY3Rpb24gaW5pdGlhbGl6ZVNlbGVjdGVkSXRlbXNTdG9yZSgpIHtcbiAgICAgICAgY29uc3QgaW5pdGlhbFZhbHVlID0gJGNvbmZpZy5zZWxlY3Rpb24ubGVuZ3RoXG4gICAgICAgICAgICA/ICRjb25maWcuc2VsZWN0aW9uXG4gICAgICAgICAgICA6IHNlbGVjdGVkSXRlbXNOb2RlPy52YWx1ZVxuICAgICAgICAgICAgICA/IHNlbGVjdGVkSXRlbXNOb2RlLnZhbHVlLnNwbGl0KCRjb25maWcuc2VwYXJhdG9yKVxuICAgICAgICAgICAgICA6IFtdO1xuXG4gICAgICAgIGlmICghaW5pdGlhbFZhbHVlLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc2VsZWN0ZWRJdGVtc1VpZHMgPSBhd2FpdCBnZXRTZWxlY3RlZEl0ZW1zVWlkcyhpbml0aWFsVmFsdWUpO1xuICAgICAgICAkc2VsZWN0ZWRJdGVtcyA9IHNlbGVjdGVkSXRlbXNVaWRzO1xuICAgICAgICBzZWxlY3RlZFVpZHMudXBkYXRlKCgpID0+IHNlbGVjdGVkSXRlbXNVaWRzLm1hcCgoeCkgPT4geC5VSUQpKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbml0aWFsaXplU29ydGluZygpIHtcbiAgICAgICAgaWYgKCRjb25maWcubWF4aW11bVNlbGVjdGlvblNpemUgIT09IDEgJiYgJHNlbGVjdGVkSXRlbXMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgU29ydGFibGUuY3JlYXRlKFxuICAgICAgICAgICAgICAgIHNlbGVjdGVkSXRlbXNOb2RlLnByZXZpb3VzU2libGluZy5xdWVyeVNlbGVjdG9yKFxuICAgICAgICAgICAgICAgICAgICBcIi5jb250ZW50LWJyb3dzZXItc2VsZWN0ZWQtaXRlbXNcIixcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZHJhZ2dhYmxlOiBcIi5zZWxlY3RlZC1pdGVtXCIsXG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbjogMjAwLFxuICAgICAgICAgICAgICAgICAgICBvblVwZGF0ZTogKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzb3J0ZWRVdWlkcyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBlbCBvZiBlLnRhcmdldC5jaGlsZHJlbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvcnRlZFV1aWRzLnB1c2goZWwuZGF0YXNldFtcInV1aWRcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Tm9kZVZhbHVlKHNvcnRlZFV1aWRzKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNlbGVjdGVkVWlkc0Zyb21TZWxlY3RlZEl0ZW1zKCkge1xuICAgICAgICBsZXQgaXRlbXMgPSBbXTtcbiAgICAgICAgJHNlbGVjdGVkSXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgaXRlbXMucHVzaChpdGVtLlVJRCk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gaXRlbXM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0Tm9kZVZhbHVlKHNlbGVjdGVkVWlkcykge1xuICAgICAgICBjb25zdCBub2RlX3ZhbCA9IHNlbGVjdGVkVWlkcy5qb2luKCRjb25maWcuc2VwYXJhdG9yKTtcbiAgICAgICAgc2VsZWN0ZWRJdGVtc05vZGUudmFsdWUgPSBub2RlX3ZhbDtcbiAgICB9XG5cbiAgICAkOiB7XG4gICAgICAgICRzZWxlY3RlZEl0ZW1zO1xuICAgICAgICBpZiAoJHNlbGVjdGVkSXRlbXMubGVuZ3RoIHx8ICFpbml0aWFsaXppbmcpIHtcbiAgICAgICAgICAgIHNldE5vZGVWYWx1ZShzZWxlY3RlZFVpZHNGcm9tU2VsZWN0ZWRJdGVtcygpKTtcbiAgICAgICAgICAgIGluaXRpYWxpemVTb3J0aW5nKCk7XG4gICAgICAgICAgICBldmVudF9kaXNwYXRjaChcInVwZGF0ZVNlbGVjdGlvblwiLCBzZWxlY3RlZFVpZHMpO1xuICAgICAgICB9XG4gICAgfVxuPC9zY3JpcHQ+XG5cbjxkaXYgY2xhc3M9XCJjb250ZW50LWJyb3dzZXItc2VsZWN0ZWQtaXRlbXMtd3JhcHBlclwiIGJpbmQ6dGhpcz17cmVmfT5cbiAgICA8IS0tIHttYXhTZWxlY3Rpb25zaXplfSAtLT5cbiAgICA8ZGl2IGNsYXNzPVwiY29udGVudC1icm93c2VyLXNlbGVjdGVkLWl0ZW1zXCI+XG4gICAgICAgIHsjaWYgJHNlbGVjdGVkSXRlbXN9XG4gICAgICAgICAgICB7I2VhY2ggJHNlbGVjdGVkSXRlbXMgYXMgc2VsSXRlbSwgaSAoc2VsSXRlbS5VSUQpfVxuICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJzZWxlY3RlZC1pdGVtXCJcbiAgICAgICAgICAgICAgICAgICAgYW5pbWF0ZTpmbGlwPXt7IGR1cmF0aW9uOiA1MDAgfX1cbiAgICAgICAgICAgICAgICAgICAgZGF0YS11dWlkPXtzZWxJdGVtLlVJRH1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpdGVtLWluZm9cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwhLS0gc3ZlbHRlLWlnbm9yZSBhMTF5LW1pc3NpbmctYXR0cmlidXRlIC0tPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiYnRuIGJ0bi1saW5rIGJ0bi1zbSBsaW5rLXNlY29uZGFyeVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb246Y2xpY2s9eygpID0+IHVuc2VsZWN0SXRlbShpKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PHN2ZyB1c2U6cmVzb2x2ZUljb249e3sgaWNvbk5hbWU6IFwieC1jaXJjbGVcIiB9fSAvPjwvYnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiaXRlbS10aXRsZVwiPntzZWxJdGVtLlRpdGxlfTwvc3Bhbj48YnIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInNtYWxsXCI+e3NlbEl0ZW0ucGF0aH08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIHsjaWYgc2VsSXRlbS5nZXRVUkwgJiYgKHNlbEl0ZW0uZ2V0SWNvbiB8fCBzZWxJdGVtLnBvcnRhbF90eXBlID09PSBcIkltYWdlXCIpfTxpbWdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcmM9XCJ7c2VsSXRlbS5nZXRVUkx9L0BAaW1hZ2VzL2ltYWdlL21pbmlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsdD17c2VsSXRlbS5UaXRsZX1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8+ey9pZn1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIHsvZWFjaH1cbiAgICAgICAgey9pZn1cbiAgICAgICAgeyNpZiAhJHNlbGVjdGVkSXRlbXN9XG4gICAgICAgICAgICA8cD57X3QoXCJsb2FkaW5nIHNlbGVjdGVkIGl0ZW1zXCIpfTwvcD5cbiAgICAgICAgey9pZn1cbiAgICA8L2Rpdj5cbiAgICA8YnV0dG9uXG4gICAgICAgIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCJcbiAgICAgICAgc3R5bGU9XCJib3JkZXItcmFkaXVzOjAgdmFyKC0tYnMtYm9yZGVyLXJhZGl1cykgdmFyKC0tYnMtYm9yZGVyLXJhZGl1cykgMFwiXG4gICAgICAgIGRpc2FibGVkPXskY29uZmlnLm1heGltdW1TZWxlY3Rpb25TaXplID4gMCAmJlxuICAgICAgICAgICAgKCRzZWxlY3RlZEl0ZW1zLmxlbmd0aCB8fCAwKSA+PSAkY29uZmlnLm1heGltdW1TZWxlY3Rpb25TaXplfVxuICAgICAgICBvbjpjbGlja3xwcmV2ZW50RGVmYXVsdD17KCkgPT4gKCRzaG93Q29udGVudEJyb3dzZXIgPSB0cnVlKX1cbiAgICAgICAgPntfdChcIlNlbGVjdFwiKX08L2J1dHRvblxuICAgID5cbjwvZGl2PlxuXG48c3R5bGU+XG4gICAgLmNvbnRlbnQtYnJvd3Nlci1zZWxlY3RlZC1pdGVtcy13cmFwcGVyIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgYWxpZ24taXRlbXM6IHN0YXJ0O1xuICAgIH1cbiAgICAuY29udGVudC1icm93c2VyLXNlbGVjdGVkLWl0ZW1zIHtcbiAgICAgICAgbGlzdC1zdHlsZTogbm9uZTtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tYnMtYm9keS1iZyk7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IHZhcigtLWJzLWJvcmRlci1yYWRpdXMpIDAgMCB2YXIoLS1icy1ib3JkZXItcmFkaXVzKTtcbiAgICAgICAgYm9yZGVyOiB2YXIoLS1icy1ib3JkZXItc3R5bGUpIHZhcigtLWJzLWJvcmRlci1jb2xvcikgdmFyKC0tYnMtYm9yZGVyLXdpZHRoKTtcbiAgICAgICAgbWluLWhlaWdodDogMi40cmVtO1xuICAgICAgICBwYWRkaW5nOiAwLjVyZW0gMC41cmVtIDAgMC41cmVtO1xuICAgICAgICBmbGV4OiAxIDEgYXV0bztcbiAgICB9XG4gICAgLmNvbnRlbnQtYnJvd3Nlci1zZWxlY3RlZC1pdGVtcyAuc2VsZWN0ZWQtaXRlbSB7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IHZhcigtLWJzLWJvcmRlci1yYWRpdXMpO1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1icy10ZXJ0aWFyeS1iZyk7XG4gICAgICAgIGJvcmRlcjogdmFyKC0tYnMtYm9yZGVyLXN0eWxlKSB2YXIoLS1icy1ib3JkZXItY29sb3IpIHZhcigtLWJzLWJvcmRlci13aWR0aCk7XG4gICAgICAgIHBhZGRpbmc6IDAuNXJlbTtcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogMC41cmVtO1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBmbGV4LXdyYXA6IG5vd3JhcDtcbiAgICAgICAgYWxpZ24taXRlbXM6IHN0YXJ0O1xuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gICAgICAgIGN1cnNvcjogbW92ZTtcbiAgICB9XG4gICAgLmNvbnRlbnQtYnJvd3Nlci1zZWxlY3RlZC1pdGVtcyAuc2VsZWN0ZWQtaXRlbSA+ICoge1xuICAgICAgICBtYXJnaW4tcmlnaHQ6IDAuNXJlbTtcbiAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgfVxuICAgIC5jb250ZW50LWJyb3dzZXItc2VsZWN0ZWQtaXRlbXMgLnNlbGVjdGVkLWl0ZW0gYnV0dG9uIHtcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICBwYWRkaW5nOiAwIDAuMzc1cmVtIDAuMzc0cmVtIDA7XG4gICAgfVxuICAgIC5jb250ZW50LWJyb3dzZXItc2VsZWN0ZWQtaXRlbXMgLnNlbGVjdGVkLWl0ZW0gLml0ZW0taW5mbyB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBzdGFydDtcbiAgICB9XG4gICAgLmNvbnRlbnQtYnJvd3Nlci1zZWxlY3RlZC1pdGVtcyAuc2VsZWN0ZWQtaXRlbSA+IGltZyB7XG4gICAgICAgIG9iamVjdC1maXQ6IGNvdmVyO1xuICAgICAgICB3aWR0aDogOTVweDtcbiAgICAgICAgaGVpZ2h0OiA5NXB4O1xuICAgIH1cbjwvc3R5bGU+XG4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBd0tJLGlGQUF3QyxDQUNwQyxPQUFPLENBQUUsSUFBSSxDQUNiLFdBQVcsQ0FBRSxLQUNqQixDQUNBLHlFQUFnQyxDQUM1QixVQUFVLENBQUUsSUFBSSxDQUNoQixnQkFBZ0IsQ0FBRSxJQUFJLFlBQVksQ0FBQyxDQUNuQyxhQUFhLENBQUUsSUFBSSxrQkFBa0IsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxrQkFBa0IsQ0FBQyxDQUNsRSxNQUFNLENBQUUsSUFBSSxpQkFBaUIsQ0FBQyxDQUFDLElBQUksaUJBQWlCLENBQUMsQ0FBQyxJQUFJLGlCQUFpQixDQUFDLENBQzVFLFVBQVUsQ0FBRSxNQUFNLENBQ2xCLE9BQU8sQ0FBRSxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQy9CLElBQUksQ0FBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQ2QsQ0FDQSw2Q0FBK0IsQ0FBQywwQ0FBZSxDQUMzQyxhQUFhLENBQUUsSUFBSSxrQkFBa0IsQ0FBQyxDQUN0QyxnQkFBZ0IsQ0FBRSxJQUFJLGdCQUFnQixDQUFDLENBQ3ZDLE1BQU0sQ0FBRSxJQUFJLGlCQUFpQixDQUFDLENBQUMsSUFBSSxpQkFBaUIsQ0FBQyxDQUFDLElBQUksaUJBQWlCLENBQUMsQ0FDNUUsT0FBTyxDQUFFLE1BQU0sQ0FDZixhQUFhLENBQUUsTUFBTSxDQUNyQixPQUFPLENBQUUsSUFBSSxDQUNiLFNBQVMsQ0FBRSxNQUFNLENBQ2pCLFdBQVcsQ0FBRSxLQUFLLENBQ2xCLGVBQWUsQ0FBRSxhQUFhLENBQzlCLE1BQU0sQ0FBRSxJQUNaLENBQ0EsNkNBQStCLENBQUMsNEJBQWMsQ0FBRyxjQUFFLENBQy9DLFlBQVksQ0FBRSxNQUFNLENBQ3BCLE9BQU8sQ0FBRSxLQUNiLENBQ0EsNkNBQStCLENBQUMsY0FBYyxDQUFDLGtDQUFPLENBQ2xELE1BQU0sQ0FBRSxPQUFPLENBQ2YsT0FBTyxDQUFFLENBQUMsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLENBQ2pDLENBQ0EsNkNBQStCLENBQUMsY0FBYyxDQUFDLHNDQUFXLENBQ3RELE9BQU8sQ0FBRSxJQUFJLENBQ2IsV0FBVyxDQUFFLEtBQ2pCLENBQ0EsNkNBQStCLENBQUMsNEJBQWMsQ0FBRyxpQkFBSSxDQUNqRCxVQUFVLENBQUUsS0FBSyxDQUNqQixLQUFLLENBQUUsSUFBSSxDQUNYLE1BQU0sQ0FBRSxJQUNaIn0=*/\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\nexport async function request({\n    method = \"GET\",\n    vocabularyUrl = null,\n    attributes = [],\n    path = null,\n    uids = null,\n    searchTerm = null,\n    searchPath = null,\n    levelInfoPath = null,\n    selectableTypes = [],\n    pageSize = 100,\n    page = 1,\n}) {\n    let vocabQuery = {\n        criteria: [],\n    };\n    if (path) {\n        vocabQuery = {\n            criteria: [\n                {\n                    i: \"path\",\n                    o: \"plone.app.querystring.operation.string.path\",\n                    v: `${path}::1`,\n                },\n            ],\n            sort_on: \"getObjPositionInParent\",\n            sort_order: \"ascending\",\n        };\n    }\n    if (levelInfoPath) {\n        vocabQuery = {\n            criteria: [\n                {\n                    i: \"path\",\n                    o: \"plone.app.querystring.operation.string.path\",\n                    v: `${levelInfoPath}::0`,\n                },\n            ],\n        };\n    }\n    if (searchPath) {\n        // search from searchPath down\n        vocabQuery = {\n            criteria: [\n                {\n                    i: \"path\",\n                    o: \"plone.app.querystring.operation.string.path\",\n                    v: searchPath,\n                },\n            ],\n        };\n        if(selectableTypes) {\n            vocabQuery.criteria.push({\n                i: \"portal_type\",\n                o: \"plone.app.querystring.operation.list.contains\",\n                v: selectableTypes,\n            })\n        }\n    }\n    if (uids) {\n        vocabQuery = {\n            criteria: [\n                {\n                    i: \"UID\",\n                    o: \"plone.app.querystring.operation.list.contains\",\n                    v: uids,\n                },\n            ],\n        };\n    }\n    if (searchTerm) {\n        vocabQuery.criteria.push({\n            i: \"SearchableText\",\n            o: \"plone.app.querystring.operation.string.contains\",\n            v: `${searchTerm}`,\n\n        })\n    }\n\n    if(!vocabQuery.criteria.length) {\n        return {\n            results: [],\n            total: 0,\n        }\n    };\n    console.log(vocabQuery);\n    let url = `${vocabularyUrl}&query=${JSON.stringify(\n        vocabQuery\n    )}&attributes=${JSON.stringify(attributes)}&batch=${JSON.stringify({\n        page: page,\n        size: pageSize,\n    })}`;\n\n    let headers = new Headers();\n    headers.set(\"Accept\", \"application/json\");\n\n    const response = await fetch(url, {\n        method: method,\n        headers: headers,\n    });\n    const json = await response.json();\n\n    if (response.ok) {\n        if (!searchPath && selectableTypes.length) {\n            // we iter through response and filter out non-selectable\n            // types but keep folderish types to maintain browsing\n            // the content structure.\n            const filtered_response = {\n                results: [],\n                total: json.total,\n            }\n            for (const it of json.results) {\n                if (selectableTypes.indexOf(it.portal_type) != -1 || it.is_folderish) {\n                    filtered_response.results.push(it);\n                }\n            }\n            return filtered_response;\n        }\n        return json;\n    } else {\n        return {\n            results: [],\n            total: 0,\n            errors: json.errors,\n        };\n    }\n}\n","import { writable, get } from \"svelte/store\";\nimport { request } from \"./api.js\";\n\nexport default function (config, pathCache) {\n    const store = writable([]);\n\n    const load = async (query) => {\n        let defaults = {\n            vocabularyUrl: config.vocabularyUrl,\n            attributes: config.attributes,\n            pageSize: config.pageSize,\n        };\n        query = {\n            ...defaults,\n            ...query,\n        }\n        if (config.selectableTypes.length) {\n            query[\"selectableTypes\"] = config.selectableTypes;\n        }\n        return await request(query);\n    }\n\n    const browse = async (portalPath, path, searchTerm, updateCache) => {\n        let paths = [];\n        let parts = path.split(\"/\") || [];\n        const depth = parts.length >= config.maxDepth ? config.maxDepth : parts.length;\n\n        let partsToShow = parts.slice(parts.length - depth, parts.length);\n        let partsToHide = parts.slice(0, parts.length - depth);\n        const pathPrefix = portalPath + partsToHide.join(\"/\");\n        const pC = get(pathCache);\n\n        while (partsToShow.length > 0) {\n            let sub_path = partsToShow.join(\"/\").replace(/^\\//, \"\");\n            const poped = partsToShow.pop();\n            sub_path = pathPrefix + ((poped != \"\") ? `/${sub_path}` : \"\");\n            if (paths.indexOf(sub_path) === -1) paths.push(sub_path);\n        }\n\n        let levels = [];\n        let pathCounter = 0;\n\n        for (var p of paths) {\n            pathCounter++;\n            const isFirstPath = pathCounter == 1;\n            let level = {};\n            if (\n                !(p in pC) ||  // new path not found in cache\n                (isFirstPath && searchTerm) ||  // filtering the level\n                updateCache  // manual cache update request\n            ) {\n                let query = {\n                    path: p,\n                };\n\n                if (isFirstPath && searchTerm) {\n                    query[\"searchTerm\"] = \"*\" + searchTerm + \"*\";\n                }\n\n                level = await load(query);\n\n                // check if there is more than the current batch\n                level.more = config.pageSize < level.total;\n                // save possible search filter for later batch loading\n                level.searchTerm = searchTerm;\n                level.page = 1;\n                level.path = p;\n\n                // do not update cache when searching\n                if (!searchTerm) {\n                    const levelInfo = await load({\n                        levelInfoPath: p,\n                    });\n                    if (levelInfo.total) {\n                        level.UID = levelInfo.results[0].UID;\n                        level.Title = levelInfo.results[0].Title;\n                        // check if level is selectable (config.selectableTypes)\n                        level.selectable = (!config.selectableTypes.length || config.selectableTypes.indexOf(levelInfo.results[0].portal_type) != -1);\n                    }\n                    level.gridView = false;\n                    pathCache.update((n) => {\n                        n[p] = level;\n                        return n;\n                    });\n                }\n            } else {\n                level = pC[p];\n            }\n            levels = [level, ...levels];\n        }\n        store.set(levels);\n    }\n\n    const search = async (portalPath, searchTerm, page) => {\n        let query = {\n            searchPath: portalPath,\n            page: page,\n        };\n        if (searchTerm) {\n            query[\"searchTerm\"] = \"*\" + searchTerm + \"*\";\n        }\n        let level = await load(query);\n        level.page = page;\n        level.searchTerm = searchTerm;\n\n        store.update((levels) => {\n            const has_more = (page * config.pageSize) < level.total;\n\n            // first time or new search\n            if (levels.length == 0 || levels[0].searchTerm != searchTerm) {\n                level.more = has_more;\n                level.selectable = false;\n                level.gridView = false;\n                return [level,];\n            }\n\n            // has more ?\n            levels[0].more = has_more;\n            levels[0].page = level.page;\n\n            // append new batch\n            levels[0].results = [\n                ...levels[0].results,\n                ...level.results,\n            ];\n            return levels;\n        });\n    }\n\n    const nextBatch = async (p, page, searchTerm) => {\n        let query = {\n            path: p,\n            page: page,\n        };\n\n        if (searchTerm) {\n            query[\"searchTerm\"] = \"*\" + searchTerm + \"*\";\n        }\n\n        let level = await load(query);\n        level.more = (page * config.pageSize) < level.total;\n        level.page = page;\n\n        store.update((levels) => {\n            levels.forEach((l) => {\n                if (l.path != p) {\n                    return l;\n                }\n                l.page = level.page;\n                l.more = level.more;\n                l.results = [\n                    ...l.results,\n                    ...level.results,\n                ]\n            });\n            return levels;\n        });\n    }\n\n    store.get = async ({\n        path = \"\",\n        searchTerm = \"\",\n        updateCache = false,\n        loadMorePath = \"\",\n        page = 1,\n    }) => {\n        const base_url = new URL(config.base_url);\n        const portalPath = base_url.pathname;\n\n        if (config.mode === \"search\") {\n            await search(portalPath, searchTerm, page)\n        } else if (loadMorePath) {\n            const pC = get(pathCache);\n            if (!(loadMorePath in pC)) {\n                return;\n            }\n            let level = pC[loadMorePath];\n            if (page > level.page) {\n                await nextBatch(loadMorePath, page, level.searchTerm);\n            }\n        } else if (path) {\n            path = path.replace(new RegExp(`^${portalPath}`), \"\");\n            await browse(portalPath, path, searchTerm, updateCache);\n        }\n\n    };\n\n    return store;\n}\n","/** Dispatch event on click outside of node */\nexport function clickOutside(node) {\n    const handleClick = (event) => {\n        if (node && !node.contains(event.target)) {\n            node.dispatchEvent(new CustomEvent(\"click_outside\", node));\n        }\n    };\n\n    document.addEventListener(\"click\", handleClick, true);\n\n    return {\n        destroy() {\n            document.removeEventListener(\"click\", handleClick, true);\n        },\n    };\n}\n","/** use Plone resolveIcon to load a SVG icon and replace node with icon code */\nimport utils from \"../../../core/utils.js\";\n\nexport async function resolveIcon(node, { iconName }) {\n\n    async function getIcon(iconName) {\n        const icon = await utils.resolveIcon(iconName)\n        return icon;\n    }\n    const iconCode = await getIcon(iconName);\n    node.outerHTML = iconCode;\n    return {\n        destroy() {},\n    };\n}\n","\n      import API from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      \n      import setAttributes from \"!../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/sass-loader/dist/cjs.js!../../../../node_modules/svelte-loader/index.js?cssPath=/home/runner/work/mockup/mockup/src/pat/contentbrowser/src/ContentBrowser.svelte.0.css!./ContentBrowser.svelte\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = function top_head_insert(el) {\n    // Insert element at the top of <head>\n    // Used for injecting CSS via webpack before any other CSS\n    // Note:\n    // Keep code compatible with IE11 as long as we support it.\n    var first_child = document.head.querySelectorAll(\"*\")[0];\n    if (first_child) {\n        document.head.insertBefore(el, first_child);\n    } else {\n        document.head.append(el);\n    }\n};\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/sass-loader/dist/cjs.js!../../../../node_modules/svelte-loader/index.js?cssPath=/home/runner/work/mockup/mockup/src/pat/contentbrowser/src/ContentBrowser.svelte.0.css!./ContentBrowser.svelte\";\n       export default content && content.locals ? content.locals : undefined;\n","<script>\n    import utils from \"@patternslib/patternslib/src/core/utils\";\n    import { getContext } from \"svelte\";\n    import * as animateScroll from \"svelte-scrollto\";\n    import { fly } from \"svelte/transition\";\n    import contentStore from \"./ContentStore\";\n    import { clickOutside } from \"./clickOutside\";\n    import { resolveIcon } from \"./resolveIcon.js\";\n    import Upload from \"../../upload/upload\";\n    import _t from \"../../../core/i18n-wrapper\";\n\n    // import Keydown from \"svelte-keydown\";\n\n    animateScroll.setGlobalOptions({\n        scrollX: true,\n        container: \".levelColumns\",\n        duration: 500,\n    });\n\n    // get context stores\n    const currentPath = getContext(\"currentPath\");\n    const config = getContext(\"config\");\n    const pathCache = getContext(\"pathCache\");\n    const showContentBrowser = getContext(\"showContentBrowser\");\n    const selectedItems = getContext(\"selectedItems\");\n    const selectedUids = getContext(\"selectedUids\");\n\n    // initialize content browser store\n    const contentItems = contentStore($config, pathCache);\n\n    let showUpload = false;\n    let previewItem = { UID: \"\" };\n\n    let vw = Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0);\n\n    async function upload() {\n        previewItem = { UID: \"\" };\n        showUpload = true;\n        await utils.timeout(1);\n        const uploadEl = document.querySelector(\".upload-wrapper\");\n        uploadEl.classList.add(\"pat-upload\");\n        const patUpload = new Upload(uploadEl, {\n            baseUrl: $config.base_url,\n            currentPath: $currentPath,\n            relativePath: \"@@fileUpload\",\n            allowPathSelection: false,\n            hiddenInputContainer: \".upload-wrapper\",\n            success: (fileUpload, obj) => {\n                contentItems.get({ path: $currentPath, updateCache: true });\n            },\n        });\n    }\n\n    function showPreview(item) {\n        if ($config.mode == \"search\") {\n            // one level search mode\n            previewItem = item;\n        } else if (item.is_folderish) {\n            currentPath.set(item.path);\n            previewItem = { UID: \"\" };\n        } else {\n            const pathParts = item.path.split(\"/\");\n            const folderPath = pathParts.slice(0, pathParts.length - 1).join(\"/\");\n            currentPath.set(folderPath || \"/\");\n            previewItem = item;\n        }\n        scrollToRight();\n    }\n\n    function selectItems(selectedNode) {\n        // iter through the wrapper nodes and select all\n        // inbetween current selection and last selection\n        let select = false;\n        for(const el of selectedNode.closest(\".levelItems\").children) {\n            if (el.classList.contains(\"selectedItem\")) {\n                console.log(el);\n                select = !select;\n            }\n            el.classList.toggle(\"selectedItem\", select);\n        };\n    }\n\n    function changePath(item, e) {\n        showUpload = false;\n        if (item === \"/\") {\n            currentPath.set(item);\n            previewItem = { UID: \"\" };\n            return;\n        } else if (e?.shiftKey) {\n            // check for previously selected items in the same level\n            // and select all items inbetween\n            const levelWrapper = e.target.closest(\".levelItems\");\n            if (levelWrapper.querySelector(\".selectedItem\")) {\n                e.target.classList.add(\"selectedItem\");\n                previewItem = { UID: \"\", multiple: true };\n                selectItems(e.target);\n                return;\n            }\n        }\n        // clear previous selection\n        e.target.closest(\".levelItems\").querySelectorAll(\".contentItem\").forEach((el) => {\n            el.classList.remove(\"selectedItem\");\n        })\n        showPreview(item);\n    }\n\n    function keyboardNavigation(item, e) {\n        // TODO\n        return;\n    }\n\n    async function addItem(item) {\n        selectedItems.update((n) => [...n, item]);\n        selectedUids.update(() => $selectedItems.map((x) => x.UID));\n        $showContentBrowser = false;\n        previewItem = { UID: \"\" };\n    }\n\n    async function addSelectedItems() {\n        // TODO\n        return;\n    }\n\n    function cancelSelection() {\n        $showContentBrowser = false;\n        previewItem = { UID: \"\" };\n    }\n\n    function isSelectable(item) {\n        return $selectedUids.indexOf(item.UID) === -1;\n    }\n\n    function scrollToRight() {\n        const scrollContainer = document.querySelector(\".levelColumns\");\n        if (scrollContainer) {\n            animateScroll.scrollTo({\n                // element: \".levelColumn:last-child\",\n                x: scrollContainer.scrollWidth + 100,\n            });\n        }\n    }\n\n    function itemInPath(item) {\n        return $currentPath.indexOf(item.path) != -1;\n    }\n\n    function filterItems() {\n        let timeoutId;\n        if (timeoutId) {\n            clearTimeout(timeoutId);\n        }\n        timeoutId = setTimeout(() => {\n            contentItems.get({ path: $currentPath, searchTerm: this.value });\n        }, 300);\n    }\n\n    function loadMore(node) {\n        const observer = new IntersectionObserver(\n            (entries) => {\n                for (const entry of entries) {\n                    if (entry.isIntersecting) {\n                        const path = node.dataset.levelPath;\n                        const page = parseInt(node.dataset.levelNextPage);\n                        contentItems.get({\n                            loadMorePath: path,\n                            page: page,\n                        });\n                    }\n                }\n            },\n            { threshold: 0, root: null, margin: \"0px\" },\n        );\n        // defer observing\n        window.setTimeout(() => {\n            observer.observe(node);\n        }, 500);\n    }\n\n    $: {\n        if ($showContentBrowser) {\n            contentItems.get({ path: $currentPath });\n        }\n    }\n\n    $: {\n        $contentItems;\n        scrollToRight();\n    }\n</script>\n\n<!-- <Keydown paused={!$showContentBrowser} on:Escape={cancelSelection} /> -->\n\n{#if $showContentBrowser}\n    <div class=\"content-browser-position-wrapper\">\n        <nav\n            class=\"content-browser\"\n            transition:fly={{ x: (vw / 100) * 94, opacity: 1 }}\n            on:introend={() => scrollToRight()}\n            use:clickOutside\n            on:click_outside={cancelSelection}\n        >\n            <div class=\"toolBar navbar\">\n                <div class=\"filter\">\n                    <input type=\"text\" name=\"filter\" on:input={filterItems} />\n                    <label for=\"filter\"\n                        ><svg use:resolveIcon={{ iconName: \"search\" }} /></label\n                    >\n                </div>\n                {#if $config.uploadEnabled}\n                    <button\n                        type=\"button\"\n                        class=\"upload btn btn-secondary btn-sm\"\n                        tabindex=\"0\"\n                        on:keydown={upload}\n                        on:click={upload}\n                        ><svg use:resolveIcon={{ iconName: \"upload\" }} /> upload files to {$currentPath}</button\n                    >\n                {/if}\n                <button\n                    class=\"btn btn-link text-white\"\n                    tabindex=\"0\"\n                    on:click|preventDefault={() => cancelSelection()}\n                    ><svg use:resolveIcon={{ iconName: \"x-circle\" }} /></button\n                >\n            </div>\n            {#await $contentItems}\n                <p>{_t(\"loading content items\")}</p>\n            {:then levels}\n                <div class=\"levelColumns\">\n                    {#each levels as level, i (level.path)}\n                        <div\n                            class=\"levelColumn{i % 2 == 0 ? ' odd' : ' even'}\"\n                            in:fly|local={{ duration: 300 }}\n                        >\n                            <div class=\"levelToolbar\">\n                                {#if i == 0 && level.selectable}\n                                    <button\n                                        type=\"button\"\n                                        class=\"btn btn-link btn-sm\"\n                                        tabindex=\"0\"\n                                        on:keydown={() => changePath(\"/\")}\n                                        on:click={() => changePath(\"/\")}\n                                        ><svg\n                                            use:resolveIcon={{ iconName: \"house\" }}\n                                        /></button\n                                    >\n                                {/if}\n                                {#if i > 0 && level.selectable}\n                                    <button\n                                        class=\"btn btn-primary btn-sm\"\n                                        disabled={!isSelectable(level)}\n                                        on:click|preventDefault={() => addItem(level)}\n                                    >\n                                        {_t(\"select ${level_path}\", {\n                                            level_path: level.path,\n                                        })}\n                                    </button>\n                                {/if}\n                                <div class=\"levelActions\">\n                                    {#if !level.gridView}\n                                        <button\n                                            class=\"btn btn-link btn-sm grid-view\"\n                                            on:click={() => (level.gridView = true)}\n                                        >\n                                            <svg\n                                                use:resolveIcon={{ iconName: \"grid\" }}\n                                            />\n                                        </button>\n                                    {:else}\n                                        <button\n                                            class=\"btn btn-link btn-sm grid-view\"\n                                            on:click={() => (level.gridView = false)}\n                                        >\n                                            <svg\n                                                use:resolveIcon={{ iconName: \"list\" }}\n                                            />\n                                        </button>\n                                    {/if}\n                                </div>\n                            </div>\n                            <div class=\"levelItems\">\n                                {#each level.results || [] as item, n}\n                                    <div\n                                        class=\"contentItem{n % 2 == 0\n                                            ? ' odd'\n                                            : ' even'}{itemInPath(item)\n                                            ? ' inPath'\n                                            : ''}{previewItem.UID === item.UID\n                                            ? ' selectedItem'\n                                            : ''}{!isSelectable(item)\n                                            ? ' text-muted'\n                                            : ''}\"\n                                        role=\"button\"\n                                        tabindex=\"0\"\n                                        on:keydown={(e) => keyboardNavigation(item, e)}\n                                        on:click={(e) => changePath(item, e)}\n                                    >\n                                        {#if level.gridView}\n                                            <div class=\"grid-preview\">\n                                                {#if item.getIcon}\n                                                    <img\n                                                        src={`${item.getURL}/@@images/image/thumb`}\n                                                        alt={item.Title}\n                                                    />\n                                                {:else}\n                                                    <svg\n                                                        use:resolveIcon={{\n                                                            iconName: `contenttype/${item.portal_type.toLowerCase().replace(/\\.| /g, \"-\")}`,\n                                                        }}\n                                                    />\n                                                {/if}\n                                                {item.Title}\n                                            </div>\n                                        {:else}\n                                            <div title={item.portal_type}>\n                                                <svg\n                                                    use:resolveIcon={{\n                                                        iconName: `contenttype/${item.portal_type.toLowerCase().replace(/\\.| /g, \"-\")}`,\n                                                    }}\n                                                />\n                                                {item.Title}\n                                            </div>\n                                        {/if}\n                                        {#if item.is_folderish && $config.mode == \"browse\"}\n                                            <svg\n                                                use:resolveIcon={{\n                                                    iconName: \"arrow-right-circle\",\n                                                }}\n                                            />\n                                        {/if}\n                                    </div>\n                                {/each}\n                                {#if level.more}\n                                    <div\n                                        class=\"loadmore\"\n                                        data-level-path={level.path}\n                                        data-level-next-page={parseInt(level.page) + 1}\n                                        use:loadMore\n                                    >\n                                        <div class=\"spinner-border\" role=\"status\"></div>\n                                    </div>\n                                {/if}\n                                {#if level.total == 0}\n                                    <div class=\"contentItem\">\n                                        <p>{_t(\"no results found\")}</p>\n                                    </div>\n                                {/if}\n                            </div>\n                        </div>\n                    {/each}\n                    {#if previewItem.UID}\n                        <div class=\"preview\">\n                            <div class=\"levelToolbar\">\n                                <button\n                                    class=\"btn btn-primary btn-sm\"\n                                    disabled={!isSelectable(previewItem)}\n                                    on:click|preventDefault={() =>\n                                        addItem(previewItem)}\n                                    >{_t(\"select ${preview_path}\", {\n                                        preview_path: previewItem.path.split(\"/\").pop(),\n                                    })}</button\n                                >\n                            </div>\n                            <div class=\"info\">\n                                {#if previewItem.portal_type === \"Image\"}\n                                    <div>\n                                        <img\n                                            src=\"{previewItem.getURL}/@@images/image/preview\"\n                                            alt={previewItem.Title}\n                                        />\n                                    </div>\n                                {/if}\n                                <h4>{previewItem.Title}</h4>\n                                <p>{previewItem.Description}</p>\n                            </div>\n                        </div>\n                    {/if}\n                    {#if previewItem.multiple}\n                        <div class=\"preview\">\n                            <div class=\"levelToolbar\">\n                                <button\n                                    class=\"btn btn-primary btn-sm\"\n                                    on:click|preventDefault={() =>\n                                        addSelectedItems()}\n                                    >{_t(\"add selected items\")}</button\n                                >\n                            </div>\n                        </div>\n                    {/if}\n                    {#if showUpload}\n                        <div class=\"upload-wrapper\"></div>\n                    {/if}\n                </div>\n            {:catch error}\n                <p style=\"color: red\">{error.message}</p>\n            {/await}\n        </nav>\n    </div>\n{/if}\n\n<style>\n    .content-browser-position-wrapper {\n        position: fixed;\n        top: 0;\n        right: 0;\n        display: flex;\n        justify-content: end;\n        z-index: 1500;\n        width: 100%;\n        height: 100vh;\n        background-color: rgba(0, 0, 0, 0.25);\n    }\n    .content-browser {\n        height: 100vh;\n        min-width: 550px;\n        background-color: var(--bs-light-bg-subtle);\n        border-left: var(--bs-border-style) var(--bs-border-width) #fff;\n        z-index: 1500;\n        display: flex;\n        flex-direction: column;\n    }\n    .toolBar {\n        background-color: var(--bs-primary);\n        padding: 0.325rem 0.75rem;\n        color: var(--bs-light);\n        width: 100%;\n        display: flex;\n        justify-content: space-between;\n    }\n    .toolBar > .upload {\n        margin: 0 1rem 0 auto;\n    }\n    .toolBar :global(svg) {\n        vertical-align: -0.125em;\n    }\n    .levelColumns {\n        display: flex;\n        flex-wrap: nowrap;\n        width: 100%;\n        overflow: hidden;\n        flex-grow: 3;\n        border-left: var(--bs-border-style) var(--bs-border-color) var(--bs-border-width);\n    }\n\n    .levelColumn {\n        min-width: 320px;\n        border-right: var(--bs-border-style) var(--bs-border-width)\n            var(--bs-border-color);\n        display: flex;\n        flex-direction: column;\n    }\n\n    .levelToolbar {\n        width: 100%;\n        height: 2.8rem;\n        display: flex;\n        justify-content: space-between;\n        padding: 0.375rem;\n        border-bottom: var(--bs-border-style) var(--bs-border-width)\n            var(--bs-border-color);\n    }\n    .levelToolbar > .levelActions {\n        margin-left: auto;\n    }\n\n    .levelItems {\n        overflow-x: auto;\n    }\n    .contentItem {\n        /* padding: 1rem 1rem; */\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n        font-size: 90%;\n        min-height: 2rem;\n        padding-right: 0.375rem;\n    }\n    .contentItem.even {\n        background-color: var(--bs-secondary-bg);\n    }\n    .contentItem.inPath {\n        background-color: rgba(var(--bs-primary-rgb), 0.15);\n    }\n    .contentItem.selectedItem {\n        background-color: var(--bs-primary);\n        color: var(--bs-body-bg);\n    }\n    .contentItem > * {\n        padding: 0.5rem;\n        white-space: nowrap;\n        max-width: 100%;\n        user-select: none;\n    }\n\n    .contentItem .grid-preview > img {\n        width: 95px;\n        height: 95px;\n        object-fit: cover;\n        float: left;\n        margin-right: 1rem;\n    }\n    .preview {\n        min-width: 320px;\n        max-width: 500px;\n        min-height: 300px;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n    }\n    .preview .info {\n        padding: 0.5rem;\n        width: 100%;\n    }\n    .preview h4 {\n        font-size: 1.2 rem;\n    }\n    .preview img {\n        max-width: 100%;\n        max-width: 100%;\n        margin-bottom: 0.5rem;\n    }\n\n    .upload-wrapper {\n        padding: 1rem;\n        width: 590px;\n        overflow-x: auto;\n    }\n    .loadmore {\n        text-align: center;\n        padding: 0.25rem 0;\n    }\n</style>\n","\n      import API from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      \n      import setAttributes from \"!../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/sass-loader/dist/cjs.js!../../../../node_modules/svelte-loader/index.js?cssPath=/home/runner/work/mockup/mockup/src/pat/contentbrowser/src/SelectedItems.svelte.1.css!./SelectedItems.svelte\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = function top_head_insert(el) {\n    // Insert element at the top of <head>\n    // Used for injecting CSS via webpack before any other CSS\n    // Note:\n    // Keep code compatible with IE11 as long as we support it.\n    var first_child = document.head.querySelectorAll(\"*\")[0];\n    if (first_child) {\n        document.head.insertBefore(el, first_child);\n    } else {\n        document.head.append(el);\n    }\n};\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/sass-loader/dist/cjs.js!../../../../node_modules/svelte-loader/index.js?cssPath=/home/runner/work/mockup/mockup/src/pat/contentbrowser/src/SelectedItems.svelte.1.css!./SelectedItems.svelte\";\n       export default content && content.locals ? content.locals : undefined;\n","<script>\n    import { getContext, onMount } from \"svelte\";\n    import { flip } from \"svelte/animate\";\n    import { request } from \"./api.js\";\n    import { resolveIcon } from \"./resolveIcon.js\";\n    import Sortable from \"sortablejs\";\n    import _t from \"../../../core/i18n-wrapper\";\n\n    let ref;\n    let initializing = true;\n\n    // get reactive context config\n    const config = getContext(\"config\");\n    const fieldId = $config.fieldId;\n    const selectedItemsNode = document.getElementById(fieldId);\n\n    // get reactive context store\n    const selectedItems = getContext(\"selectedItems\");\n    const selectedUids = getContext(\"selectedUids\");\n\n    // showContentBrowser reactive state\n    const showContentBrowser = getContext(\"showContentBrowser\");\n\n    function event_dispatch(name, detail) {\n        const event = new CustomEvent(name, {\n            detail: {\n                content: detail,\n            },\n            bubbles: true,\n        });\n        document.dispatchEvent(event);\n    }\n\n    onMount(async () => {\n        await initializeSelectedItemsStore();\n        initializeSorting();\n        initializing = false;\n    });\n\n    function unselectItem(i) {\n        selectedItems.update((n) => {\n            n.splice(i, 1);\n            return n;\n        });\n        selectedUids.update(() => $selectedItems.map((x) => x.UID));\n    }\n\n    async function getSelectedItemsUids(uids) {\n        if (!uids) {\n            return [];\n        }\n        const selectedItemsFromUids = await request({\n            vocabularyUrl: $config.vocabularyUrl,\n            attributes: $config.attributes,\n            uids: uids,\n        });\n        let results = (await selectedItemsFromUids?.results) || [];\n        // resort the results based on the order of uids\n        results.sort((a, b) => {\n            return uids.indexOf(a.UID) - uids.indexOf(b.UID);\n        })\n        return results;\n    }\n\n    async function initializeSelectedItemsStore() {\n        const initialValue = $config.selection.length\n            ? $config.selection\n            : selectedItemsNode?.value\n              ? selectedItemsNode.value.split($config.separator)\n              : [];\n\n        if (!initialValue.length) {\n            return;\n        }\n\n        const selectedItemsUids = await getSelectedItemsUids(initialValue);\n        $selectedItems = selectedItemsUids;\n        selectedUids.update(() => selectedItemsUids.map((x) => x.UID));\n    }\n\n    function initializeSorting() {\n        if ($config.maximumSelectionSize !== 1 && $selectedItems.length > 1) {\n            Sortable.create(\n                selectedItemsNode.previousSibling.querySelector(\n                    \".content-browser-selected-items\",\n                ),\n                {\n                    draggable: \".selected-item\",\n                    animation: 200,\n                    onUpdate: (e) => {\n                        let sortedUuids = [];\n                        for (const el of e.target.children) {\n                            sortedUuids.push(el.dataset[\"uuid\"]);\n                        }\n                        setNodeValue(sortedUuids);\n                    },\n                },\n            );\n        }\n    }\n\n    function selectedUidsFromSelectedItems() {\n        let items = [];\n        $selectedItems.forEach((item) => {\n            items.push(item.UID);\n        });\n        return items;\n    }\n\n    function setNodeValue(selectedUids) {\n        const node_val = selectedUids.join($config.separator);\n        selectedItemsNode.value = node_val;\n    }\n\n    $: {\n        $selectedItems;\n        if ($selectedItems.length || !initializing) {\n            setNodeValue(selectedUidsFromSelectedItems());\n            initializeSorting();\n            event_dispatch(\"updateSelection\", selectedUids);\n        }\n    }\n</script>\n\n<div class=\"content-browser-selected-items-wrapper\" bind:this={ref}>\n    <!-- {maxSelectionsize} -->\n    <div class=\"content-browser-selected-items\">\n        {#if $selectedItems}\n            {#each $selectedItems as selItem, i (selItem.UID)}\n                <div\n                    class=\"selected-item\"\n                    animate:flip={{ duration: 500 }}\n                    data-uuid={selItem.UID}\n                >\n                    <div class=\"item-info\">\n                        <!-- svelte-ignore a11y-missing-attribute -->\n                        <button\n                            class=\"btn btn-link btn-sm link-secondary\"\n                            on:click={() => unselectItem(i)}\n                            ><svg use:resolveIcon={{ iconName: \"x-circle\" }} /></button\n                        >\n                        <div>\n                            <span class=\"item-title\">{selItem.Title}</span><br />\n                            <span class=\"small\">{selItem.path}</span>\n                        </div>\n                    </div>\n                    {#if selItem.getURL && (selItem.getIcon || selItem.portal_type === \"Image\")}<img\n                            src=\"{selItem.getURL}/@@images/image/mini\"\n                            alt={selItem.Title}\n                        />{/if}\n                </div>\n            {/each}\n        {/if}\n        {#if !$selectedItems}\n            <p>{_t(\"loading selected items\")}</p>\n        {/if}\n    </div>\n    <button\n        class=\"btn btn-primary\"\n        style=\"border-radius:0 var(--bs-border-radius) var(--bs-border-radius) 0\"\n        disabled={$config.maximumSelectionSize > 0 &&\n            ($selectedItems.length || 0) >= $config.maximumSelectionSize}\n        on:click|preventDefault={() => ($showContentBrowser = true)}\n        >{_t(\"Select\")}</button\n    >\n</div>\n\n<style>\n    .content-browser-selected-items-wrapper {\n        display: flex;\n        align-items: start;\n    }\n    .content-browser-selected-items {\n        list-style: none;\n        background-color: var(--bs-body-bg);\n        border-radius: var(--bs-border-radius) 0 0 var(--bs-border-radius);\n        border: var(--bs-border-style) var(--bs-border-color) var(--bs-border-width);\n        min-height: 2.4rem;\n        padding: 0.5rem 0.5rem 0 0.5rem;\n        flex: 1 1 auto;\n    }\n    .content-browser-selected-items .selected-item {\n        border-radius: var(--bs-border-radius);\n        background-color: var(--bs-tertiary-bg);\n        border: var(--bs-border-style) var(--bs-border-color) var(--bs-border-width);\n        padding: 0.5rem;\n        margin-bottom: 0.5rem;\n        display: flex;\n        flex-wrap: nowrap;\n        align-items: start;\n        justify-content: space-between;\n        cursor: move;\n    }\n    .content-browser-selected-items .selected-item > * {\n        margin-right: 0.5rem;\n        display: block;\n    }\n    .content-browser-selected-items .selected-item button {\n        cursor: pointer;\n        padding: 0 0.375rem 0.374rem 0;\n    }\n    .content-browser-selected-items .selected-item .item-info {\n        display: flex;\n        align-items: start;\n    }\n    .content-browser-selected-items .selected-item > img {\n        object-fit: cover;\n        width: 95px;\n        height: 95px;\n    }\n</style>\n","import { setContext } from 'svelte';\nimport { writable } from 'svelte/store';\n\nexport const gridView = writable(false);\n\nexport function setCurrentPath() {\n    let currentPath = writable('');\n    setContext('currentPath', currentPath);\n}\n\nexport function setPathCache() {\n    let pathCache = writable({});\n    setContext('pathCache', pathCache);\n}\n\n// reactive context stores\nexport function setSelectedItems() {\n    let selItems = writable([]);\n    setContext('selectedItems', selItems);\n}\n\nexport function setConfig() {\n    let config = writable({});\n    setContext('config', config);\n}\n\nexport function setShowContentBrowser() {\n    let showContentBrowser = writable(false);\n    setContext('showContentBrowser', showContentBrowser);\n}\n\nexport function setSelectedUids() {\n    let selUids = writable([]);\n    setContext(\"selectedUids\", selUids);\n}\n","<script>\n    import logger from \"@patternslib/patternslib/src/core/logging\";\n    import { getContext } from \"svelte\";\n    import ContentBrowser from \"./ContentBrowser.svelte\";\n    import SelectedItems from \"./SelectedItems.svelte\";\n    import {\n        setConfig,\n        setCurrentPath,\n        setPathCache,\n        setSelectedItems,\n        setSelectedUids,\n        setShowContentBrowser,\n    } from \"./stores\";\n\n    export let maxDepth;\n    export let attributes;\n    export let contextPath;\n    export let vocabularyUrl;\n    export let mode = \"browse\";\n    export let basePath = \"\";\n    export let selectableTypes = [];\n    export let maximumSelectionSize = -1;\n    export let separator;\n    export let selection = [];\n    export let query = {};\n    export let fieldId;\n    export let upload;\n    export let recentlyUsed;\n    export let recentlyUsedKey;\n    export let bSize = 20;\n\n    const log = logger.getLogger(\"pat-contentbrowser\");\n\n    // initialize context stores\n    setCurrentPath();\n    setConfig();\n    setPathCache();\n    setSelectedItems();\n    setShowContentBrowser();\n    setSelectedUids();\n\n    // initially set current path\n    const currentPath = getContext(\"currentPath\");\n\n    if (!$currentPath) {\n        $currentPath = basePath || \"/\";\n    }\n\n    // base_url information\n    const base_url = document.body.getAttribute(\"data-portal-url\");\n\n    let config = getContext(\"config\");\n    $config = {\n        mode: mode,\n        attributes: attributes,\n        contextPath: contextPath,\n        vocabularyUrl: vocabularyUrl,\n        maxDepth: maxDepth,\n        basePath: basePath,\n        selectableTypes: selectableTypes,\n        maximumSelectionSize: maximumSelectionSize,\n        separator: separator,\n        selection: selection,\n        query: query,\n        fieldId: fieldId,\n        uploadEnabled: upload,\n        recentlyUsed: recentlyUsed,\n        recentlyUsedKey: recentlyUsedKey,\n        base_url: base_url,\n        pageSize: bSize,\n    };\n\n    log.debug(`Initialized App<${fieldId}> with config ${JSON.stringify($config)}`);\n</script>\n\n<ContentBrowser />\n<SelectedItems />\n"],"names":["___CSS_LOADER_EXPORT___","push","module","id","async","request","_ref","method","vocabularyUrl","attributes","path","uids","searchTerm","searchPath","levelInfoPath","selectableTypes","pageSize","page","vocabQuery","criteria","i","o","v","sort_on","sort_order","length","results","total","console","log","url","JSON","stringify","size","headers","Headers","set","response","fetch","json","ok","filtered_response","it","indexOf","portal_type","is_folderish","errors","config","pathCache","store","writable","load","query","get","updateCache","loadMorePath","portalPath","URL","base_url","pathname","mode","level","update","levels","has_more","more","selectable","gridView","search","pC","p","forEach","l","nextBatch","replace","RegExp","paths","parts","split","depth","maxDepth","partsToShow","slice","pathPrefix","join","sub_path","pop","pathCounter","isFirstPath","levelInfo","UID","Title","n","browse","clickOutside","node","handleClick","event","contains","target","dispatchEvent","CustomEvent","document","addEventListener","destroy","removeEventListener","resolveIcon","iconName","iconCode","utils","getIcon","outerHTML","options","styleTagTransform","setAttributes","insert","el","first_child","head","querySelectorAll","insertBefore","append","domAPI","insertStyleElement","locals","uploadEnabled","x","opacity","message","multiple","level_path","toLowerCase","getURL","parseInt","duration","preview_path","Description","scrollX","container","currentPath","showContentBrowser","selectedItems","selectedUids","contentItems","$config","showUpload","previewItem","vw","Math","max","documentElement","clientWidth","window","innerWidth","changePath","item","e","shiftKey","closest","querySelector","classList","add","selectedNode","select","children","toggle","selectItems","remove","pathParts","folderPath","scrollToRight","showPreview","addItem","$selectedItems","map","$showContentBrowser","cancelSelection","scrollContainer","scrollWidth","$currentPath","timeout","uploadEl","baseUrl","relativePath","allowPathSelection","hiddenInputContainer","success","fileUpload","obj","$selectedUids","timeoutId","clearTimeout","setTimeout","this","value","observer","IntersectionObserver","entries","entry","isIntersecting","dataset","levelPath","levelNextPage","threshold","root","margin","observe","addSelectedItems","maximumSelectionSize","ref","initializing","fieldId","selectedItemsNode","getElementById","unselectItem","splice","initializeSorting","previousSibling","draggable","animation","onUpdate","sortedUuids","setNodeValue","node_val","separator","initialValue","selection","selectedItemsUids","selectedItemsFromUids","sort","a","b","getSelectedItemsUids","initializeSelectedItemsStore","items","selectedUidsFromSelectedItems","name","detail","content","bubbles","event_dispatch","contextPath","basePath","upload","recentlyUsed","recentlyUsedKey","bSize","getLogger","setContext","setCurrentPath","setConfig","setPathCache","selItems","setSelectedItems","setShowContentBrowser","selUids","setSelectedUids","body","getAttribute","debug"],"sourceRoot":""}