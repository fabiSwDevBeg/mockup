{"version":3,"file":"chunks/18085.c74da7a056cdc49ca5c8.min.js","mappings":"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","sources":["webpack://@plone/mockup/./src/pat/contentbrowser/src/ContentBrowser.svelte","webpack://@plone/mockup/./src/pat/contentbrowser/src/SelectedItems.svelte","webpack://@plone/mockup/./src/pat/contentbrowser/src/utils.js","webpack://@plone/mockup/./src/pat/contentbrowser/src/ContentStore.js","webpack://@plone/mockup/Favorites.svelte","webpack://@plone/mockup/RecentlyUsed.svelte","webpack://@plone/mockup/./src/pat/contentbrowser/src/ContentBrowser.svelte?b874","webpack://@plone/mockup/ContentBrowser.svelte","webpack://@plone/mockup/./src/pat/contentbrowser/src/SelectedItems.svelte?e8bf","webpack://@plone/mockup/SelectedItems.svelte","webpack://@plone/mockup/./src/pat/contentbrowser/src/stores.js","webpack://@plone/mockup/App.svelte"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".content-browser-position-wrapper.svelte-tucjqd.svelte-tucjqd.svelte-tucjqd{position:fixed;top:0;right:0;display:flex;justify-content:end;z-index:1500;width:100%;height:100vh;background-color:rgba(0,0,0,.25)}.btn-xs.svelte-tucjqd.svelte-tucjqd.svelte-tucjqd{--bs-btn-padding-y:0.15rem;--bs-btn-padding-x:0.5rem;--bs-btn-font-size:0.75rem}.content-browser.svelte-tucjqd.svelte-tucjqd.svelte-tucjqd{height:100vh;min-width:550px;background-color:var(--bs-light-bg-subtle);border-left:var(--bs-border-style) var(--bs-border-width) #fff;z-index:1500;display:flex;flex-direction:column}.toolBar.svelte-tucjqd.svelte-tucjqd.svelte-tucjqd{background-color:var(--bs-primary);padding:.325rem .75rem;color:var(--bs-light);width:100%;display:flex;justify-content:start}.toolBar.svelte-tucjqd svg{vertical-align:-0.125em}.levelColumns.svelte-tucjqd.svelte-tucjqd.svelte-tucjqd{display:flex;flex-wrap:nowrap;width:100%;overflow:hidden;flex-grow:3;border-left:var(--bs-border-style) var(--bs-border-color) var(--bs-border-width);user-select:none}.levelColumn.svelte-tucjqd.svelte-tucjqd.svelte-tucjqd{width:320px;border-right:var(--bs-border-style) var(--bs-border-width) var(--bs-border-color);display:flex;flex-direction:column}.levelToolbar.svelte-tucjqd.svelte-tucjqd.svelte-tucjqd{width:100%;height:2.5rem;display:flex;justify-content:space-between;padding:.375rem;border-bottom:var(--bs-border-style) var(--bs-border-width) var(--bs-border-color)}.levelToolbar.svelte-tucjqd>.levelActions.svelte-tucjqd.svelte-tucjqd{margin-left:auto}.levelItems.svelte-tucjqd.svelte-tucjqd.svelte-tucjqd{overflow-x:auto}.contentItem.svelte-tucjqd.svelte-tucjqd.svelte-tucjqd{display:flex;align-items:center;justify-content:space-between;font-size:90%;min-height:2rem}.contentItem.svelte-tucjqd.svelte-tucjqd.svelte-tucjqd:focus-visible{outline:none}.contentItem.even.svelte-tucjqd.svelte-tucjqd.svelte-tucjqd{background-color:var(--bs-secondary-bg)}.contentItem.inPath.svelte-tucjqd.svelte-tucjqd.svelte-tucjqd,.contentItem.svelte-tucjqd.svelte-tucjqd.svelte-tucjqd:focus{background-color:rgba(var(--bs-primary-rgb), 0.15)}.contentItem.selectedItem.svelte-tucjqd.svelte-tucjqd.svelte-tucjqd{background-color:var(--bs-primary);color:var(--bs-body-bg)}.contentItem.svelte-tucjqd>.svelte-tucjqd.svelte-tucjqd{padding:.5rem;white-space:nowrap;max-width:450px;text-overflow:ellipsis;overflow:hidden}.contentItem.svelte-tucjqd>.browseSub.svelte-tucjqd.svelte-tucjqd{flex-shrink:0}.contentItem.svelte-tucjqd .grid-preview.svelte-tucjqd>img.svelte-tucjqd{width:95px;height:95px;object-fit:cover;float:left;margin-right:1rem}.preview.svelte-tucjqd.svelte-tucjqd.svelte-tucjqd{width:320px;min-height:300px;display:flex;flex-direction:column;align-items:center}.preview.svelte-tucjqd .info.svelte-tucjqd.svelte-tucjqd{padding:.5rem;width:100%;word-wrap:anywhere}.preview.svelte-tucjqd .info .previewIcon.svelte-tucjqd.svelte-tucjqd{margin:0 auto 1rem auto}.preview.svelte-tucjqd .info .previewIcon svg.svelte-tucjqd.svelte-tucjqd{width:50px !important;height:50px !important}.preview.svelte-tucjqd h4.svelte-tucjqd.svelte-tucjqd{font-size:1.2 rem}.preview.svelte-tucjqd img.svelte-tucjqd.svelte-tucjqd{max-width:100%;max-width:100%;margin-bottom:.5rem}.upload-wrapper.svelte-tucjqd.svelte-tucjqd.svelte-tucjqd{padding:1rem;width:590px;overflow-x:auto}.loadmore.svelte-tucjqd.svelte-tucjqd.svelte-tucjqd{text-align:center;padding:.25rem 0}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/pat/contentbrowser/src/ContentBrowser.svelte\"],\"names\":[],\"mappings\":\"AAAA,4EAAA,cAAA,CAAA,KAAA,CAAA,OAAA,CAAA,YAAA,CAAA,mBAAA,CAAA,YAAA,CAAA,UAAA,CAAA,YAAA,CAAA,gCAAA,CAAA,kDAAA,0BAAA,CAAA,yBAAA,CAAA,0BAAA,CAAA,2DAAA,YAAA,CAAA,eAAA,CAAA,0CAAA,CAAA,8DAAA,CAAA,YAAA,CAAA,YAAA,CAAA,qBAAA,CAAA,mDAAA,kCAAA,CAAA,sBAAA,CAAA,qBAAA,CAAA,UAAA,CAAA,YAAA,CAAA,qBAAA,CAAA,2BAAA,uBAAA,CAAA,wDAAA,YAAA,CAAA,gBAAA,CAAA,UAAA,CAAA,eAAA,CAAA,WAAA,CAAA,gFAAA,CAAA,gBAAA,CAAA,uDAAA,WAAA,CAAA,iFAAA,CACmC,YAAA,CAAA,qBAAA,CAAA,wDAAA,UAAA,CAAA,aAAA,CAAA,YAAA,CAAA,6BAAA,CAAA,eAAA,CAAA,kFAAA,CACA,sEAAA,gBAAA,CAAA,sDAAA,eAAA,CAAA,uDAAA,YAAA,CAAA,kBAAA,CAAA,6BAAA,CAAA,aAAA,CAAA,eAAA,CAAA,qEAAA,YAAA,CAAA,4DAAA,uCAAA,CAAA,2HAAA,kDAAA,CAAA,oEAAA,kCAAA,CAAA,uBAAA,CAAA,wDAAA,aAAA,CAAA,kBAAA,CAAA,eAAA,CAAA,sBAAA,CAAA,eAAA,CAAA,kEAAA,aAAA,CAAA,yEAAA,UAAA,CAAA,WAAA,CAAA,gBAAA,CAAA,UAAA,CAAA,iBAAA,CAAA,mDAAA,WAAA,CAAA,gBAAA,CAAA,YAAA,CAAA,qBAAA,CAAA,kBAAA,CAAA,yDAAA,aAAA,CAAA,UAAA,CAAA,kBAAA,CAAA,sEAAA,uBAAA,CAAA,0EAAA,qBAAA,CAAA,sBAAA,CAAA,sDAAA,iBAAA,CAAA,uDAAA,cAAA,CAAA,cAAA,CAAA,mBAAA,CAAA,0DAAA,YAAA,CAAA,WAAA,CAAA,eAAA,CAAA,oDAAA,iBAAA,CAAA,gBAAA\",\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".content-browser-selected-items-wrapper.svelte-bljrxf.svelte-bljrxf.svelte-bljrxf{display:flex;align-items:start}.content-browser-selected-items.svelte-bljrxf.svelte-bljrxf.svelte-bljrxf{list-style:none;background-color:var(--bs-body-bg);border-radius:var(--bs-border-radius) 0 0 var(--bs-border-radius);border:var(--bs-border-style) var(--bs-border-color) var(--bs-border-width);min-height:2.4rem;padding:.5rem .5rem 0 .5rem;flex:1 1 auto}.content-browser-selected-items.svelte-bljrxf .selected-item.svelte-bljrxf.svelte-bljrxf{border-radius:var(--bs-border-radius);background-color:var(--bs-tertiary-bg);border:var(--bs-border-style) var(--bs-border-color) var(--bs-border-width);padding:.5rem;margin-bottom:.5rem;display:flex;flex-wrap:nowrap;align-items:start;justify-content:space-between;cursor:move}.content-browser-selected-items.svelte-bljrxf .selected-item.svelte-bljrxf>.svelte-bljrxf{margin-right:.5rem;display:block}.content-browser-selected-items.svelte-bljrxf .selected-item button.svelte-bljrxf.svelte-bljrxf{cursor:pointer;padding:0 .375rem .374rem 0}.content-browser-selected-items.svelte-bljrxf .selected-item .item-info.svelte-bljrxf.svelte-bljrxf{display:flex;align-items:start}.content-browser-selected-items.svelte-bljrxf .selected-item.svelte-bljrxf>img.svelte-bljrxf{object-fit:cover;width:95px;height:95px}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/pat/contentbrowser/src/SelectedItems.svelte\"],\"names\":[],\"mappings\":\"AAAA,kFAAA,YAAA,CAAA,iBAAA,CAAA,0EAAA,eAAA,CAAA,kCAAA,CAAA,iEAAA,CAAA,2EAAA,CAAA,iBAAA,CAAA,2BAAA,CAAA,aAAA,CAAA,yFAAA,qCAAA,CAAA,sCAAA,CAAA,2EAAA,CAAA,aAAA,CAAA,mBAAA,CAAA,YAAA,CAAA,gBAAA,CAAA,iBAAA,CAAA,6BAAA,CAAA,WAAA,CAAA,0FAAA,kBAAA,CAAA,aAAA,CAAA,gGAAA,cAAA,CAAA,2BAAA,CAAA,oGAAA,YAAA,CAAA,iBAAA,CAAA,6FAAA,gBAAA,CAAA,UAAA,CAAA,WAAA\",\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","import utils from \"../../../core/utils.js\";\n\nexport async function request({\n    method = \"GET\",\n    vocabularyUrl = null,\n    attributes = [],\n    path = null,\n    uids = null,\n    searchTerm = null,\n    searchPath = null,\n    levelInfoPath = null,\n    selectableTypes = [],\n    pageSize = 100,\n    page = 1,\n}) {\n    let vocabQuery = {\n        criteria: [],\n    };\n    if (path) {\n        vocabQuery = {\n            criteria: [\n                {\n                    i: \"path\",\n                    o: \"plone.app.querystring.operation.string.path\",\n                    v: `${path}::1`,\n                },\n            ],\n            sort_on: \"getObjPositionInParent\",\n            sort_order: \"ascending\",\n        };\n    }\n    if (levelInfoPath) {\n        vocabQuery = {\n            criteria: [\n                {\n                    i: \"path\",\n                    o: \"plone.app.querystring.operation.string.path\",\n                    v: `${levelInfoPath}::0`,\n                },\n            ],\n        };\n    }\n    if (searchPath) {\n        // search from searchPath down\n        vocabQuery = {\n            criteria: [\n                {\n                    i: \"path\",\n                    o: \"plone.app.querystring.operation.string.path\",\n                    v: searchPath,\n                },\n            ],\n        };\n        if (selectableTypes) {\n            vocabQuery.criteria.push({\n                i: \"portal_type\",\n                o: \"plone.app.querystring.operation.list.contains\",\n                v: selectableTypes,\n            })\n        }\n    }\n    if (uids) {\n        vocabQuery = {\n            criteria: [\n                {\n                    i: \"UID\",\n                    o: \"plone.app.querystring.operation.list.contains\",\n                    v: uids,\n                },\n            ],\n        };\n    }\n    if (searchTerm) {\n        vocabQuery.criteria.push({\n            i: \"SearchableText\",\n            o: \"plone.app.querystring.operation.string.contains\",\n            v: `${searchTerm}`,\n\n        })\n    }\n\n    if (!vocabQuery.criteria.length) {\n        return {\n            results: [],\n            total: 0,\n        }\n    };\n    let url = `${vocabularyUrl}&query=${JSON.stringify(\n        vocabQuery\n    )}&attributes=${JSON.stringify(attributes)}&batch=${JSON.stringify({\n        page: page,\n        size: pageSize,\n    })}`;\n\n    let headers = new Headers();\n    headers.set(\"Accept\", \"application/json\");\n\n    const response = await fetch(url, {\n        method: method,\n        headers: headers,\n    });\n    const json = await response.json();\n\n    if (response.ok) {\n        if (!searchPath && !levelInfoPath && selectableTypes.length) {\n            // we iter through response and filter out non-selectable\n            // types but keep folderish types to maintain browsing\n            // the content structure.\n            const filtered_response = {\n                results: [],\n                total: json.total,\n            }\n            for (const it of json.results) {\n                if (selectableTypes.indexOf(it.portal_type) != -1 || it.is_folderish) {\n                    filtered_response.results.push(it);\n                }\n            }\n            return filtered_response;\n        }\n        return json;\n    } else {\n        return {\n            results: [],\n            total: 0,\n            errors: json.errors,\n        };\n    }\n}\n\nexport async function get_items_from_uids(uids, config) {\n    if (!uids) {\n        return [];\n    }\n    const selectedItemsFromUids = await request({\n        vocabularyUrl: config.vocabularyUrl,\n        attributes: config.attributes,\n        uids: uids,\n    });\n    let results = (await selectedItemsFromUids?.results) || [];\n    // resort the results based on the order of uids\n    results.sort((a, b) => {\n        return uids.indexOf(a.UID) - uids.indexOf(b.UID);\n    })\n    return results;\n}\n\n\n/** use Plone resolveIcon to load a SVG icon and replace node with icon code */\nexport async function resolveIcon(node, { iconName }) {\n\n    async function getIcon(iconName) {\n        const icon = await utils.resolveIcon(iconName)\n        return icon;\n    }\n    const iconCode = await getIcon(iconName);\n    node.outerHTML = iconCode;\n    return {\n        destroy() { },\n    };\n}\n\n/** Dispatch event on click outside of node */\nexport function clickOutside(node) {\n    const handleClick = (event) => {\n        if (node && !node.contains(event.target)) {\n            node.dispatchEvent(new CustomEvent(\"click_outside\", node));\n        }\n    };\n\n    document.addEventListener(\"click\", handleClick, true);\n\n    return {\n        destroy() {\n            document.removeEventListener(\"click\", handleClick, true);\n        },\n    };\n}\n\nexport function recentlyUsedItems(filterItems, config) {\n    let ret = utils.storage.get(config.recentlyUsedKey) || [];\n    // hard-limit to 1000 entries\n    ret = ret.slice(ret.length - 1000, ret.length);\n    if (filterItems && config?.selectableTypes.length) {\n        ret = ret.filter((it) => {\n            return config.selectableTypes.indexOf(it.portal_type) != -1;\n        });\n    }\n    // max is applied AFTER filtering selectable items.\n    const max = parseInt(config.recentlyUsedMaxItems, 10);\n    if (max) {\n        // return the slice from the end, as we want to display newest items first.\n        ret = ret.slice(ret.length - max, ret.length);\n    }\n    return ret;\n}\n\nexport function updateRecentlyUsed(item, config) {\n    if (!config.recentlyUsed) {\n        return;\n    }\n    // add to recently added items\n    const recentlyUsed = recentlyUsedItems(false, config); // do not filter for selectable but get all. append to that list the new item.\n    const alreadyPresent = recentlyUsed.filter((it) => {\n        return it.UID === item.UID;\n    });\n    if (alreadyPresent.length > 0) {\n        recentlyUsed.splice(recentlyUsed.indexOf(alreadyPresent[0]), 1);\n    }\n    recentlyUsed.push(item);\n    utils.storage.set(config.recentlyUsedKey, recentlyUsed);\n}\n","import { writable, get } from \"svelte/store\";\nimport { request } from \"./utils.js\";\n\nexport default function (config, pathCache) {\n    const store = writable([]);\n\n    const load = async (query) => {\n        let defaults = {\n            vocabularyUrl: config.vocabularyUrl,\n            attributes: config.attributes,\n            pageSize: config.pageSize,\n        };\n        query = {\n            ...defaults,\n            ...query,\n        }\n        if (config.selectableTypes.length) {\n            query[\"selectableTypes\"] = config.selectableTypes;\n        }\n        return await request(query);\n    }\n\n    const browse = async (portalPath, path, searchTerm, updateCache) => {\n        let paths = [];\n        let parts = path.split(\"/\") || [];\n        const depth = parts.length >= config.maxDepth ? config.maxDepth : parts.length;\n\n        let partsToShow = parts.slice(parts.length - depth, parts.length);\n        let partsToHide = parts.slice(0, parts.length - depth);\n        const pathPrefix = portalPath + partsToHide.join(\"/\");\n        const pC = get(pathCache);\n\n        while (partsToShow.length > 0) {\n            let sub_path = partsToShow.join(\"/\").replace(/^\\//, \"\");\n            const poped = partsToShow.pop();\n            sub_path = pathPrefix + ((poped != \"\") ? `/${sub_path}` : \"\");\n            if (paths.indexOf(sub_path) === -1) paths.push(sub_path);\n        }\n\n        let levels = [];\n        let pathCounter = 0;\n\n        for (var p of paths) {\n            pathCounter++;\n            const isFirstPath = pathCounter == 1;\n            let level = {};\n            if (\n                !(p in pC) ||  // new path not found in cache\n                (isFirstPath && searchTerm) ||  // filtering the level\n                updateCache  // manual cache update request\n            ) {\n                let query = {\n                    path: p,\n                };\n\n                if (isFirstPath && searchTerm) {\n                    query[\"searchTerm\"] = \"*\" + searchTerm + \"*\";\n                }\n\n                level = await load(query);\n\n                // check if there is more than the current batch\n                level.more = config.pageSize < level.total;\n                // save possible search filter for later batch loading\n                level.searchTerm = searchTerm;\n                level.page = 1;\n                level.path = p;\n                level.absPath = p.replace(portalPath, \"\");\n\n                // do not update cache when searching\n                if (!searchTerm) {\n                    const levelInfo = await load({\n                        levelInfoPath: p,\n                    });\n                    if (levelInfo.total) {\n                        level.UID = levelInfo.results[0].UID;\n                        level.Title = levelInfo.results[0].Title;\n                        level.portal_type = levelInfo.results[0].portal_type;\n                        level.getIcon = levelInfo.results[0].getIcon;\n                        // check if level is selectable (config.selectableTypes)\n                        level.selectable = (!config.selectableTypes.length || config.selectableTypes.indexOf(levelInfo.results[0].portal_type) != -1);\n                    }\n                    level.gridView = false;\n                    pathCache.update((n) => {\n                        n[p] = level;\n                        return n;\n                    });\n                }\n            } else {\n                level = pC[p];\n            }\n            levels = [level, ...levels];\n        }\n        store.set(levels);\n    }\n\n    const search = async (portalPath, searchTerm, page) => {\n        let query = {\n            searchPath: portalPath,\n            page: page,\n        };\n        if (searchTerm) {\n            query[\"searchTerm\"] = \"*\" + searchTerm + \"*\";\n        }\n        let level = await load(query);\n        level.page = page;\n        level.searchTerm = searchTerm;\n\n        store.update((levels) => {\n            const has_more = (page * config.pageSize) < level.total;\n\n            // first time or new search\n            if (levels.length == 0 || levels[0].searchTerm != searchTerm) {\n                level.more = has_more;\n                level.selectable = false;\n                level.gridView = false;\n                return [level,];\n            }\n\n            // has more ?\n            levels[0].more = has_more;\n            levels[0].page = level.page;\n\n            // append new batch\n            levels[0].results = [\n                ...levels[0].results,\n                ...level.results,\n            ];\n            return levels;\n        });\n    }\n\n    const nextBatch = async (p, page, searchTerm) => {\n        let query = {\n            path: p,\n            page: page,\n        };\n\n        if (searchTerm) {\n            query[\"searchTerm\"] = \"*\" + searchTerm + \"*\";\n        }\n\n        let level = await load(query);\n        level.more = (page * config.pageSize) < level.total;\n        level.page = page;\n\n        store.update((levels) => {\n            levels.forEach((l) => {\n                if (l.path != p) {\n                    return l;\n                }\n                l.page = level.page;\n                l.more = level.more;\n                l.results = [\n                    ...l.results,\n                    ...level.results,\n                ]\n            });\n            return levels;\n        });\n    }\n\n    store.get = async ({\n        path = \"\",\n        searchTerm = \"\",\n        updateCache = false,\n        loadMorePath = \"\",\n        page = 1,\n    }) => {\n        const base_url = new URL(config.base_url);\n        const portalPath = base_url.pathname;\n\n        if (config.mode === \"search\") {\n            await search(portalPath, searchTerm, page)\n        } else if (loadMorePath) {\n            const pC = get(pathCache);\n            if (!(loadMorePath in pC)) {\n                return;\n            }\n            let level = pC[loadMorePath];\n            if (page > level.page) {\n                await nextBatch(loadMorePath, page, level.searchTerm);\n            }\n        } else if (path) {\n            path = path.replace(new RegExp(`^${portalPath}`), \"\");\n            await browse(portalPath, path, searchTerm, updateCache);\n        }\n\n    };\n\n    return store;\n}\n","<script>\n    import { resolveIcon } from \"./utils\";\n    import _t from \"../../../core/i18n-wrapper\";\n    import { createEventDispatcher, getContext } from \"svelte\";\n\n    const config = getContext(\"config\");\n    const dispatch = createEventDispatcher();\n\n    function select(item) {\n        dispatch(\"selectItem\", {\n            item: item,\n        });\n    }\n</script>\n\n<div class=\"favorites dropdown dropdown-menu-end ms-2\">\n    <button\n        type=\"button\"\n        class=\"favorites dropdown-toggle btn btn-outline-light btn-sm\"\n        data-bs-toggle=\"dropdown\"\n        aria-haspopup=\"true\"\n        aria-expanded=\"false\"\n    >\n        <svg use:resolveIcon={{ iconName: \"star-fill\" }} />\n        {_t(\"Favorites\")}\n    </button>\n    <ul class=\"dropdown-menu\">\n        {#each $config.favorites as favorite}\n        <li>\n            <a class=\"dropdown-item\" href=\"{favorite.path}\" on:click|preventDefault={() => select(favorite)}>{favorite.title}</a>\n        </li>\n        {/each}\n    </ul>\n</div>\n","<script>\n    import { resolveIcon, recentlyUsedItems } from \"./utils\";\n    import _t from \"../../../core/i18n-wrapper\";\n    import { createEventDispatcher, getContext } from \"svelte\";\n\n    const config = getContext(\"config\");\n    const items = recentlyUsedItems(true, $config);\n    const dispatch = createEventDispatcher();\n\n    function select(item) {\n        dispatch(\"selectItem\", {\n            item: item,\n        });\n    }\n</script>\n\n{#if $config.recentlyUsed && items.length}\n    <div class=\"recentlyUsed dropdown ms-2\">\n        <button\n            type=\"button\"\n            class=\"recentlyUsed dropdown-toggle btn btn-outline-light btn-sm\"\n            data-bs-toggle=\"dropdown\"\n            aria-haspopup=\"true\"\n            aria-expanded=\"false\"\n        >\n            <svg use:resolveIcon={{ iconName: \"grid-fill\" }} />\n            {_t(\"Recently Used\")}\n        </button>\n        <ul class=\"dropdown-menu\">\n            {#each items.reverse() as recentlyUsed}\n                <li>\n                    <a\n                        href={recentlyUsed.getURL}\n                        on:click|preventDefault={() => select(recentlyUsed)}\n                        class=\"dropdown-item\"\n                    >\n                        <svg\n                            on:error={console.log(recentlyUsed)}\n                            use:resolveIcon={{\n                                iconName: `contenttype/${recentlyUsed?.portal_type.toLowerCase().replace(/\\.| /g, \"-\")}`,\n                            }}\n                        />\n                        {recentlyUsed.Title}\n                    </a>\n                </li>\n            {/each}\n        </ul>\n    </div>\n{/if}\n","\n      import API from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"../../../../node_modules/@patternslib/dev/webpack/style-inserter.js\";\n      import setAttributes from \"!../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/sass-loader/dist/cjs.js!../../../../node_modules/svelte-loader/index.js?cssPath=/home/runner/work/mockup/mockup/src/pat/contentbrowser/src/ContentBrowser.svelte.0.css!./ContentBrowser.svelte\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn;\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/sass-loader/dist/cjs.js!../../../../node_modules/svelte-loader/index.js?cssPath=/home/runner/work/mockup/mockup/src/pat/contentbrowser/src/ContentBrowser.svelte.0.css!./ContentBrowser.svelte\";\n       export default content && content.locals ? content.locals : undefined;\n","<script>\n    import utils from \"@patternslib/patternslib/src/core/utils\";\n    import { getContext } from \"svelte\";\n    import * as animateScroll from \"svelte-scrollto\";\n    import { fly } from \"svelte/transition\";\n    import _t from \"../../../core/i18n-wrapper\";\n    import Upload from \"../../upload/upload\";\n    import contentStore from \"./ContentStore\";\n    import {\n        clickOutside,\n        get_items_from_uids,\n        request,\n        resolveIcon,\n        updateRecentlyUsed,\n    } from \"./utils\";\n    import Favorites from \"./Favorites.svelte\";\n    import RecentlyUsed from \"./RecentlyUsed.svelte\";\n\n    animateScroll.setGlobalOptions({\n        scrollX: true,\n        container: \".levelColumns\",\n        duration: 500,\n    });\n\n    // get context stores\n    const currentPath = getContext(\"currentPath\");\n    const config = getContext(\"config\");\n    const pathCache = getContext(\"pathCache\");\n    const showContentBrowser = getContext(\"showContentBrowser\");\n    const selectedItems = getContext(\"selectedItems\");\n    const selectedUids = getContext(\"selectedUids\");\n    const previewUids = getContext(\"previewUids\");\n\n    // initialize content browser store\n    const contentItems = contentStore($config, pathCache);\n\n    let showUpload = false;\n    let previewItem = {};\n    let keyboardNavInitialized = false;\n    let shiftKey = false;\n\n    let vw = Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0);\n\n    function updatePreview({ data = null, uuid = null, action = \"show\" }) {\n        if (data && action == \"show\") {\n            previewItem = data;\n            $previewUids = [data.UID];\n        } else if (uuid && action == \"add\" && $previewUids.indexOf(uuid) === -1) {\n            if (\n                $config.maximumSelectionSize > 0 &&\n                $previewUids.length >= $config.maximumSelectionSize\n            ) {\n                // respect maximumSelectionSize\n                return;\n            }\n            $previewUids = [...$previewUids, uuid]; // NOTE: $previewUids.push() is not a reactive change\n        } else if (uuid && action == \"remove\" && $previewUids.indexOf(uuid) !== -1) {\n            previewUids.update((n) => {\n                n.splice(n.indexOf(uuid), 1);\n                return n;\n            });\n        } else if (action == \"clear\") {\n            previewItem = {};\n            $previewUids = [];\n        }\n    }\n\n    async function upload() {\n        updatePreview({ action: \"clear\" });\n        showUpload = true;\n        await utils.timeout(1);\n        const uploadEl = document.querySelector(\".upload-wrapper\");\n        uploadEl.classList.add(\"pat-upload\");\n        const patUpload = new Upload(uploadEl, {\n            baseUrl: $config.base_url,\n            currentPath: $currentPath,\n            relativePath: \"@@fileUpload\",\n            allowPathSelection: false,\n            hiddenInputContainer: \".upload-wrapper\",\n            success: (fileUpload, obj) => {\n                contentItems.get({ path: $currentPath, updateCache: true });\n            },\n        });\n    }\n\n    function showPreview(item) {\n        if ($config.mode == \"search\") {\n            // one level search mode\n            updatePreview({ data: item });\n        } else if (item.is_folderish) {\n            currentPath.set(item.path);\n        } else {\n            const pathParts = item.path.split(\"/\");\n            const folderPath = pathParts.slice(0, pathParts.length - 1).join(\"/\");\n            currentPath.set(folderPath || \"/\");\n            updatePreview({ data: item });\n        }\n        scrollToRight();\n    }\n\n    function changePath(item, e) {\n        showUpload = false;\n\n        // clear previous selection\n        updatePreview({ action: \"clear\" });\n\n        if (item === \"/\") {\n            // clicked \"home\" button\n            currentPath.set(item);\n            return;\n        }\n\n        // show clicked item\n        showPreview(item);\n    }\n\n    function clickItem(item, e) {\n        if (!keyboardNavInitialized) {\n            // if we've already clicked an element with the mouse\n            // do not start over keyboardnav\n            keyboardNavInitialized = true;\n        }\n\n        // check for multiselection\n        const levelWrapper = e.currentTarget.closest(\".levelItems\");\n        const prevSelection = levelWrapper.querySelectorAll(\".selectedItem\");\n\n        if (prevSelection.length && $config.maximumSelectionSize != 1) {\n            // check for pressed shift or ctrl/meta key for multiselection\n\n            if (shiftKey || e?.shiftKey) {\n                // iter through the wrapper children and select all\n                // inbetween current selection and last preview\n                let select = false;\n                for (const el of levelWrapper.children) {\n                    if ([item.UID, previewItem.UID].indexOf(el.dataset.uuid) !== -1) {\n                        if (select) {\n                            // stop selecting but make sure the last item is selected too\n                            updatePreview({\n                                uuid: el.dataset.uuid,\n                                action: \"add\",\n                            });\n                            select = false;\n                            continue;\n                        }\n                        // start selecting\n                        select = true;\n                    }\n                    updatePreview({\n                        uuid: el.dataset.uuid,\n                        action: select ? \"add\" : \"remove\",\n                    });\n                }\n            } else if (e?.metaKey || e?.ctrlKey) {\n                // de/select multiple single items\n                // NOTE: only for mouse click event\n                updatePreview({\n                    uuid: item.UID,\n                    action: $previewUids.indexOf(item.UID) == -1 ? \"add\" : \"remove\",\n                });\n            } else {\n                // unselect\n                [...prevSelection].map((el) => el.classList.remove(\"selectedItem\"));\n                changePath(item, e);\n            }\n        } else {\n            changePath(item, e);\n        }\n\n        e.currentTarget.focus(); // needed for keyboard navigation\n        e.currentTarget.classList.add(\"selectedItem\");\n    }\n\n    function initKeyboardNav() {\n        // focus first element when showing contentbrowser\n        if (keyboardNavInitialized) {\n            return;\n        }\n        const possibleFocusEls = [\n            ...document.querySelectorAll(\".levelColumn .inPath\"), // previously selected folder\n            ...document.querySelectorAll(\".levelColumn .selectedItem\"), // previously selected item\n            document.querySelector(\".levelColumn .contentItem\"), // default first item\n        ];\n        if (possibleFocusEls.length) {\n            keyboardNavInitialized = true;\n            possibleFocusEls[0].focus();\n        }\n    }\n\n    function keyboardNavigation(item, e) {\n        const node = e.currentTarget;\n        shiftKey = e.shiftKey;\n        if (e.key == \"Escape\") {\n            cancelSelection();\n        }\n        if (\n            e.key == \"ArrowDown\" &&\n            node?.nextElementSibling?.classList.contains(\"contentItem\")\n        ) {\n            node.nextElementSibling.click();\n        }\n        if (\n            e.key == \"ArrowUp\" &&\n            node?.previousElementSibling?.classList.contains(\"contentItem\")\n        ) {\n            node.previousElementSibling.click();\n        }\n        if (e.key == \"ArrowRight\") {\n            const currCol = e.target.closest(\".levelColumn\");\n            const nxtCol = currCol?.nextElementSibling;\n            if (!nxtCol || !nxtCol.classList.contains(\"levelColumn\")) {\n                return;\n            }\n            nxtCol.querySelector(\".contentItem\")?.click();\n        }\n        if (e.key == \"ArrowLeft\") {\n            const currCol = e.target.closest(\".levelColumn\");\n            const prevCol = currCol?.previousElementSibling;\n            if (!prevCol || !prevCol.classList.contains(\"levelColumn\")) {\n                return;\n            }\n            prevCol.querySelector(\".inPath\").click();\n        }\n        if (e.key == \"Space\") {\n            // add item to selection (like metaKey + click)\n            clickItem(item, e, true);\n        }\n        if (e.key == \"Enter\") {\n            if (isSelectable(item)) {\n                if ($config.maximumSelectionSize == 1) {\n                    addItem(item);\n                } else {\n                    addSelectedItems();\n                }\n            }\n        }\n    }\n\n    async function addItem(item) {\n        if ($config.maximumSelectionSize == 1) {\n            selectedItems.set([item]);\n            selectedUids.set([item.UID]);\n        } else {\n            selectedItems.update((n) => [...n, item]);\n            selectedUids.update(() => $selectedItems.map((x) => x.UID));\n        }\n        updateRecentlyUsed(item, $config);\n        updatePreview({ action: \"clear\" });\n        $showContentBrowser = false;\n        keyboardNavInitialized = false;\n    }\n\n    async function addSelectedItems() {\n        const previewItems = await get_items_from_uids($previewUids, $config);\n        selectedItems.update((n) => {\n            for (const it of previewItems) {\n                if ($selectedUids.indexOf(it.UID) != -1) continue;\n                n.push(it);\n            }\n            return n;\n        });\n        selectedUids.update(() => $selectedItems.map((x) => x.UID));\n        updatePreview({ action: \"clear\" });\n        $showContentBrowser = false;\n        keyboardNavInitialized = false;\n    }\n\n    function selectRecentlyUsed(event) {\n        addItem(event.detail.item);\n    }\n\n    async function selectFavorite(event) {\n        const path = event.detail.item.path;\n        const response = await request({\n            vocabularyUrl: $config.vocabularyUrl,\n            attributes: $config.attributes,\n            levelInfoPath: path,\n        });\n        if (!response.total) {\n            alert(`${path} not found!`);\n            return;\n        }\n        const item = response.results[0];\n        if (!item.path) {\n            // fix for Plone Site\n            item.path = \"/\";\n        }\n        changePath(item);\n    }\n\n    function cancelSelection() {\n        $showContentBrowser = false;\n        keyboardNavInitialized = false;\n        updatePreview({ action: \"clear\" });\n    }\n\n    function isSelectable(item) {\n        return $selectedUids.indexOf(item.UID) === -1;\n    }\n\n    function scrollToRight() {\n        const scrollContainer = document.querySelector(\".levelColumns\");\n        if (scrollContainer) {\n            animateScroll.scrollTo({\n                // element: \".levelColumn:last-child\",\n                x: scrollContainer.scrollWidth + 100,\n            });\n        }\n    }\n\n    function itemInPath(item) {\n        return $currentPath.indexOf(item.path) != -1;\n    }\n\n    function filterItems() {\n        let timeoutId;\n        if (timeoutId) {\n            clearTimeout(timeoutId);\n        }\n        timeoutId = setTimeout(() => {\n            contentItems.get({ path: $currentPath, searchTerm: this.value });\n        }, 300);\n    }\n\n    function loadMore(node) {\n        const observer = new IntersectionObserver(\n            (entries) => {\n                for (const entry of entries) {\n                    if (entry.isIntersecting) {\n                        const path = node.dataset.levelPath;\n                        const page = parseInt(node.dataset.levelNextPage);\n                        contentItems.get({\n                            loadMorePath: path,\n                            page: page,\n                        });\n                    }\n                }\n            },\n            { threshold: 0, root: null, margin: \"0px\" },\n        );\n        // defer observing\n        window.setTimeout(() => {\n            observer.observe(node);\n        }, 500);\n    }\n\n    $: {\n        if ($showContentBrowser) {\n            contentItems.get({ path: $currentPath });\n        }\n    }\n\n    $: {\n        $contentItems;\n        scrollToRight();\n    }\n\n    $: {\n        $previewUids;\n    }\n</script>\n\n{#if $showContentBrowser}\n    <div class=\"content-browser-position-wrapper\">\n        <nav\n            class=\"content-browser\"\n            transition:fly={{ x: (vw / 100) * 94, opacity: 1 }}\n            on:introend={() => {\n                scrollToRight();\n                initKeyboardNav();\n            }}\n            use:clickOutside\n            on:click_outside={cancelSelection}\n        >\n            <div class=\"toolBar navbar\">\n                <div class=\"filter\">\n                    <input type=\"text\" name=\"filter\" on:input={filterItems} />\n                    <label for=\"filter\"\n                        ><svg use:resolveIcon={{ iconName: \"search\" }} /></label\n                    >\n                </div>\n                <RecentlyUsed on:selectItem={selectRecentlyUsed} />\n                <Favorites on:selectItem={selectFavorite} />\n                {#if $config.uploadEnabled}\n                    <div class=\"ms-2\">\n                        <button\n                            type=\"button\"\n                            class=\"upload btn btn-outline-light btn-sm\"\n                            tabindex=\"0\"\n                            on:keydown={upload}\n                            on:click={upload}\n                            ><svg use:resolveIcon={{ iconName: \"upload\" }} />\n                            {_t(\"upload to ${current_path}\", {\n                                current_path: $currentPath,\n                            })}</button\n                        >\n                    </div>\n                {/if}\n                <button\n                    class=\"btn btn-link text-white ms-auto\"\n                    tabindex=\"0\"\n                    on:click|preventDefault={() => cancelSelection()}\n                    ><svg use:resolveIcon={{ iconName: \"x-circle\" }} /></button\n                >\n            </div>\n            {#await $contentItems}\n                <p>{_t(\"loading content items\")}</p>\n            {:then levels}\n                <div class=\"levelColumns\">\n                    {#each levels as level, i (level.path)}\n                        <div\n                            class=\"levelColumn{i % 2 == 0 ? ' odd' : ' even'}\"\n                            in:fly|local={{ duration: 300 }}\n                        >\n                            <div class=\"levelToolbar\">\n                                {#if i == 0}\n                                    <button\n                                        type=\"button\"\n                                        class=\"btn btn-link btn-xs ps-0\"\n                                        tabindex=\"0\"\n                                        on:keydown={() => changePath(\"/\")}\n                                        on:click={() => changePath(\"/\")}\n                                        ><svg\n                                            use:resolveIcon={{ iconName: \"house\" }}\n                                        /></button\n                                    >\n                                {/if}\n                                {#if level.selectable}\n                                    <button\n                                        class=\"btn btn-primary btn-xs\"\n                                        disabled={!isSelectable(level)}\n                                        on:click|preventDefault={() => addItem(level)}\n                                    >\n                                        {_t(\"select ${level_path}\", {\n                                            level_path: level.absPath || \"/\",\n                                        })}\n                                    </button>\n                                {/if}\n                                <div class=\"levelActions\">\n                                    {#if !level.gridView}\n                                        <button\n                                            class=\"btn btn-link btn-xs grid-view\"\n                                            on:click={() => (level.gridView = true)}\n                                        >\n                                            <svg\n                                                use:resolveIcon={{ iconName: \"grid\" }}\n                                            />\n                                        </button>\n                                    {:else}\n                                        <button\n                                            class=\"btn btn-link btn-xs grid-view\"\n                                            on:click={() => (level.gridView = false)}\n                                        >\n                                            <svg\n                                                use:resolveIcon={{ iconName: \"list\" }}\n                                            />\n                                        </button>\n                                    {/if}\n                                </div>\n                            </div>\n                            <div class=\"levelItems\">\n                                {#each level.results || [] as item, n}\n                                    <!-- svelte-ignore missing-declaration -->\n                                    <div\n                                        class=\"contentItem{n % 2 == 0\n                                            ? ' odd'\n                                            : ' even'}{itemInPath(item)\n                                            ? ' inPath'\n                                            : ''}{$previewUids.indexOf(item.UID) != -1\n                                            ? ' selectedItem'\n                                            : ''}{!isSelectable(item)\n                                            ? ' text-muted'\n                                            : ''}\"\n                                        role=\"button\"\n                                        tabindex={n}\n                                        data-uuid={item.UID}\n                                        on:keydown|preventDefault={(e) =>\n                                            keyboardNavigation(item, e)}\n                                        on:click={(e) => clickItem(item, e)}\n                                    >\n                                        {#if level.gridView}\n                                            <div class=\"grid-preview\">\n                                                {#if item.getIcon}\n                                                    <img\n                                                        src={`${item.getURL}/@@images/image/thumb`}\n                                                        alt={item.Title}\n                                                    />\n                                                {:else}\n                                                    <svg\n                                                        use:resolveIcon={{\n                                                            iconName: `contenttype/${item.portal_type.toLowerCase().replace(/\\.| /g, \"-\")}`,\n                                                        }}\n                                                    />\n                                                {/if}\n                                                {item.Title}\n                                            </div>\n                                        {:else}\n                                            <div\n                                                class=\"item-title\"\n                                                title=\"{item.portal_type}: {item.Title}\"\n                                            >\n                                                <svg\n                                                    use:resolveIcon={{\n                                                        iconName: `contenttype/${item.portal_type.toLowerCase().replace(/\\.| /g, \"-\")}`,\n                                                    }}\n                                                />\n                                                {item.Title}\n                                            </div>\n                                        {/if}\n                                        {#if item.is_folderish && $config.mode == \"browse\"}\n                                            <div class=\"browseSub\">\n                                                <svg\n                                                    use:resolveIcon={{\n                                                        iconName: \"arrow-right-circle\",\n                                                    }}\n                                                />\n                                            </div>\n                                        {/if}\n                                    </div>\n                                {/each}\n                                {#if level.more}\n                                    <div\n                                        class=\"loadmore\"\n                                        data-level-path={level.path}\n                                        data-level-next-page={parseInt(level.page) + 1}\n                                        use:loadMore\n                                    >\n                                        <div class=\"spinner-border\" role=\"status\"></div>\n                                    </div>\n                                {/if}\n                                {#if level.total == 0}\n                                    <div class=\"contentItem\">\n                                        <p>{_t(\"no results found\")}</p>\n                                    </div>\n                                {/if}\n                            </div>\n                        </div>\n                    {/each}\n                    {#if previewItem?.UID && $previewUids.length == 1}\n                        <div class=\"preview\">\n                            <div class=\"levelToolbar\">\n                                <button\n                                    class=\"btn btn-primary btn-xs\"\n                                    disabled={!isSelectable(previewItem)}\n                                    on:click|preventDefault={() => addItem(previewItem)}\n                                    >{_t(\"select ${preview_path}\", {\n                                        preview_path: previewItem.path.split(\"/\").pop(),\n                                    })}</button\n                                >\n                            </div>\n                            <div class=\"info\">\n                                {#if previewItem.getIcon}\n                                    <div class=\"previewImage\">\n                                        <img\n                                            src=\"{previewItem.getURL}/@@images/image/preview\"\n                                            alt={previewItem.Title}\n                                        />\n                                    </div>\n                                {:else}\n                                    <div class=\"previewIcon\">\n                                        <svg\n                                            use:resolveIcon={{\n                                                iconName: `contenttype/${previewItem.portal_type.toLowerCase().replace(/\\.| /g, \"-\")}`,\n                                            }}\n                                        />\n                                    </div>\n                                {/if}\n                                <h4>{previewItem.Title}</h4>\n                                <p>{previewItem.Description}</p>\n                            </div>\n                        </div>\n                    {/if}\n                    {#if $previewUids.length > 1}\n                        <div class=\"preview\">\n                            <div class=\"levelToolbar\">\n                                <button\n                                    class=\"btn btn-primary btn-xs\"\n                                    on:click|preventDefault={addSelectedItems}\n                                    >{_t(\"add selected items\")}</button\n                                >\n                            </div>\n                            <div class=\"info\">\n                                <svg\n                                    use:resolveIcon={{\n                                        iconName: \"files\",\n                                    }}\n                                />\n                            </div>\n                        </div>\n                    {/if}\n                    {#if showUpload}\n                        <div class=\"upload-wrapper\"></div>\n                    {/if}\n                </div>\n            {:catch error}\n                <p style=\"color: red\">{error.message}</p>\n            {/await}\n        </nav>\n    </div>\n{/if}\n\n<style>\n    .content-browser-position-wrapper {\n        position: fixed;\n        top: 0;\n        right: 0;\n        display: flex;\n        justify-content: end;\n        z-index: 1500;\n        width: 100%;\n        height: 100vh;\n        background-color: rgba(0, 0, 0, 0.25);\n    }\n    .btn-xs {\n        --bs-btn-padding-y: 0.15rem;\n        --bs-btn-padding-x: 0.5rem;\n        --bs-btn-font-size: 0.75rem;\n    }\n    .content-browser {\n        height: 100vh;\n        min-width: 550px;\n        background-color: var(--bs-light-bg-subtle);\n        border-left: var(--bs-border-style) var(--bs-border-width) #fff;\n        z-index: 1500;\n        display: flex;\n        flex-direction: column;\n    }\n    .toolBar {\n        background-color: var(--bs-primary);\n        padding: 0.325rem 0.75rem;\n        color: var(--bs-light);\n        width: 100%;\n        display: flex;\n        justify-content: start;\n    }\n    .toolBar :global(svg) {\n        vertical-align: -0.125em;\n    }\n    .levelColumns {\n        display: flex;\n        flex-wrap: nowrap;\n        width: 100%;\n        overflow: hidden;\n        flex-grow: 3;\n        border-left: var(--bs-border-style) var(--bs-border-color) var(--bs-border-width);\n        user-select: none;\n    }\n\n    .levelColumn {\n        width: 320px;\n        border-right: var(--bs-border-style) var(--bs-border-width)\n            var(--bs-border-color);\n        display: flex;\n        flex-direction: column;\n    }\n\n    .levelToolbar {\n        width: 100%;\n        height: 2.5rem;\n        display: flex;\n        justify-content: space-between;\n        padding: 0.375rem;\n        border-bottom: var(--bs-border-style) var(--bs-border-width)\n            var(--bs-border-color);\n    }\n    .levelToolbar > .levelActions {\n        margin-left: auto;\n    }\n\n    .levelItems {\n        overflow-x: auto;\n    }\n    .contentItem {\n        /* padding: 1rem 1rem; */\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n        font-size: 90%;\n        min-height: 2rem;\n    }\n    .contentItem:focus-visible {\n        outline: none;\n    }\n    .contentItem.even {\n        background-color: var(--bs-secondary-bg);\n    }\n    .contentItem.inPath,\n    .contentItem:focus {\n        background-color: rgba(var(--bs-primary-rgb), 0.15);\n    }\n    .contentItem.selectedItem {\n        background-color: var(--bs-primary);\n        color: var(--bs-body-bg);\n    }\n    .contentItem > * {\n        padding: 0.5rem;\n        white-space: nowrap;\n        max-width: 450px;\n        text-overflow: ellipsis;\n        overflow: hidden;\n    }\n    .contentItem > .browseSub {\n        flex-shrink: 0;\n    }\n\n    .contentItem .grid-preview > img {\n        width: 95px;\n        height: 95px;\n        object-fit: cover;\n        float: left;\n        margin-right: 1rem;\n    }\n    .preview {\n        width: 320px;\n        min-height: 300px;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n    }\n    .preview .info {\n        padding: 0.5rem;\n        width: 100%;\n        word-wrap: anywhere;\n    }\n    .preview .info .previewIcon {\n        margin: 0 auto 1rem auto;\n    }\n    .preview .info .previewIcon svg {\n        width: 50px !important;\n        height: 50px !important;\n    }\n    .preview h4 {\n        font-size: 1.2 rem;\n    }\n    .preview img {\n        max-width: 100%;\n        max-width: 100%;\n        margin-bottom: 0.5rem;\n    }\n\n    .upload-wrapper {\n        padding: 1rem;\n        width: 590px;\n        overflow-x: auto;\n    }\n    .loadmore {\n        text-align: center;\n        padding: 0.25rem 0;\n    }\n</style>\n","\n      import API from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"../../../../node_modules/@patternslib/dev/webpack/style-inserter.js\";\n      import setAttributes from \"!../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/sass-loader/dist/cjs.js!../../../../node_modules/svelte-loader/index.js?cssPath=/home/runner/work/mockup/mockup/src/pat/contentbrowser/src/SelectedItems.svelte.1.css!./SelectedItems.svelte\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn;\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/sass-loader/dist/cjs.js!../../../../node_modules/svelte-loader/index.js?cssPath=/home/runner/work/mockup/mockup/src/pat/contentbrowser/src/SelectedItems.svelte.1.css!./SelectedItems.svelte\";\n       export default content && content.locals ? content.locals : undefined;\n","<script>\n    import { getContext, onMount } from \"svelte\";\n    import { flip } from \"svelte/animate\";\n    import { get_items_from_uids, resolveIcon } from \"./utils.js\";\n    import Sortable from \"sortablejs\";\n    import _t from \"../../../core/i18n-wrapper\";\n    import events from \"@patternslib/patternslib/src/core/events\";\n\n    let ref;\n    let initializing = true;\n\n    // get reactive context config\n    const config = getContext(\"config\");\n    const fieldId = $config.fieldId;\n    const selectedItemsNode = document.getElementById(fieldId);\n\n    // get reactive context store\n    const selectedItems = getContext(\"selectedItems\");\n    const selectedUids = getContext(\"selectedUids\");\n\n    // showContentBrowser reactive state\n    const showContentBrowser = getContext(\"showContentBrowser\");\n\n    onMount(async () => {\n        await initializeSelectedItemsStore();\n        initializeSorting();\n        initializing = false;\n    });\n\n    function unselectItem(i) {\n        selectedItems.update((n) => {\n            n.splice(i, 1);\n            return n;\n        });\n        selectedUids.update(() => $selectedItems.map((x) => x.UID));\n    }\n\n    async function initializeSelectedItemsStore() {\n        const initialValue = $config.selection.length\n            ? $config.selection\n            : selectedItemsNode?.value\n              ? selectedItemsNode.value.split($config.separator)\n              : [];\n\n        if (!initialValue.length) {\n            return;\n        }\n\n        const selectedItemsUids = await get_items_from_uids(initialValue, $config);\n        $selectedItems = selectedItemsUids;\n        selectedUids.update(() => selectedItemsUids.map((x) => x.UID));\n    }\n\n    function initializeSorting() {\n        if ($config.maximumSelectionSize !== 1 && $selectedItems.length > 1) {\n            Sortable.create(\n                selectedItemsNode.previousSibling.querySelector(\n                    \".content-browser-selected-items\",\n                ),\n                {\n                    draggable: \".selected-item\",\n                    animation: 200,\n                    onUpdate: (e) => {\n                        let sortedUuids = [];\n                        for (const el of e.target.children) {\n                            sortedUuids.push(el.dataset[\"uuid\"]);\n                        }\n                        setNodeValue(sortedUuids);\n                    },\n                },\n            );\n        }\n    }\n\n    function selectedUidsFromSelectedItems() {\n        let items = [];\n        $selectedItems.forEach((item) => {\n            items.push(item.UID);\n        });\n        return items;\n    }\n\n    function setNodeValue(selectedUids) {\n        const node_val = selectedUids.join($config.separator);\n        selectedItemsNode.value = node_val;\n        selectedItemsNode.dispatchEvent(events.change_event());\n    }\n\n    $: {\n        $selectedItems;\n        if ($selectedItems.length || !initializing) {\n            setNodeValue(selectedUidsFromSelectedItems());\n            initializeSorting();\n        }\n    }\n</script>\n\n<div\n    class=\"content-browser-selected-items-wrapper\"\n    style=\"width: {$config.width || 'auto'}\"\n    bind:this={ref}\n>\n    <!-- {maxSelectionsize} -->\n    <div class=\"content-browser-selected-items\">\n        {#if $selectedItems}\n            {#each $selectedItems as selItem, i (selItem.UID)}\n                <div\n                    class=\"selected-item\"\n                    animate:flip={{ duration: 500 }}\n                    data-uuid={selItem.UID}\n                >\n                    <div class=\"item-info\">\n                        <!-- svelte-ignore a11y-missing-attribute -->\n                        <button\n                            class=\"btn btn-link btn-sm link-secondary\"\n                            on:click={() => unselectItem(i)}\n                            ><svg use:resolveIcon={{ iconName: \"x-circle\" }} /></button\n                        >\n                        <div>\n                            <span class=\"item-title\">{selItem.Title}</span><br />\n                            <span class=\"small\">{selItem.path}</span>\n                        </div>\n                    </div>\n                    {#if selItem.getURL && (selItem.getIcon || selItem.portal_type === \"Image\")}<img\n                            src=\"{selItem.getURL}/@@images/image/mini\"\n                            alt={selItem.Title}\n                        />{/if}\n                </div>\n            {/each}\n        {/if}\n        {#if !$selectedItems}\n            <p>{_t(\"loading selected items\")}</p>\n        {/if}\n    </div>\n    <button\n        class=\"btn btn-primary\"\n        style=\"border-radius:0 var(--bs-border-radius) var(--bs-border-radius) 0\"\n        on:click|preventDefault={() => ($showContentBrowser = true)}\n        >{_t(\"Select\")}</button\n    >\n</div>\n\n<style>\n    .content-browser-selected-items-wrapper {\n        display: flex;\n        align-items: start;\n    }\n    .content-browser-selected-items {\n        list-style: none;\n        background-color: var(--bs-body-bg);\n        border-radius: var(--bs-border-radius) 0 0 var(--bs-border-radius);\n        border: var(--bs-border-style) var(--bs-border-color) var(--bs-border-width);\n        min-height: 2.4rem;\n        padding: 0.5rem 0.5rem 0 0.5rem;\n        flex: 1 1 auto;\n    }\n    .content-browser-selected-items .selected-item {\n        border-radius: var(--bs-border-radius);\n        background-color: var(--bs-tertiary-bg);\n        border: var(--bs-border-style) var(--bs-border-color) var(--bs-border-width);\n        padding: 0.5rem;\n        margin-bottom: 0.5rem;\n        display: flex;\n        flex-wrap: nowrap;\n        align-items: start;\n        justify-content: space-between;\n        cursor: move;\n    }\n    .content-browser-selected-items .selected-item > * {\n        margin-right: 0.5rem;\n        display: block;\n    }\n    .content-browser-selected-items .selected-item button {\n        cursor: pointer;\n        padding: 0 0.375rem 0.374rem 0;\n    }\n    .content-browser-selected-items .selected-item .item-info {\n        display: flex;\n        align-items: start;\n    }\n    .content-browser-selected-items .selected-item > img {\n        object-fit: cover;\n        width: 95px;\n        height: 95px;\n    }\n</style>\n","import { setContext } from 'svelte';\nimport { writable } from 'svelte/store';\n\nexport const gridView = writable(false);\n\nexport function setCurrentPath() {\n    let currentPath = writable('');\n    setContext('currentPath', currentPath);\n}\n\nexport function setPathCache() {\n    let pathCache = writable({});\n    setContext('pathCache', pathCache);\n}\n\n// reactive context stores\nexport function setSelectedItems() {\n    let selItems = writable([]);\n    setContext('selectedItems', selItems);\n}\n\nexport function setConfig() {\n    let config = writable({});\n    setContext('config', config);\n}\n\nexport function setShowContentBrowser() {\n    let showContentBrowser = writable(false);\n    setContext('showContentBrowser', showContentBrowser);\n}\n\nexport function setSelectedUids() {\n    let selUids = writable([]);\n    setContext(\"selectedUids\", selUids);\n}\n\nexport function setPreviewUids() {\n    let prevUids = writable([]);\n    setContext(\"previewUids\", prevUids);\n}\n","<script>\n    import logger from \"@patternslib/patternslib/src/core/logging\";\n    import { getContext } from \"svelte\";\n    import ContentBrowser from \"./ContentBrowser.svelte\";\n    import SelectedItems from \"./SelectedItems.svelte\";\n    import {\n        setConfig,\n        setCurrentPath,\n        setPathCache,\n        setSelectedItems,\n        setSelectedUids,\n        setPreviewUids,\n        setShowContentBrowser,\n    } from \"./stores\";\n\n    export let maxDepth;\n    export let width;\n    export let attributes;\n    export let contextPath;\n    export let vocabularyUrl;\n    export let mode = \"browse\";\n    export let basePath = \"\";\n    export let selectableTypes = [];\n    export let maximumSelectionSize = -1;\n    export let separator;\n    export let selection = [];\n    export let query = {};\n    export let fieldId;\n    export let upload;\n    export let favorites;\n    export let recentlyUsed;\n    export let recentlyUsedKey;\n    export let recentlyUsedMaxItems;\n    export let bSize = 20;\n\n    const log = logger.getLogger(\"pat-contentbrowser\");\n\n    // initialize context stores\n    setCurrentPath();\n    setConfig();\n    setPathCache();\n    setSelectedItems();\n    setShowContentBrowser();\n    setSelectedUids();\n    setPreviewUids();\n\n    // initially set current path\n    const currentPath = getContext(\"currentPath\");\n\n    if (!$currentPath) {\n        $currentPath = basePath || \"/\";\n    }\n\n    // base_url information\n    const base_url = document.body.getAttribute(\"data-portal-url\");\n\n    let config = getContext(\"config\");\n    $config = {\n        mode: mode,\n        attributes: attributes,\n        contextPath: contextPath,\n        vocabularyUrl: vocabularyUrl,\n        width: width,\n        maxDepth: maxDepth,\n        basePath: basePath,\n        selectableTypes: selectableTypes,\n        maximumSelectionSize: maximumSelectionSize,\n        separator: separator,\n        selection: selection,\n        query: query,\n        fieldId: fieldId,\n        uploadEnabled: upload,\n        favorites: favorites,\n        recentlyUsed: recentlyUsed,\n        recentlyUsedKey: recentlyUsedKey,\n        recentlyUsedMaxItems: recentlyUsedMaxItems,\n        base_url: base_url,\n        pageSize: bSize,\n    };\n\n    log.debug(`Initialized App<${fieldId}> with config ${JSON.stringify($config)}`);\n</script>\n\n<ContentBrowser />\n<SelectedItems />\n"],"names":["___CSS_LOADER_EXPORT___","push","module","id","async","request","_ref","method","vocabularyUrl","attributes","path","uids","searchTerm","searchPath","levelInfoPath","selectableTypes","pageSize","page","vocabQuery","criteria","i","o","v","sort_on","sort_order","length","results","total","url","JSON","stringify","size","headers","Headers","set","response","fetch","json","ok","filtered_response","it","indexOf","portal_type","is_folderish","errors","get_items_from_uids","config","selectedItemsFromUids","sort","a","b","UID","resolveIcon","node","_ref2","iconName","iconCode","utils","getIcon","outerHTML","destroy","clickOutside","handleClick","event","contains","target","dispatchEvent","CustomEvent","document","addEventListener","removeEventListener","recentlyUsedItems","filterItems","ret","storage","get","recentlyUsedKey","slice","filter","max","parseInt","recentlyUsedMaxItems","pathCache","store","writable","load","query","updateCache","loadMorePath","portalPath","URL","base_url","pathname","mode","level","update","levels","has_more","more","selectable","gridView","search","pC","p","forEach","l","nextBatch","replace","RegExp","paths","parts","split","depth","maxDepth","partsToShow","pathPrefix","join","sub_path","pop","pathCounter","isFirstPath","absPath","levelInfo","Title","n","browse","title","favorites","dispatch","select","item","favorite","reverse","getURL","console","log","toLowerCase","recentlyUsed","items","$config","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","locals","uploadEnabled","x","opacity","current_path","message","level_path","duration","preview_path","Description","scrollX","container","currentPath","showContentBrowser","selectedItems","selectedUids","previewUids","contentItems","showUpload","previewItem","keyboardNavInitialized","shiftKey","vw","Math","documentElement","clientWidth","window","innerWidth","updatePreview","data","uuid","action","$previewUids","maximumSelectionSize","splice","changePath","e","pathParts","folderPath","scrollToRight","showPreview","clickItem","levelWrapper","currentTarget","closest","prevSelection","querySelectorAll","el","children","dataset","metaKey","ctrlKey","map","classList","remove","focus","add","initKeyboardNav","possibleFocusEls","querySelector","keyboardNavigation","key","cancelSelection","nextElementSibling","click","previousElementSibling","currCol","nxtCol","prevCol","isSelectable","addItem","addSelectedItems","$selectedItems","alreadyPresent","updateRecentlyUsed","$showContentBrowser","previewItems","$selectedUids","scrollContainer","scrollWidth","$currentPath","timeout","uploadEl","baseUrl","relativePath","allowPathSelection","hiddenInputContainer","success","fileUpload","obj","detail","alert","timeoutId","clearTimeout","setTimeout","this","value","observer","IntersectionObserver","entries","entry","isIntersecting","levelPath","levelNextPage","threshold","root","margin","observe","width","ref","initializing","fieldId","selectedItemsNode","getElementById","unselectItem","initializeSorting","previousSibling","draggable","animation","onUpdate","sortedUuids","setNodeValue","node_val","separator","events","change_event","initialValue","selection","selectedItemsUids","initializeSelectedItemsStore","selectedUidsFromSelectedItems","contextPath","basePath","upload","bSize","getLogger","setContext","setCurrentPath","setConfig","setPathCache","selItems","setSelectedItems","setShowContentBrowser","selUids","setSelectedUids","prevUids","setPreviewUids","body","getAttribute","debug"],"sourceRoot":""}