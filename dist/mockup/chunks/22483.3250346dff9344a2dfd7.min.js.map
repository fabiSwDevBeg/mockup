{"version":3,"file":"chunks/22483.3250346dff9344a2dfd7.min.js","mappings":"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","sources":["webpack://@plone/mockup/./src/pat/contentbrowser/src/ContentBrowser.svelte","webpack://@plone/mockup/./src/pat/contentbrowser/src/SelectedItems.svelte","webpack://@plone/mockup/./src/pat/contentbrowser/src/stores.js","webpack://@plone/mockup/./src/pat/contentbrowser/src/clickOutside.js","webpack://@plone/mockup/./src/pat/contentbrowser/src/resolveIcon.js","webpack://@plone/mockup/./src/pat/contentbrowser/src/ContentBrowser.svelte?b874","webpack://@plone/mockup/ContentBrowser.svelte","webpack://@plone/mockup/./src/pat/contentbrowser/src/ContentStore.js","webpack://@plone/mockup/./src/pat/contentbrowser/src/SelectedItems.svelte?e8bf","webpack://@plone/mockup/SelectedItems.svelte","webpack://@plone/mockup/./src/pat/contentbrowser/src/api.js","webpack://@plone/mockup/App.svelte"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".content-browser-position-wrapper.svelte-1c3y4uq.svelte-1c3y4uq.svelte-1c3y4uq{position:fixed;top:0;right:0;display:flex;justify-content:end;z-index:1500;width:100%;height:100vh;background-color:rgba(0,0,0,.25)}.content-browser.svelte-1c3y4uq.svelte-1c3y4uq.svelte-1c3y4uq{height:100vh;min-width:550px;background-color:var(--bs-light-bg-subtle);border-left:var(--bs-border-style) var(--bs-border-width) #fff;z-index:1500;display:flex;flex-direction:column}.toolBar.svelte-1c3y4uq.svelte-1c3y4uq.svelte-1c3y4uq{background-color:var(--bs-primary);padding:.325rem .75rem;color:var(--bs-light);width:100%;display:flex;justify-content:start}.toolBar.svelte-1c3y4uq>.path.svelte-1c3y4uq.svelte-1c3y4uq{padding-right:1.5rem}.toolBar.svelte-1c3y4uq>.filter.svelte-1c3y4uq.svelte-1c3y4uq{margin-left:auto}.toolBar.svelte-1c3y4uq>.upload.svelte-1c3y4uq.svelte-1c3y4uq{margin:0 1rem 0 2rem}.toolBar.svelte-1c3y4uq svg{vertical-align:-0.125em}.toolbarAction.svelte-1c3y4uq.svelte-1c3y4uq.svelte-1c3y4uq{color:var(--bs-light);background-color:rgba(0,0,0,0);border:none}.levelColumns.svelte-1c3y4uq.svelte-1c3y4uq.svelte-1c3y4uq{display:flex;flex-wrap:nowrap;width:100%;overflow-x:auto;flex-grow:3;border-left:var(--bs-border-style) var(--bs-border-color) var(--bs-border-width)}.levelColumn.svelte-1c3y4uq.svelte-1c3y4uq.svelte-1c3y4uq{min-width:320px;border-right:var(--bs-border-style) var(--bs-border-width) var(--bs-border-color)}.levelToolbar.svelte-1c3y4uq.svelte-1c3y4uq.svelte-1c3y4uq{width:100%;height:2.8rem;display:flex;justify-content:space-between;padding:.375rem;border-bottom:var(--bs-border-style) var(--bs-border-width) var(--bs-border-color)}.levelToolbar.svelte-1c3y4uq>.levelActions.svelte-1c3y4uq.svelte-1c3y4uq{margin-left:auto}.contentItem.svelte-1c3y4uq.svelte-1c3y4uq.svelte-1c3y4uq{display:flex;align-items:center;justify-content:space-between;font-size:90%;min-height:2rem;padding-right:.375rem}.contentItem.even.svelte-1c3y4uq.svelte-1c3y4uq.svelte-1c3y4uq{background-color:var(--bs-secondary-bg)}.contentItem.inPath.svelte-1c3y4uq.svelte-1c3y4uq.svelte-1c3y4uq{background-color:rgba(var(--bs-primary-rgb), 0.15)}.contentItem.currentItem.svelte-1c3y4uq.svelte-1c3y4uq.svelte-1c3y4uq{background-color:var(--bs-primary);color:var(--bs-body-bg)}.contentItem.svelte-1c3y4uq>.svelte-1c3y4uq.svelte-1c3y4uq{padding:.5rem;white-space:nowrap;max-width:100%}.contentItem.svelte-1c3y4uq .grid-preview.svelte-1c3y4uq>img.svelte-1c3y4uq{width:95px;height:95px;object-fit:cover;float:left;margin-right:1rem}.preview.svelte-1c3y4uq.svelte-1c3y4uq.svelte-1c3y4uq{min-width:320px;max-width:500px;min-height:300px;display:flex;flex-direction:column;align-items:center}.preview.svelte-1c3y4uq .info.svelte-1c3y4uq.svelte-1c3y4uq{padding:.5rem;width:100%}.preview.svelte-1c3y4uq h4.svelte-1c3y4uq.svelte-1c3y4uq{font-size:1.2 rem}.preview.svelte-1c3y4uq img.svelte-1c3y4uq.svelte-1c3y4uq{max-width:100%;max-width:100%;margin-bottom:.5rem}.upload-wrapper.svelte-1c3y4uq.svelte-1c3y4uq.svelte-1c3y4uq{padding:1rem;width:590px}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/pat/contentbrowser/src/ContentBrowser.svelte\"],\"names\":[],\"mappings\":\"AAAA,+EAAA,cAAA,CAAA,KAAA,CAAA,OAAA,CAAA,YAAA,CAAA,mBAAA,CAAA,YAAA,CAAA,UAAA,CAAA,YAAA,CAAA,gCAAA,CAAA,8DAAA,YAAA,CAAA,eAAA,CAAA,0CAAA,CAAA,8DAAA,CAAA,YAAA,CAAA,YAAA,CAAA,qBAAA,CAAA,sDAAA,kCAAA,CAAA,sBAAA,CAAA,qBAAA,CAAA,UAAA,CAAA,YAAA,CAAA,qBAAA,CAAA,4DAAA,oBAAA,CAAA,8DAAA,gBAAA,CAAA,8DAAA,oBAAA,CAAA,4BAAA,uBAAA,CAAA,4DAAA,qBAAA,CAAA,8BAAA,CAAA,WAAA,CAAA,2DAAA,YAAA,CAAA,gBAAA,CAAA,UAAA,CAAA,eAAA,CAAA,WAAA,CAAA,gFAAA,CAAA,0DAAA,eAAA,CAAA,iFAAA,CACmC,2DAAA,UAAA,CAAA,aAAA,CAAA,YAAA,CAAA,6BAAA,CAAA,eAAA,CAAA,kFAAA,CACA,yEAAA,gBAAA,CAAA,0DAAA,YAAA,CAAA,kBAAA,CAAA,6BAAA,CAAA,aAAA,CAAA,eAAA,CAAA,qBAAA,CAAA,+DAAA,uCAAA,CAAA,iEAAA,kDAAA,CAAA,sEAAA,kCAAA,CAAA,uBAAA,CAAA,2DAAA,aAAA,CAAA,kBAAA,CAAA,cAAA,CAAA,4EAAA,UAAA,CAAA,WAAA,CAAA,gBAAA,CAAA,UAAA,CAAA,iBAAA,CAAA,sDAAA,eAAA,CAAA,eAAA,CAAA,gBAAA,CAAA,YAAA,CAAA,qBAAA,CAAA,kBAAA,CAAA,4DAAA,aAAA,CAAA,UAAA,CAAA,yDAAA,iBAAA,CAAA,0DAAA,cAAA,CAAA,cAAA,CAAA,mBAAA,CAAA,6DAAA,YAAA,CAAA,WAAA\",\"sourcesContent\":[\".content-browser-position-wrapper.svelte-1c3y4uq.svelte-1c3y4uq.svelte-1c3y4uq{position:fixed;top:0;right:0;display:flex;justify-content:end;z-index:1500;width:100%;height:100vh;background-color:rgba(0, 0, 0, 0.25)}.content-browser.svelte-1c3y4uq.svelte-1c3y4uq.svelte-1c3y4uq{height:100vh;min-width:550px;background-color:var(--bs-light-bg-subtle);border-left:var(--bs-border-style) var(--bs-border-width) #fff;z-index:1500;display:flex;flex-direction:column}.toolBar.svelte-1c3y4uq.svelte-1c3y4uq.svelte-1c3y4uq{background-color:var(--bs-primary);padding:0.325rem 0.75rem;color:var(--bs-light);width:100%;display:flex;justify-content:start}.toolBar.svelte-1c3y4uq>.path.svelte-1c3y4uq.svelte-1c3y4uq{padding-right:1.5rem}.toolBar.svelte-1c3y4uq>.filter.svelte-1c3y4uq.svelte-1c3y4uq{margin-left:auto}.toolBar.svelte-1c3y4uq>.upload.svelte-1c3y4uq.svelte-1c3y4uq{margin:0 1rem 0 2rem}.toolBar.svelte-1c3y4uq svg{vertical-align:-0.125em}.toolbarAction.svelte-1c3y4uq.svelte-1c3y4uq.svelte-1c3y4uq{color:var(--bs-light);background-color:transparent;border:none}.levelColumns.svelte-1c3y4uq.svelte-1c3y4uq.svelte-1c3y4uq{display:flex;flex-wrap:nowrap;width:100%;overflow-x:auto;flex-grow:3;border-left:var(--bs-border-style) var(--bs-border-color) var(--bs-border-width)}.levelColumn.svelte-1c3y4uq.svelte-1c3y4uq.svelte-1c3y4uq{min-width:320px;border-right:var(--bs-border-style) var(--bs-border-width)\\n            var(--bs-border-color)}.levelToolbar.svelte-1c3y4uq.svelte-1c3y4uq.svelte-1c3y4uq{width:100%;height:2.8rem;display:flex;justify-content:space-between;padding:0.375rem;border-bottom:var(--bs-border-style) var(--bs-border-width)\\n            var(--bs-border-color)}.levelToolbar.svelte-1c3y4uq>.levelActions.svelte-1c3y4uq.svelte-1c3y4uq{margin-left:auto}.contentItem.svelte-1c3y4uq.svelte-1c3y4uq.svelte-1c3y4uq{display:flex;align-items:center;justify-content:space-between;font-size:90%;min-height:2rem;padding-right:0.375rem}.contentItem.even.svelte-1c3y4uq.svelte-1c3y4uq.svelte-1c3y4uq{background-color:var(--bs-secondary-bg)}.contentItem.inPath.svelte-1c3y4uq.svelte-1c3y4uq.svelte-1c3y4uq{background-color:rgba(var(--bs-primary-rgb), 0.15)}.contentItem.currentItem.svelte-1c3y4uq.svelte-1c3y4uq.svelte-1c3y4uq{background-color:var(--bs-primary);color:var(--bs-body-bg)}.contentItem.svelte-1c3y4uq>.svelte-1c3y4uq.svelte-1c3y4uq{padding:0.5rem;white-space:nowrap;max-width:100%}.contentItem.svelte-1c3y4uq .grid-preview.svelte-1c3y4uq>img.svelte-1c3y4uq{width:95px;height:95px;object-fit:cover;float:left;margin-right:1rem}.preview.svelte-1c3y4uq.svelte-1c3y4uq.svelte-1c3y4uq{min-width:320px;max-width:500px;min-height:300px;display:flex;flex-direction:column;align-items:center}.preview.svelte-1c3y4uq .info.svelte-1c3y4uq.svelte-1c3y4uq{padding:0.5rem;width:100%}.preview.svelte-1c3y4uq h4.svelte-1c3y4uq.svelte-1c3y4uq{font-size:1.2 rem}.preview.svelte-1c3y4uq img.svelte-1c3y4uq.svelte-1c3y4uq{max-width:100%;max-width:100%;margin-bottom:0.5rem}.upload-wrapper.svelte-1c3y4uq.svelte-1c3y4uq.svelte-1c3y4uq{padding:1rem;width:590px}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ29udGVudEJyb3dzZXIuc3ZlbHRlIiwic291cmNlcyI6WyJDb250ZW50QnJvd3Nlci5zdmVsdGUiXSwic291cmNlc0NvbnRlbnQiOlsiPHNjcmlwdD5cbiAgICBpbXBvcnQgdXRpbHMgZnJvbSBcIkBwYXR0ZXJuc2xpYi9wYXR0ZXJuc2xpYi9zcmMvY29yZS91dGlsc1wiO1xuICAgIGltcG9ydCB7IGdldENvbnRleHQsIG9uTW91bnQgfSBmcm9tIFwic3ZlbHRlXCI7XG4gICAgaW1wb3J0ICogYXMgYW5pbWF0ZVNjcm9sbCBmcm9tIFwic3ZlbHRlLXNjcm9sbHRvXCI7XG4gICAgaW1wb3J0IHsgZmx5IH0gZnJvbSBcInN2ZWx0ZS90cmFuc2l0aW9uXCI7XG4gICAgaW1wb3J0IGNvbnRlbnRTdG9yZSBmcm9tIFwiLi9Db250ZW50U3RvcmVcIjtcbiAgICBpbXBvcnQgeyBjbGlja091dHNpZGUgfSBmcm9tIFwiLi9jbGlja091dHNpZGVcIjtcbiAgICBpbXBvcnQgeyByZXNvbHZlSWNvbiB9IGZyb20gXCIuL3Jlc29sdmVJY29uLmpzXCI7XG4gICAgaW1wb3J0IFVwbG9hZCBmcm9tIFwiLi4vLi4vdXBsb2FkL3VwbG9hZFwiO1xuXG4gICAgaW1wb3J0IHtcbiAgICAgICAgY3VycmVudFBhdGgsXG4gICAgfSBmcm9tIFwiLi9zdG9yZXMuanNcIjtcbiAgICAvLyBpbXBvcnQgS2V5ZG93biBmcm9tIFwic3ZlbHRlLWtleWRvd25cIjtcblxuICAgIGFuaW1hdGVTY3JvbGwuc2V0R2xvYmFsT3B0aW9ucyh7XG4gICAgICAgIHNjcm9sbFg6IHRydWUsXG4gICAgICAgIGNvbnRhaW5lcjogXCIubGV2ZWxDb2x1bW5zXCIsXG4gICAgICAgIGR1cmF0aW9uOiA1MDAsXG4gICAgfSk7XG5cbiAgICAvLyBnZXQgY29udGV4dCBzdG9yZXNcbiAgICBjb25zdCBjb25maWcgPSBnZXRDb250ZXh0KFwiY29uZmlnXCIpO1xuICAgIGNvbnN0IHNob3dDb250ZW50QnJvd3NlciA9IGdldENvbnRleHQoXCJzaG93Q29udGVudEJyb3dzZXJcIik7XG4gICAgY29uc3Qgc2VsZWN0ZWRJdGVtcyA9IGdldENvbnRleHQoXCJzZWxlY3RlZEl0ZW1zXCIpO1xuICAgIGNvbnN0IHNlbGVjdGVkVWlkcyA9IGdldENvbnRleHQoXCJzZWxlY3RlZFVpZHNcIik7XG5cbiAgICAvLyBpbml0aWFsaXplIGNvbnRlbnQgYnJvd3NlciBzdG9yZVxuICAgIGNvbnN0IGNvbnRlbnRJdGVtcyA9IGNvbnRlbnRTdG9yZSgkY29uZmlnKTtcblxuICAgIGxldCBzaG93VXBsb2FkID0gZmFsc2U7XG4gICAgbGV0IHByZXZpZXdJdGVtID0geyBVSUQ6IFwiXCIgfTtcbiAgICBsZXQgY3VycmVudExldmVsRGF0YSA9IHt9O1xuXG4gICAgbGV0IHZ3ID0gTWF0aC5tYXgoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoIHx8IDAsIHdpbmRvdy5pbm5lcldpZHRoIHx8IDApO1xuXG4gICAgb25Nb3VudCgoKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAgICAgYENvbnRlbnRCcm93c2VyIGluaXRpYWxpemVkIHJlYWN0aXZlIGNvbnRleHQgY29uZmlnOiAke0pTT04uc3RyaW5naWZ5KCRjb25maWcpfWAsXG4gICAgICAgICk7XG4gICAgfSk7XG5cbiAgICBhc3luYyBmdW5jdGlvbiB1cGxvYWQoKSB7XG4gICAgICAgIHByZXZpZXdJdGVtID0geyBVSUQ6IFwiXCIgfTtcbiAgICAgICAgc2hvd1VwbG9hZCA9IHRydWU7XG4gICAgICAgIGF3YWl0IHV0aWxzLnRpbWVvdXQoMSk7XG4gICAgICAgIGNvbnN0IHVwbG9hZEVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi51cGxvYWQtd3JhcHBlclwiKTtcbiAgICAgICAgdXBsb2FkRWwuY2xhc3NMaXN0LmFkZChcInBhdC11cGxvYWRcIik7XG4gICAgICAgIGNvbnN0IHBhdFVwbG9hZCA9IG5ldyBVcGxvYWQodXBsb2FkRWwsIHtcbiAgICAgICAgICAgIGJhc2VVcmw6IHdpbmRvdy5iYXNlX3VybCxcbiAgICAgICAgICAgIGN1cnJlbnRQYXRoOiAkY3VycmVudFBhdGgsXG4gICAgICAgICAgICByZWxhdGl2ZVBhdGg6IFwiQEBmaWxlVXBsb2FkXCIsXG4gICAgICAgICAgICBhbGxvd1BhdGhTZWxlY3Rpb246IGZhbHNlLFxuICAgICAgICAgICAgaGlkZGVuSW5wdXRDb250YWluZXI6IFwiLnVwbG9hZC13cmFwcGVyXCIsXG4gICAgICAgICAgICBzdWNjZXNzOiAoZmlsZVVwbG9hZCwgb2JqKSA9PiB7XG4gICAgICAgICAgICAgICAgY29udGVudEl0ZW1zLmdldCgkY3VycmVudFBhdGgsIG51bGwsIHRydWUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2hhbmdlUGF0aChpdGVtKSB7XG4gICAgICAgIHNob3dVcGxvYWQgPSBmYWxzZTtcbiAgICAgICAgY3VycmVudExldmVsRGF0YSA9IHt9O1xuICAgICAgICBpZiAoaXRlbSA9PT0gXCIvXCIpIHtcbiAgICAgICAgICAgIGN1cnJlbnRQYXRoLnNldChpdGVtKTtcbiAgICAgICAgICAgIHByZXZpZXdJdGVtID0geyBVSUQ6IFwiXCIgfTtcbiAgICAgICAgfSBlbHNlIGlmIChpdGVtLmlzX2ZvbGRlcmlzaCkge1xuICAgICAgICAgICAgY3VycmVudFBhdGguc2V0KGl0ZW0ucGF0aCk7XG4gICAgICAgICAgICBwcmV2aWV3SXRlbSA9IHsgVUlEOiBcIlwiIH07XG4gICAgICAgICAgICBjdXJyZW50TGV2ZWxEYXRhID0ge1xuICAgICAgICAgICAgICAgIFVJRDogaXRlbS5VSUQsXG4gICAgICAgICAgICAgICAgVGl0bGU6IGl0ZW0uVGl0bGUsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcnRzID0gaXRlbS5wYXRoLnNwbGl0KFwiL1wiKTtcbiAgICAgICAgICAgIGNvbnN0IGZvbGRlclBhdGggPSBwYXRoUGFydHMuc2xpY2UoMCwgcGF0aFBhcnRzLmxlbmd0aCAtIDEpLmpvaW4oXCIvXCIpO1xuICAgICAgICAgICAgY3VycmVudFBhdGguc2V0KGZvbGRlclBhdGgpO1xuICAgICAgICAgICAgcHJldmlld0l0ZW0gPSBpdGVtO1xuICAgICAgICB9XG4gICAgICAgIHNjcm9sbFRvUmlnaHQoKTtcbiAgICB9XG5cbiAgICBhc3luYyBmdW5jdGlvbiBzZWxlY3RJdGVtKGl0ZW0pIHtcbiAgICAgICAgY29uc29sZS5sb2coYGFkZCAke0pTT04uc3RyaW5naWZ5KGl0ZW0pfSB0byAkeyRjb25maWcuZmllbGRJZH1gKTtcbiAgICAgICAgc2VsZWN0ZWRJdGVtcy51cGRhdGUoKG4pID0+IFsuLi5uLCBpdGVtXSk7XG4gICAgICAgIHNlbGVjdGVkVWlkcy51cGRhdGUoKCkgPT4gJHNlbGVjdGVkSXRlbXMubWFwKCh4KSA9PiB4LlVJRCkpO1xuICAgICAgICAkc2hvd0NvbnRlbnRCcm93c2VyID0gZmFsc2U7XG4gICAgICAgIHByZXZpZXdJdGVtID0geyBVSUQ6IFwiXCIgfTtcbiAgICAgICAgY29uc29sZS5sb2coJHNlbGVjdGVkSXRlbXMpO1xuICAgICAgICBjb25zb2xlLmxvZygkc2VsZWN0ZWRVaWRzKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjYW5jZWxTZWxlY3Rpb24oKSB7XG4gICAgICAgICRzaG93Q29udGVudEJyb3dzZXIgPSBmYWxzZTtcbiAgICAgICAgcHJldmlld0l0ZW0gPSB7IFVJRDogXCJcIiB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzU2VsZWN0YWJsZShpdGVtKSB7XG4gICAgICAgIHJldHVybiAkc2VsZWN0ZWRVaWRzLmluZGV4T2YoaXRlbS5VSUQpID09PSAtMTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzY3JvbGxUb1JpZ2h0KCkge1xuICAgICAgICBjb25zdCBzY3JvbGxDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmxldmVsQ29sdW1uc1wiKTtcbiAgICAgICAgaWYgKHNjcm9sbENvbnRhaW5lcikge1xuICAgICAgICAgICAgYW5pbWF0ZVNjcm9sbC5zY3JvbGxUbyh7XG4gICAgICAgICAgICAgICAgLy8gZWxlbWVudDogXCIubGV2ZWxDb2x1bW46bGFzdC1jaGlsZFwiLFxuICAgICAgICAgICAgICAgIHg6IHNjcm9sbENvbnRhaW5lci5zY3JvbGxXaWR0aCArIDEwMCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXRlbUluUGF0aChpdGVtKSB7XG4gICAgICAgIGNvbnN0IGluUGF0aCA9ICRjdXJyZW50UGF0aC5pbmRleE9mKGl0ZW0ucGF0aCkgIT0gLTE7XG4gICAgICAgIHJldHVybiBpblBhdGg7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZmlsdGVySXRlbXMoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCRjb250ZW50SXRlbXMsIHRoaXMudmFsdWUpO1xuICAgICAgICBsZXQgdGltZW91dElkO1xuICAgICAgICBpZiAodGltZW91dElkKSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dElkKTtcbiAgICAgICAgfVxuICAgICAgICB0aW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGNvbnRlbnRJdGVtcy5nZXQoJGN1cnJlbnRQYXRoLCB0aGlzLnZhbHVlKTtcbiAgICAgICAgfSwgMzAwKTtcbiAgICB9XG5cbiAgICAkOiB7XG4gICAgICAgIGlmICgkY29uZmlnLnZvY2FidWxhcnlVcmwpIHtcbiAgICAgICAgICAgIGNvbnRlbnRJdGVtcy5nZXQoJGN1cnJlbnRQYXRoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgICQ6IHtcbiAgICAgICAgJGNvbnRlbnRJdGVtcztcbiAgICAgICAgc2Nyb2xsVG9SaWdodCgpO1xuICAgIH1cblxuPC9zY3JpcHQ+XG5cbjwhLS0gPEtleWRvd24gcGF1c2VkPXshJHNob3dDb250ZW50QnJvd3Nlcn0gb246RXNjYXBlPXtjYW5jZWxTZWxlY3Rpb259IC8+IC0tPlxuXG57I2lmICRzaG93Q29udGVudEJyb3dzZXJ9XG4gICAgPGRpdiBjbGFzcz1cImNvbnRlbnQtYnJvd3Nlci1wb3NpdGlvbi13cmFwcGVyXCI+XG4gICAgICAgIDxuYXZcbiAgICAgICAgICAgIGNsYXNzPVwiY29udGVudC1icm93c2VyXCJcbiAgICAgICAgICAgIHRyYW5zaXRpb246Zmx5PXt7IHg6ICh2dyAvIDEwMCkgKiA5NCwgb3BhY2l0eTogMSB9fVxuICAgICAgICAgICAgb246aW50cm9lbmQ9eygpID0+IHNjcm9sbFRvUmlnaHQoKX1cbiAgICAgICAgICAgIHVzZTpjbGlja091dHNpZGVcbiAgICAgICAgICAgIG9uOmNsaWNrX291dHNpZGU9e2NhbmNlbFNlbGVjdGlvbn1cbiAgICAgICAgPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRvb2xCYXIgbmF2YmFyXCI+XG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJ0b29sYmFyQWN0aW9uXCJcbiAgICAgICAgICAgICAgICAgICAgdGFiaW5kZXg9XCIwXCJcbiAgICAgICAgICAgICAgICAgICAgb246a2V5ZG93bj17KCkgPT4gY2hhbmdlUGF0aChcIi9cIil9XG4gICAgICAgICAgICAgICAgICAgIG9uOmNsaWNrPXsoKSA9PiBjaGFuZ2VQYXRoKFwiL1wiKX1cbiAgICAgICAgICAgICAgICAgICAgPjxzdmcgdXNlOnJlc29sdmVJY29uPXt7IGljb25OYW1lOiBcImhvdXNlXCIgfX0gLz48L2J1dHRvblxuICAgICAgICAgICAgICAgID48c3BhbiBjbGFzcz1cInBhdGhcIj57JGN1cnJlbnRQYXRofTwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmlsdGVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJmaWx0ZXJcIiBvbjppbnB1dD17ZmlsdGVySXRlbXN9IC8+XG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJmaWx0ZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgPjxzdmcgdXNlOnJlc29sdmVJY29uPXt7IGljb25OYW1lOiBcInNlYXJjaFwiIH19IC8+PC9sYWJlbFxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJ1cGxvYWQgYnRuIGJ0bi1zZWNvbmRhcnkgYnRuLXNtXCJcbiAgICAgICAgICAgICAgICAgICAgdGFiaW5kZXg9XCIwXCJcbiAgICAgICAgICAgICAgICAgICAgb246a2V5ZG93bj17dXBsb2FkfVxuICAgICAgICAgICAgICAgICAgICBvbjpjbGljaz17dXBsb2FkfVxuICAgICAgICAgICAgICAgICAgICA+PHN2ZyB1c2U6cmVzb2x2ZUljb249e3sgaWNvbk5hbWU6IFwidXBsb2FkXCIgfX0gLz4gdXBsb2FkPC9idXR0b25cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImJ0biBidG4tbGluayB0ZXh0LXdoaXRlXCJcbiAgICAgICAgICAgICAgICAgICAgdGFiaW5kZXg9XCIwXCJcbiAgICAgICAgICAgICAgICAgICAgb246Y2xpY2t8cHJldmVudERlZmF1bHQ9eygpID0+IGNhbmNlbFNlbGVjdGlvbigpfVxuICAgICAgICAgICAgICAgICAgICA+PHN2ZyB1c2U6cmVzb2x2ZUljb249e3sgaWNvbk5hbWU6IFwieC1jaXJjbGVcIiB9fSAvPjwvYnV0dG9uXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICB7I2F3YWl0ICRjb250ZW50SXRlbXN9XG4gICAgICAgICAgICAgICAgPHA+Li4ubG9hZGluZyBjb250ZW50IGl0ZW1zPC9wPlxuICAgICAgICAgICAgezp0aGVuIGxldmVsc31cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibGV2ZWxDb2x1bW5zXCI+XG4gICAgICAgICAgICAgICAgICAgIHsjZWFjaCBsZXZlbHMgYXMgbGV2ZWwsIGkgKGxldmVsLnBhdGgpfVxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwibGV2ZWxDb2x1bW57aSAlIDIgPT0gMCA/ICcgb2RkJyA6ICcgZXZlbid9XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbjpmbHl8bG9jYWw9e3sgZHVyYXRpb246IDMwMCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJsZXZlbFRvb2xiYXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyNpZiBpID4gMCAmJiBsZXZlbD8uVUlEfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5IGJ0bi1zbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9eyFpc1NlbGVjdGFibGUobGV2ZWwpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uOmNsaWNrfHByZXZlbnREZWZhdWx0PXsoKSA9PiBzZWxlY3RJdGVtKGxldmVsKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7L2lmfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibGV2ZWxBY3Rpb25zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7I2lmICFsZXZlbC5ncmlkVmlld31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLWxpbmsgYnRuLXNtIGdyaWQtdmlld1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb246Y2xpY2s9eygpID0+IChsZXZlbC5ncmlkVmlldyA9IHRydWUpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdmcgdXNlOnJlc29sdmVJY29uPXt7IGljb25OYW1lOiBcImdyaWRcIiB9fSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7OmVsc2V9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1saW5rIGJ0bi1zbSBncmlkLXZpZXdcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uOmNsaWNrPXsoKSA9PiAobGV2ZWwuZ3JpZFZpZXcgPSBmYWxzZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN2ZyB1c2U6cmVzb2x2ZUljb249e3sgaWNvbk5hbWU6IFwibGlzdFwiIH19IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvaWZ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsjZWFjaCBsZXZlbC5yZXN1bHRzIGFzIGl0ZW0sIG59XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiY29udGVudEl0ZW17biAlIDIgPT0gMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJyBvZGQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAnIGV2ZW4nfXtpdGVtSW5QYXRoKGl0ZW0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnIGluUGF0aCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6ICcnfXtwcmV2aWV3SXRlbS5VSUQgPT09IGl0ZW0uVUlEXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnIGN1cnJlbnRJdGVtJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogJyd9eyFpc1NlbGVjdGFibGUoaXRlbSkgPyAnIHRleHQtbXV0ZWQnIDogJyd9XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFiaW5kZXg9XCIwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uOmtleWRvd249eygpID0+IGNoYW5nZVBhdGgoaXRlbSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbjpjbGljaz17KCkgPT4gY2hhbmdlUGF0aChpdGVtKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyNpZiBsZXZlbC5ncmlkVmlld31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJncmlkLXByZXZpZXdcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7I2lmIGl0ZW0uZ2V0SWNvbn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz17YCR7aXRlbS5nZXRVUkx9L0BAaW1hZ2VzL2ltYWdlL3RodW1iYH0gYWx0PXtpdGVtLlRpdGxlfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7OmVsc2V9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN2Z1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2U6cmVzb2x2ZUljb249e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb25OYW1lOiBgY29udGVudHR5cGUvJHtpdGVtLnBvcnRhbF90eXBlLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvXFwufCAvZywgXCItXCIpfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7L2lmfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtpdGVtLlRpdGxlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7OmVsc2V9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHRpdGxlPXtpdGVtLnBvcnRhbF90eXBlfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3ZnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZTpyZXNvbHZlSWNvbj17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbk5hbWU6IGBjb250ZW50dHlwZS8ke2l0ZW0ucG9ydGFsX3R5cGUudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9cXC58IC9nLCBcIi1cIil9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtpdGVtLlRpdGxlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7L2lmfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyNpZiBpdGVtLmlzX2ZvbGRlcmlzaH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3ZnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZTpyZXNvbHZlSWNvbj17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbk5hbWU6IFwiYXJyb3ctcmlnaHQtY2lyY2xlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvaWZ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvZWFjaH1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICB7L2VhY2h9XG4gICAgICAgICAgICAgICAgICAgIHsjaWYgcHJldmlld0l0ZW0uVUlEfVxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInByZXZpZXdcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibGV2ZWxUb29sYmFyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5IGJ0bi1zbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17IWlzU2VsZWN0YWJsZShwcmV2aWV3SXRlbSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbjpjbGlja3xwcmV2ZW50RGVmYXVsdD17KCkgPT4gc2VsZWN0SXRlbShwcmV2aWV3SXRlbSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+c2VsZWN0PC9idXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpbmZvXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsjaWYgcHJldmlld0l0ZW0ucG9ydGFsX3R5cGUgPT09IFwiSW1hZ2VcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcmM9XCJ7cHJldmlld0l0ZW0uZ2V0VVJMfS9AQGltYWdlcy9pbWFnZS9wcmV2aWV3XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWx0PXtwcmV2aWV3SXRlbS5UaXRsZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvaWZ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoND57cHJldmlld0l0ZW0uVGl0bGV9PC9oND5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+e3ByZXZpZXdJdGVtLkRlc2NyaXB0aW9ufTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICB7L2lmfVxuICAgICAgICAgICAgICAgICAgICB7I2lmIHNob3dVcGxvYWR9XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidXBsb2FkLXdyYXBwZXJcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgey9pZn1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIHs6Y2F0Y2ggZXJyb3J9XG4gICAgICAgICAgICAgICAgPHAgc3R5bGU9XCJjb2xvcjogcmVkXCI+e2Vycm9yLm1lc3NhZ2V9PC9wPlxuICAgICAgICAgICAgey9hd2FpdH1cbiAgICAgICAgPC9uYXY+XG4gICAgPC9kaXY+XG57L2lmfVxuXG48c3R5bGU+XG4gICAgLmNvbnRlbnQtYnJvd3Nlci1wb3NpdGlvbi13cmFwcGVyIHtcbiAgICAgICAgcG9zaXRpb246IGZpeGVkO1xuICAgICAgICB0b3A6IDA7XG4gICAgICAgIHJpZ2h0OiAwO1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGVuZDtcbiAgICAgICAgei1pbmRleDogMTUwMDtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIGhlaWdodDogMTAwdmg7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC4yNSk7XG4gICAgfVxuICAgIC5jb250ZW50LWJyb3dzZXIge1xuICAgICAgICBoZWlnaHQ6IDEwMHZoO1xuICAgICAgICBtaW4td2lkdGg6IDU1MHB4O1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1icy1saWdodC1iZy1zdWJ0bGUpO1xuICAgICAgICBib3JkZXItbGVmdDogdmFyKC0tYnMtYm9yZGVyLXN0eWxlKSB2YXIoLS1icy1ib3JkZXItd2lkdGgpICNmZmY7XG4gICAgICAgIHotaW5kZXg6IDE1MDA7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgfVxuXG4gICAgLnRvb2xCYXIge1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1icy1wcmltYXJ5KTtcbiAgICAgICAgcGFkZGluZzogMC4zMjVyZW0gMC43NXJlbTtcbiAgICAgICAgY29sb3I6IHZhcigtLWJzLWxpZ2h0KTtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGp1c3RpZnktY29udGVudDogc3RhcnQ7XG4gICAgfVxuICAgIC50b29sQmFyID4gLnBhdGgge1xuICAgICAgICBwYWRkaW5nLXJpZ2h0OiAxLjVyZW07XG4gICAgfVxuICAgIC50b29sQmFyID4gLmZpbHRlciB7XG4gICAgICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xuICAgIH1cbiAgICAudG9vbEJhciA+IC51cGxvYWQge1xuICAgICAgICBtYXJnaW46IDAgMXJlbSAwIDJyZW07XG4gICAgfVxuICAgIC50b29sQmFyIDpnbG9iYWwoc3ZnKSB7XG4gICAgICAgIHZlcnRpY2FsLWFsaWduOiAtMC4xMjVlbTtcbiAgICB9XG4gICAgLnRvb2xiYXJBY3Rpb24ge1xuICAgICAgICBjb2xvcjogdmFyKC0tYnMtbGlnaHQpO1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcbiAgICAgICAgYm9yZGVyOiBub25lO1xuICAgIH1cblxuICAgIC5sZXZlbENvbHVtbnMge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBmbGV4LXdyYXA6IG5vd3JhcDtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIG92ZXJmbG93LXg6IGF1dG87XG4gICAgICAgIGZsZXgtZ3JvdzogMztcbiAgICAgICAgYm9yZGVyLWxlZnQ6IHZhcigtLWJzLWJvcmRlci1zdHlsZSkgdmFyKC0tYnMtYm9yZGVyLWNvbG9yKSB2YXIoLS1icy1ib3JkZXItd2lkdGgpO1xuICAgIH1cblxuICAgIC5sZXZlbENvbHVtbiB7XG4gICAgICAgIG1pbi13aWR0aDogMzIwcHg7XG4gICAgICAgIGJvcmRlci1yaWdodDogdmFyKC0tYnMtYm9yZGVyLXN0eWxlKSB2YXIoLS1icy1ib3JkZXItd2lkdGgpXG4gICAgICAgICAgICB2YXIoLS1icy1ib3JkZXItY29sb3IpO1xuICAgICAgICAvKiBib3JkZXItdG9wOiA1cHggc29saWQgdHJhbnNwYXJlbnQ7ICovXG4gICAgfVxuXG4gICAgLmxldmVsVG9vbGJhciB7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICBoZWlnaHQ6IDIuOHJlbTtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICAgICAgICBwYWRkaW5nOiAwLjM3NXJlbTtcbiAgICAgICAgYm9yZGVyLWJvdHRvbTogdmFyKC0tYnMtYm9yZGVyLXN0eWxlKSB2YXIoLS1icy1ib3JkZXItd2lkdGgpXG4gICAgICAgICAgICB2YXIoLS1icy1ib3JkZXItY29sb3IpO1xuICAgIH1cbiAgICAubGV2ZWxUb29sYmFyID4gLmxldmVsQWN0aW9ucyB7XG4gICAgICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xuICAgIH1cblxuICAgIC8qIC5sZXZlbENvbHVtbi5ldmVuIHtcbiAgICAgICAgYm9yZGVyLXRvcDogNXB4IHNvbGlkIHNreWJsdWU7XG4gICAgfSAqL1xuXG4gICAgLyogLmxldmVsUGF0aCB7XG4gICAgICAgIGJhY2tncm91bmQ6ICNlZWU7XG4gICAgICAgIHBhZGRpbmc6IDAuNXJlbSAxcmVtO1xuICAgICAgICBoZWlnaHQ6IDNyZW07XG4gICAgICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gICAgICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xuICAgIH0gKi9cbiAgICAuY29udGVudEl0ZW0ge1xuICAgICAgICAvKiBwYWRkaW5nOiAxcmVtIDFyZW07ICovXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgICAgICAgZm9udC1zaXplOiA5MCU7XG4gICAgICAgIG1pbi1oZWlnaHQ6IDJyZW07XG4gICAgICAgIHBhZGRpbmctcmlnaHQ6IDAuMzc1cmVtO1xuICAgIH1cbiAgICAuY29udGVudEl0ZW0uZXZlbiB7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWJzLXNlY29uZGFyeS1iZyk7XG4gICAgfVxuICAgIC5jb250ZW50SXRlbS5pblBhdGgge1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKHZhcigtLWJzLXByaW1hcnktcmdiKSwgMC4xNSk7XG4gICAgfVxuICAgIC5jb250ZW50SXRlbS5jdXJyZW50SXRlbSB7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWJzLXByaW1hcnkpO1xuICAgICAgICBjb2xvcjogdmFyKC0tYnMtYm9keS1iZyk7XG4gICAgfVxuICAgIC5jb250ZW50SXRlbSA+ICoge1xuICAgICAgICBwYWRkaW5nOiAwLjVyZW07XG4gICAgICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gICAgICAgIG1heC13aWR0aDogMTAwJTtcbiAgICB9XG5cbiAgICAuY29udGVudEl0ZW0gLmdyaWQtcHJldmlldyA+IGltZyB7XG4gICAgICAgIHdpZHRoOjk1cHg7XG4gICAgICAgIGhlaWdodDo5NXB4O1xuICAgICAgICBvYmplY3QtZml0OmNvdmVyO1xuICAgICAgICBmbG9hdDogbGVmdDtcbiAgICAgICAgbWFyZ2luLXJpZ2h0OiAxcmVtO1xuICAgIH1cbiAgICAucHJldmlldyB7XG4gICAgICAgIG1pbi13aWR0aDogMzIwcHg7XG4gICAgICAgIG1heC13aWR0aDogNTAwcHg7XG4gICAgICAgIG1pbi1oZWlnaHQ6IDMwMHB4O1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIH1cbiAgICAucHJldmlldyAuaW5mbyB7XG4gICAgICAgIHBhZGRpbmc6IDAuNXJlbTtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgfVxuICAgIC5wcmV2aWV3IGg0IHtcbiAgICAgICAgZm9udC1zaXplOiAxLjIgcmVtO1xuICAgIH1cbiAgICAucHJldmlldyBpbWcge1xuICAgICAgICBtYXgtd2lkdGg6IDEwMCU7XG4gICAgICAgIG1heC13aWR0aDogMTAwJTtcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogMC41cmVtO1xuICAgIH1cblxuICAgIC51cGxvYWQtd3JhcHBlciB7XG4gICAgICAgIHBhZGRpbmc6IDFyZW07XG4gICAg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*/\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".content-browser-selected-items-wrapper.svelte-bljrxf.svelte-bljrxf.svelte-bljrxf{display:flex;align-items:start}.content-browser-selected-items.svelte-bljrxf.svelte-bljrxf.svelte-bljrxf{list-style:none;background-color:var(--bs-body-bg);border-radius:var(--bs-border-radius) 0 0 var(--bs-border-radius);border:var(--bs-border-style) var(--bs-border-color) var(--bs-border-width);min-height:2.4rem;padding:.5rem .5rem 0 .5rem;flex:1 1 auto}.content-browser-selected-items.svelte-bljrxf .selected-item.svelte-bljrxf.svelte-bljrxf{border-radius:var(--bs-border-radius);background-color:var(--bs-tertiary-bg);border:var(--bs-border-style) var(--bs-border-color) var(--bs-border-width);padding:.5rem;margin-bottom:.5rem;display:flex;flex-wrap:nowrap;align-items:start;justify-content:space-between;cursor:move}.content-browser-selected-items.svelte-bljrxf .selected-item.svelte-bljrxf>.svelte-bljrxf{margin-right:.5rem;display:block}.content-browser-selected-items.svelte-bljrxf .selected-item button.svelte-bljrxf.svelte-bljrxf{cursor:pointer;padding:0 .375rem .374rem 0}.content-browser-selected-items.svelte-bljrxf .selected-item .item-info.svelte-bljrxf.svelte-bljrxf{display:flex;align-items:start}.content-browser-selected-items.svelte-bljrxf .selected-item.svelte-bljrxf>img.svelte-bljrxf{object-fit:cover;width:95px;height:95px}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/pat/contentbrowser/src/SelectedItems.svelte\"],\"names\":[],\"mappings\":\"AAAA,kFAAA,YAAA,CAAA,iBAAA,CAAA,0EAAA,eAAA,CAAA,kCAAA,CAAA,iEAAA,CAAA,2EAAA,CAAA,iBAAA,CAAA,2BAAA,CAAA,aAAA,CAAA,yFAAA,qCAAA,CAAA,sCAAA,CAAA,2EAAA,CAAA,aAAA,CAAA,mBAAA,CAAA,YAAA,CAAA,gBAAA,CAAA,iBAAA,CAAA,6BAAA,CAAA,WAAA,CAAA,0FAAA,kBAAA,CAAA,aAAA,CAAA,gGAAA,cAAA,CAAA,2BAAA,CAAA,oGAAA,YAAA,CAAA,iBAAA,CAAA,6FAAA,gBAAA,CAAA,UAAA,CAAA,WAAA\",\"sourcesContent\":[\".content-browser-selected-items-wrapper.svelte-bljrxf.svelte-bljrxf.svelte-bljrxf{display:flex;align-items:start}.content-browser-selected-items.svelte-bljrxf.svelte-bljrxf.svelte-bljrxf{list-style:none;background-color:var(--bs-body-bg);border-radius:var(--bs-border-radius) 0 0 var(--bs-border-radius);border:var(--bs-border-style) var(--bs-border-color) var(--bs-border-width);min-height:2.4rem;padding:0.5rem 0.5rem 0 0.5rem;flex:1 1 auto}.content-browser-selected-items.svelte-bljrxf .selected-item.svelte-bljrxf.svelte-bljrxf{border-radius:var(--bs-border-radius);background-color:var(--bs-tertiary-bg);border:var(--bs-border-style) var(--bs-border-color) var(--bs-border-width);padding:0.5rem;margin-bottom:0.5rem;display:flex;flex-wrap:nowrap;align-items:start;justify-content:space-between;cursor:move}.content-browser-selected-items.svelte-bljrxf .selected-item.svelte-bljrxf>.svelte-bljrxf{margin-right:0.5rem;display:block}.content-browser-selected-items.svelte-bljrxf .selected-item button.svelte-bljrxf.svelte-bljrxf{cursor:pointer;padding:0 0.375rem 0.374rem 0}.content-browser-selected-items.svelte-bljrxf .selected-item .item-info.svelte-bljrxf.svelte-bljrxf{display:flex;align-items:start}.content-browser-selected-items.svelte-bljrxf .selected-item.svelte-bljrxf>img.svelte-bljrxf{object-fit:cover;width:95px;height:95px}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU2VsZWN0ZWRJdGVtcy5zdmVsdGUiLCJzb3VyY2VzIjpbIlNlbGVjdGVkSXRlbXMuc3ZlbHRlIl0sInNvdXJjZXNDb250ZW50IjpbIjxzY3JpcHQ+XG4gICAgaW1wb3J0IHsgZ2V0Q29udGV4dCwgb25Nb3VudCB9IGZyb20gXCJzdmVsdGVcIjtcbiAgICBpbXBvcnQgeyBmbGlwIH0gZnJvbSBcInN2ZWx0ZS9hbmltYXRlXCI7XG4gICAgaW1wb3J0IHsgcmVxdWVzdCB9IGZyb20gXCIuL2FwaS5qc1wiO1xuICAgIGltcG9ydCB7IHJlc29sdmVJY29uIH0gZnJvbSBcIi4vcmVzb2x2ZUljb24uanNcIjtcblxuICAgIGxldCByZWY7XG4gICAgbGV0IGluaXRpYWxpemluZyA9IHRydWU7XG5cbiAgICAvLyBnZXQgcmVhY3RpdmUgY29udGV4dCBjb25maWdcbiAgICBjb25zdCBjb25maWcgPSBnZXRDb250ZXh0KFwiY29uZmlnXCIpO1xuICAgIGNvbnN0IGZpZWxkSWQgPSAkY29uZmlnLmZpZWxkSWQ7XG4gICAgY29uc3Qgc2VsZWN0ZWRJdGVtc05vZGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChmaWVsZElkKTtcblxuICAgIGNvbnNvbGUubG9nKGAke2ZpZWxkSWR9IGdldCBjb250ZXh0IGNvbmZpZzogJHtKU09OLnN0cmluZ2lmeSgkY29uZmlnKX1gKTtcblxuICAgIC8vIGdldCByZWFjdGl2ZSBjb250ZXh0IHN0b3JlXG4gICAgY29uc3Qgc2VsZWN0ZWRJdGVtcyA9IGdldENvbnRleHQoXCJzZWxlY3RlZEl0ZW1zXCIpO1xuICAgIGNvbnN0IHNlbGVjdGVkVWlkcyA9IGdldENvbnRleHQoXCJzZWxlY3RlZFVpZHNcIik7XG5cbiAgICBjb25zb2xlLmxvZyhgJHtmaWVsZElkfSBpbml0aWFsaXplZCByZWFjdGl2ZSBjb250ZXh0IHN0b3JlYCk7XG5cbiAgICAvLyBzaG93Q29udGVudEJyb3dzZXIgcmVhY3RpdmUgc3RhdGVcbiAgICBjb25zdCBzaG93Q29udGVudEJyb3dzZXIgPSBnZXRDb250ZXh0KFwic2hvd0NvbnRlbnRCcm93c2VyXCIpO1xuXG4gICAgZnVuY3Rpb24gZXZlbnRfZGlzcGF0Y2gobmFtZSwgZGV0YWlsKSB7XG4gICAgICAgIGNvbnN0IGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KG5hbWUsIHtcbiAgICAgICAgICAgIGRldGFpbDoge1xuICAgICAgICAgICAgICAgIGNvbnRlbnQ6IGRldGFpbCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBidWJibGVzOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gICAgfVxuXG4gICAgb25Nb3VudChhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGAke2ZpZWxkSWR9IHN0YXJ0IG9uTW91bnQoKWApO1xuICAgICAgICBhd2FpdCBpbml0aWFsaXplU2VsZWN0ZWRJdGVtc1N0b3JlKCk7XG4gICAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAgICAgYCR7ZmllbGRJZH0gZW5kIG9uTW91bnQoKS4gJHNlbGVjdGVkSXRlbXM6ICR7SlNPTi5zdHJpbmdpZnkoJHNlbGVjdGVkSXRlbXMpfWAsXG4gICAgICAgICk7XG4gICAgICAgIGluaXRpYWxpemluZyA9IGZhbHNlO1xuICAgIH0pO1xuXG4gICAgZnVuY3Rpb24gdW5zZWxlY3RJdGVtKGkpIHtcbiAgICAgICAgc2VsZWN0ZWRJdGVtcy51cGRhdGUoKG4pID0+IHtcbiAgICAgICAgICAgIG4uc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgcmV0dXJuIG47XG4gICAgICAgIH0pO1xuICAgICAgICBzZWxlY3RlZFVpZHMudXBkYXRlKCgpID0+ICRzZWxlY3RlZEl0ZW1zLm1hcCgoeCkgPT4geC5VSUQpKTtcbiAgICAgICAgY29uc29sZS5sb2coYFVuc2VsZWN0ZWQgaT0ke2l9LCBuZXcgdmFsdWU6ICR7SlNPTi5zdHJpbmdpZnkoJHNlbGVjdGVkVWlkcyl9YCk7XG4gICAgfVxuXG4gICAgYXN5bmMgZnVuY3Rpb24gZ2V0U2VsZWN0ZWRJdGVtc1VpZHModWlkcykge1xuICAgICAgICBjb25zb2xlLmxvZyhgJHtmaWVsZElkfSBnZXRTZWxlY3RlZEl0ZW1zVWlkcyAke3VpZHN9YCk7XG4gICAgICAgIGlmICghdWlkcykge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNlbGVjdGVkSXRlbXNGcm9tVWlkcyA9IGF3YWl0IHJlcXVlc3Qoe1xuICAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICAgICAgdm9jYWJ1bGFyeVVybDogJGNvbmZpZy52b2NhYnVsYXJ5VXJsLFxuICAgICAgICAgICAgYXR0cmlidXRlczogJGNvbmZpZy5hdHRyaWJ1dGVzLFxuICAgICAgICAgICAgdWlkczogdWlkcyxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiAoYXdhaXQgc2VsZWN0ZWRJdGVtc0Zyb21VaWRzPy5yZXN1bHRzKSB8fCBbXTtcbiAgICB9XG5cbiAgICBhc3luYyBmdW5jdGlvbiBpbml0aWFsaXplU2VsZWN0ZWRJdGVtc1N0b3JlKCkge1xuICAgICAgICBjb25zdCBpbml0aWFsVmFsdWUgPSAkY29uZmlnLnNlbGVjdGlvbi5sZW5ndGhcbiAgICAgICAgICAgID8gJGNvbmZpZy5zZWxlY3Rpb25cbiAgICAgICAgICAgIDogc2VsZWN0ZWRJdGVtc05vZGU/LnZhbHVlXG4gICAgICAgICAgICAgID8gc2VsZWN0ZWRJdGVtc05vZGUudmFsdWUuc3BsaXQoJGNvbmZpZy5zZXBhcmF0b3IpXG4gICAgICAgICAgICAgIDogW107XG5cbiAgICAgICAgaWYgKCFpbml0aWFsVmFsdWUubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzZWxlY3RlZEl0ZW1zVWlkcyA9IGF3YWl0IGdldFNlbGVjdGVkSXRlbXNVaWRzKGluaXRpYWxWYWx1ZSk7XG4gICAgICAgICRzZWxlY3RlZEl0ZW1zID0gc2VsZWN0ZWRJdGVtc1VpZHM7XG4gICAgICAgIHNlbGVjdGVkVWlkcy51cGRhdGUoKCkgPT4gc2VsZWN0ZWRJdGVtc1VpZHMubWFwKCh4KSA9PiB4LlVJRCkpO1xuXG4gICAgICAgIGlmICgkY29uZmlnLm1heGltdW1TZWxlY3Rpb25TaXplICE9PSAxICYmICRzZWxlY3RlZEl0ZW1zLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIGxldCBTb3J0YWJsZSA9IChhd2FpdCBpbXBvcnQoXCJzb3J0YWJsZWpzXCIpKS5kZWZhdWx0O1xuICAgICAgICAgICAgU29ydGFibGUuY3JlYXRlKFxuICAgICAgICAgICAgICAgIHNlbGVjdGVkSXRlbXNOb2RlLnByZXZpb3VzU2libGluZy5xdWVyeVNlbGVjdG9yKFxuICAgICAgICAgICAgICAgICAgICBcIi5jb250ZW50LWJyb3dzZXItc2VsZWN0ZWQtaXRlbXNcIixcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZHJhZ2dhYmxlOiBcIi5zZWxlY3RlZC1pdGVtXCIsXG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbjogMjAwLFxuICAgICAgICAgICAgICAgICAgICBvblVwZGF0ZTogKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzb3J0ZWRVdWlkcyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBlbCBvZiBlLnRhcmdldC5jaGlsZHJlbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvcnRlZFV1aWRzLnB1c2goZWwuZGF0YXNldFtcInV1aWRcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Tm9kZVZhbHVlKHNvcnRlZFV1aWRzKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNlbGVjdGVkVWlkc0Zyb21TZWxlY3RlZEl0ZW1zKCkge1xuICAgICAgICBsZXQgaXRlbXMgPSBbXTtcbiAgICAgICAgJHNlbGVjdGVkSXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgaXRlbXMucHVzaChpdGVtLlVJRCk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gaXRlbXM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0Tm9kZVZhbHVlKHNlbGVjdGVkVWlkcykge1xuICAgICAgICBjb25zdCBub2RlX3ZhbCA9IHNlbGVjdGVkVWlkcy5qb2luKCRjb25maWcuc2VwYXJhdG9yKTtcbiAgICAgICAgY29uc29sZS5sb2coYHNldCB2YWx1ZSBvZiAke2ZpZWxkSWR9IHRvICR7bm9kZV92YWx9YCk7XG4gICAgICAgIHNlbGVjdGVkSXRlbXNOb2RlLnZhbHVlID0gbm9kZV92YWw7XG4gICAgfVxuXG4gICAgJDoge1xuICAgICAgICAkc2VsZWN0ZWRJdGVtcztcbiAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgICBgJHtmaWVsZElkfSByZWFjdGl2ZSBjaGFuZ2UgaW4gJHNlbGVjdGVkSXRlbXM6ICR7SlNPTi5zdHJpbmdpZnkoJHNlbGVjdGVkSXRlbXMpfWAsXG4gICAgICAgICk7XG4gICAgICAgIGlmICgkc2VsZWN0ZWRJdGVtcy5sZW5ndGggfHwgIWluaXRpYWxpemluZykge1xuICAgICAgICAgICAgc2V0Tm9kZVZhbHVlKHNlbGVjdGVkVWlkc0Zyb21TZWxlY3RlZEl0ZW1zKCkpO1xuICAgICAgICAgICAgZXZlbnRfZGlzcGF0Y2goXCJ1cGRhdGVTZWxlY3Rpb25cIiwgc2VsZWN0ZWRVaWRzKTtcbiAgICAgICAgfVxuICAgIH1cbjwvc2NyaXB0PlxuXG48ZGl2IGNsYXNzPVwiY29udGVudC1icm93c2VyLXNlbGVjdGVkLWl0ZW1zLXdyYXBwZXJcIiBiaW5kOnRoaXM9e3JlZn0+XG4gICAgPCEtLSB7bWF4U2VsZWN0aW9uc2l6ZX0gLS0+XG4gICAgPGRpdiBjbGFzcz1cImNvbnRlbnQtYnJvd3Nlci1zZWxlY3RlZC1pdGVtc1wiPlxuICAgICAgICB7I2lmICRzZWxlY3RlZEl0ZW1zfVxuICAgICAgICAgICAgeyNlYWNoICRzZWxlY3RlZEl0ZW1zIGFzIHNlbEl0ZW0sIGkgKHNlbEl0ZW0uVUlEKX1cbiAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzPVwic2VsZWN0ZWQtaXRlbVwiXG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGU6ZmxpcD17eyBkdXJhdGlvbjogNTAwIH19XG4gICAgICAgICAgICAgICAgICAgIGRhdGEtdXVpZD17c2VsSXRlbS5VSUR9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaXRlbS1pbmZvXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8IS0tIHN2ZWx0ZS1pZ25vcmUgYTExeS1taXNzaW5nLWF0dHJpYnV0ZSAtLT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImJ0biBidG4tbGluayBidG4tc20gbGluay1zZWNvbmRhcnlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uOmNsaWNrPXsoKSA9PiB1bnNlbGVjdEl0ZW0oaSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPjxzdmcgdXNlOnJlc29sdmVJY29uPXt7IGljb25OYW1lOiBcIngtY2lyY2xlXCIgfX0gLz48L2J1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cIml0ZW0tdGl0bGVcIj57c2VsSXRlbS5UaXRsZX08L3NwYW4+PGJyIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJzbWFsbFwiPntzZWxJdGVtLnBhdGh9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICB7I2lmIHNlbEl0ZW0uZ2V0VVJMICYmIChzZWxJdGVtLmdldEljb24gfHwgc2VsSXRlbS5wb3J0YWxfdHlwZSA9PT0gXCJJbWFnZVwiKX08aW1nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3JjPVwie3NlbEl0ZW0uZ2V0VVJMfS9AQGltYWdlcy9pbWFnZS9taW5pXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHQ9e3NlbEl0ZW0uVGl0bGV9XG4gICAgICAgICAgICAgICAgICAgICAgICAvPnsvaWZ9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICB7L2VhY2h9XG4gICAgICAgIHsvaWZ9XG4gICAgICAgIHsjaWYgISRzZWxlY3RlZEl0ZW1zfVxuICAgICAgICAgICAgPHA+bG9hZGluZyBzZWxlY3RlZCBpdGVtczwvcD5cbiAgICAgICAgey9pZn1cbiAgICA8L2Rpdj5cbiAgICA8YnV0dG9uXG4gICAgICAgIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCJcbiAgICAgICAgc3R5bGU9XCJib3JkZXItcmFkaXVzOjAgdmFyKC0tYnMtYm9yZGVyLXJhZGl1cykgdmFyKC0tYnMtYm9yZGVyLXJhZGl1cykgMFwiXG4gICAgICAgIGRpc2FibGVkPXskY29uZmlnLm1heGltdW1TZWxlY3Rpb25TaXplID4gMCAmJlxuICAgICAgICAgICAgKCRzZWxlY3RlZEl0ZW1zLmxlbmd0aCB8fCAwKSA+PSAkY29uZmlnLm1heGltdW1TZWxlY3Rpb25TaXplfVxuICAgICAgICBvbjpjbGlja3xwcmV2ZW50RGVmYXVsdD17KCkgPT4gKCRzaG93Q29udGVudEJyb3dzZXIgPSB0cnVlKX1cbiAgICAgICAgPnsjaWYgY29uZmlnLm1heGltdW1TZWxlY3Rpb25TaXplID09IDF9Y2hvb3NlezplbHNlfWFkZHsvaWZ9PC9idXR0b25cbiAgICA+XG48L2Rpdj5cblxuPHN0eWxlPlxuICAgIC5jb250ZW50LWJyb3dzZXItc2VsZWN0ZWQtaXRlbXMtd3JhcHBlciB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBzdGFydDtcbiAgICB9XG4gICAgLmNvbnRlbnQtYnJvd3Nlci1zZWxlY3RlZC1pdGVtcyB7XG4gICAgICAgIGxpc3Qtc3R5bGU6IG5vbmU7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWJzLWJvZHktYmcpO1xuICAgICAgICBib3JkZXItcmFkaXVzOiB2YXIoLS1icy1ib3JkZXItcmFkaXVzKSAwIDAgdmFyKC0tYnMtYm9yZGVyLXJhZGl1cyk7XG4gICAgICAgIGJvcmRlcjogdmFyKC0tYnMtYm9yZGVyLXN0eWxlKSB2YXIoLS1icy1ib3JkZXItY29sb3IpIHZhcigtLWJzLWJvcmRlci13aWR0aCk7XG4gICAgICAgIG1pbi1oZWlnaHQ6IDIuNHJlbTtcbiAgICAgICAgcGFkZGluZzogMC41cmVtIDAuNXJlbSAwIDAuNXJlbTtcbiAgICAgICAgZmxleDogMSAxIGF1dG87XG4gICAgfVxuICAgIC5jb250ZW50LWJyb3dzZXItc2VsZWN0ZWQtaXRlbXMgLnNlbGVjdGVkLWl0ZW0ge1xuICAgICAgICBib3JkZXItcmFkaXVzOiB2YXIoLS1icy1ib3JkZXItcmFkaXVzKTtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tYnMtdGVydGlhcnktYmcpO1xuICAgICAgICBib3JkZXI6IHZhcigtLWJzLWJvcmRlci1zdHlsZSkgdmFyKC0tYnMtYm9yZGVyLWNvbG9yKSB2YXIoLS1icy1ib3JkZXItd2lkdGgpO1xuICAgICAgICBwYWRkaW5nOiAwLjVyZW07XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDAuNXJlbTtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZmxleC13cmFwOiBub3dyYXA7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBzdGFydDtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICAgICAgICBjdXJzb3I6IG1vdmU7XG4gICAgfVxuICAgIC5jb250ZW50LWJyb3dzZXItc2VsZWN0ZWQtaXRlbXMgLnNlbGVjdGVkLWl0ZW0gPiAqIHtcbiAgICAgICAgbWFyZ2luLXJpZ2h0OiAwLjVyZW07XG4gICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIH1cbiAgICAuY29udGVudC1icm93c2VyLXNlbGVjdGVkLWl0ZW1zIC5zZWxlY3RlZC1pdGVtIGJ1dHRvbiB7XG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgcGFkZGluZzogMCAwLjM3NXJlbSAwLjM3NHJlbSAwO1xuICAgIH1cbiAgICAuY29udGVudC1icm93c2VyLXNlbGVjdGVkLWl0ZW1zIC5zZWxlY3RlZC1pdGVtIC5pdGVtLWluZm8ge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBhbGlnbi1pdGVtczogc3RhcnQ7XG4gICAgfVxuICAgIC5jb250ZW50LWJyb3dzZXItc2VsZWN0ZWQtaXRlbXMgLnNlbGVjdGVkLWl0ZW0gPiBpbWcge1xuICAgICAgICBvYmplY3QtZml0OiBjb3ZlcjtcbiAgICAgICAgd2lkdGg6IDk1cHg7XG4gICAgICAgIGhlaWdodDogOTVweDtcbiAgICB9XG48L3N0eWxlPlxuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQTZLSSxpRkFBd0MsQ0FDcEMsT0FBTyxDQUFFLElBQUksQ0FDYixXQUFXLENBQUUsS0FDakIsQ0FDQSx5RUFBZ0MsQ0FDNUIsVUFBVSxDQUFFLElBQUksQ0FDaEIsZ0JBQWdCLENBQUUsSUFBSSxZQUFZLENBQUMsQ0FDbkMsYUFBYSxDQUFFLElBQUksa0JBQWtCLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksa0JBQWtCLENBQUMsQ0FDbEUsTUFBTSxDQUFFLElBQUksaUJBQWlCLENBQUMsQ0FBQyxJQUFJLGlCQUFpQixDQUFDLENBQUMsSUFBSSxpQkFBaUIsQ0FBQyxDQUM1RSxVQUFVLENBQUUsTUFBTSxDQUNsQixPQUFPLENBQUUsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUMvQixJQUFJLENBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUNkLENBQ0EsNkNBQStCLENBQUMsMENBQWUsQ0FDM0MsYUFBYSxDQUFFLElBQUksa0JBQWtCLENBQUMsQ0FDdEMsZ0JBQWdCLENBQUUsSUFBSSxnQkFBZ0IsQ0FBQyxDQUN2QyxNQUFNLENBQUUsSUFBSSxpQkFBaUIsQ0FBQyxDQUFDLElBQUksaUJBQWlCLENBQUMsQ0FBQyxJQUFJLGlCQUFpQixDQUFDLENBQzVFLE9BQU8sQ0FBRSxNQUFNLENBQ2YsYUFBYSxDQUFFLE1BQU0sQ0FDckIsT0FBTyxDQUFFLElBQUksQ0FDYixTQUFTLENBQUUsTUFBTSxDQUNqQixXQUFXLENBQUUsS0FBSyxDQUNsQixlQUFlLENBQUUsYUFBYSxDQUM5QixNQUFNLENBQUUsSUFDWixDQUNBLDZDQUErQixDQUFDLDRCQUFjLENBQUcsY0FBRSxDQUMvQyxZQUFZLENBQUUsTUFBTSxDQUNwQixPQUFPLENBQUUsS0FDYixDQUNBLDZDQUErQixDQUFDLGNBQWMsQ0FBQyxrQ0FBTyxDQUNsRCxNQUFNLENBQUUsT0FBTyxDQUNmLE9BQU8sQ0FBRSxDQUFDLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxDQUNqQyxDQUNBLDZDQUErQixDQUFDLGNBQWMsQ0FBQyxzQ0FBVyxDQUN0RCxPQUFPLENBQUUsSUFBSSxDQUNiLFdBQVcsQ0FBRSxLQUNqQixDQUNBLDZDQUErQixDQUFDLDRCQUFjLENBQUcsaUJBQUksQ0FDakQsVUFBVSxDQUFFLEtBQUssQ0FDakIsS0FBSyxDQUFFLElBQUksQ0FDWCxNQUFNLENBQUUsSUFDWiJ9*/\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","import { setContext } from 'svelte';\nimport { writable } from 'svelte/store';\n\nexport const currentPath = writable('/');\nexport const gridView = writable(false);\nexport const pathCache = writable({});\n\n// reactive context stores\nexport function setSelectedItems() {\n    let selItems = writable([]);\n    setContext('selectedItems', selItems);\n}\n\nexport function setConfig() {\n    let config = writable({});\n    setContext('config', config);\n}\n\nexport function setShowContentBrowser() {\n    let showContentBrowser = writable(false);\n    setContext('showContentBrowser', showContentBrowser);\n}\n\nexport function setSelectedUids() {\n    let selUids = writable([]);\n    setContext(\"selectedUids\", selUids);\n}\n","/** Dispatch event on click outside of node */\nexport function clickOutside(node) {\n    const handleClick = (event) => {\n        if (node && !node.contains(event.target)) {\n            node.dispatchEvent(new CustomEvent(\"click_outside\", node));\n        }\n    };\n\n    document.addEventListener(\"click\", handleClick, true);\n\n    return {\n        destroy() {\n            document.removeEventListener(\"click\", handleClick, true);\n        },\n    };\n}\n","/** use Plone resolveIcon to load a SVG icon and replace node with icon code */\nimport utils from \"../../../core/utils.js\";\n\nexport async function resolveIcon(node, { iconName }) {\n\n    async function getIcon(iconName) {\n        const icon = await utils.resolveIcon(iconName)\n        return icon;\n    }\n    const iconCode = await getIcon(iconName);\n    node.outerHTML = iconCode;\n    return {\n        destroy() {},\n    };\n}\n","\n      import API from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      \n      import setAttributes from \"!../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/sass-loader/dist/cjs.js!../../../../node_modules/svelte-loader/index.js?cssPath=/home/runner/work/mockup/mockup/src/pat/contentbrowser/src/ContentBrowser.svelte.0.css!./ContentBrowser.svelte\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = function top_head_insert(el) {\n    // Insert element at the top of <head>\n    // Used for injecting CSS via webpack before any other CSS\n    // Note:\n    // Keep code compatible with IE11 as long as we support it.\n    var first_child = document.head.querySelectorAll(\"*\")[0];\n    if (first_child) {\n        document.head.insertBefore(el, first_child);\n    } else {\n        document.head.append(el);\n    }\n};\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/sass-loader/dist/cjs.js!../../../../node_modules/svelte-loader/index.js?cssPath=/home/runner/work/mockup/mockup/src/pat/contentbrowser/src/ContentBrowser.svelte.0.css!./ContentBrowser.svelte\";\n       export default content && content.locals ? content.locals : undefined;\n","<script>\n    import utils from \"@patternslib/patternslib/src/core/utils\";\n    import { getContext, onMount } from \"svelte\";\n    import * as animateScroll from \"svelte-scrollto\";\n    import { fly } from \"svelte/transition\";\n    import contentStore from \"./ContentStore\";\n    import { clickOutside } from \"./clickOutside\";\n    import { resolveIcon } from \"./resolveIcon.js\";\n    import Upload from \"../../upload/upload\";\n\n    import {\n        currentPath,\n    } from \"./stores.js\";\n    // import Keydown from \"svelte-keydown\";\n\n    animateScroll.setGlobalOptions({\n        scrollX: true,\n        container: \".levelColumns\",\n        duration: 500,\n    });\n\n    // get context stores\n    const config = getContext(\"config\");\n    const showContentBrowser = getContext(\"showContentBrowser\");\n    const selectedItems = getContext(\"selectedItems\");\n    const selectedUids = getContext(\"selectedUids\");\n\n    // initialize content browser store\n    const contentItems = contentStore($config);\n\n    let showUpload = false;\n    let previewItem = { UID: \"\" };\n    let currentLevelData = {};\n\n    let vw = Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0);\n\n    onMount(() => {\n        console.log(\n            `ContentBrowser initialized reactive context config: ${JSON.stringify($config)}`,\n        );\n    });\n\n    async function upload() {\n        previewItem = { UID: \"\" };\n        showUpload = true;\n        await utils.timeout(1);\n        const uploadEl = document.querySelector(\".upload-wrapper\");\n        uploadEl.classList.add(\"pat-upload\");\n        const patUpload = new Upload(uploadEl, {\n            baseUrl: window.base_url,\n            currentPath: $currentPath,\n            relativePath: \"@@fileUpload\",\n            allowPathSelection: false,\n            hiddenInputContainer: \".upload-wrapper\",\n            success: (fileUpload, obj) => {\n                contentItems.get($currentPath, null, true);\n            },\n        });\n    }\n\n    function changePath(item) {\n        showUpload = false;\n        currentLevelData = {};\n        if (item === \"/\") {\n            currentPath.set(item);\n            previewItem = { UID: \"\" };\n        } else if (item.is_folderish) {\n            currentPath.set(item.path);\n            previewItem = { UID: \"\" };\n            currentLevelData = {\n                UID: item.UID,\n                Title: item.Title,\n            };\n        } else {\n            const pathParts = item.path.split(\"/\");\n            const folderPath = pathParts.slice(0, pathParts.length - 1).join(\"/\");\n            currentPath.set(folderPath);\n            previewItem = item;\n        }\n        scrollToRight();\n    }\n\n    async function selectItem(item) {\n        console.log(`add ${JSON.stringify(item)} to ${$config.fieldId}`);\n        selectedItems.update((n) => [...n, item]);\n        selectedUids.update(() => $selectedItems.map((x) => x.UID));\n        $showContentBrowser = false;\n        previewItem = { UID: \"\" };\n        console.log($selectedItems);\n        console.log($selectedUids);\n    }\n\n    function cancelSelection() {\n        $showContentBrowser = false;\n        previewItem = { UID: \"\" };\n    }\n\n    function isSelectable(item) {\n        return $selectedUids.indexOf(item.UID) === -1;\n    }\n\n    function scrollToRight() {\n        const scrollContainer = document.querySelector(\".levelColumns\");\n        if (scrollContainer) {\n            animateScroll.scrollTo({\n                // element: \".levelColumn:last-child\",\n                x: scrollContainer.scrollWidth + 100,\n            });\n        }\n    }\n\n    function itemInPath(item) {\n        const inPath = $currentPath.indexOf(item.path) != -1;\n        return inPath;\n    }\n\n    function filterItems() {\n        console.log($contentItems, this.value);\n        let timeoutId;\n        if (timeoutId) {\n            clearTimeout(timeoutId);\n        }\n        timeoutId = setTimeout(() => {\n            contentItems.get($currentPath, this.value);\n        }, 300);\n    }\n\n    $: {\n        if ($config.vocabularyUrl) {\n            contentItems.get($currentPath);\n        }\n    }\n\n    $: {\n        $contentItems;\n        scrollToRight();\n    }\n\n</script>\n\n<!-- <Keydown paused={!$showContentBrowser} on:Escape={cancelSelection} /> -->\n\n{#if $showContentBrowser}\n    <div class=\"content-browser-position-wrapper\">\n        <nav\n            class=\"content-browser\"\n            transition:fly={{ x: (vw / 100) * 94, opacity: 1 }}\n            on:introend={() => scrollToRight()}\n            use:clickOutside\n            on:click_outside={cancelSelection}\n        >\n            <div class=\"toolBar navbar\">\n                <button\n                    type=\"button\"\n                    class=\"toolbarAction\"\n                    tabindex=\"0\"\n                    on:keydown={() => changePath(\"/\")}\n                    on:click={() => changePath(\"/\")}\n                    ><svg use:resolveIcon={{ iconName: \"house\" }} /></button\n                ><span class=\"path\">{$currentPath}</span>\n                <div class=\"filter\">\n                    <input type=\"text\" name=\"filter\" on:input={filterItems} />\n                    <label for=\"filter\"\n                        ><svg use:resolveIcon={{ iconName: \"search\" }} /></label\n                    >\n                </div>\n                <button\n                    type=\"button\"\n                    class=\"upload btn btn-secondary btn-sm\"\n                    tabindex=\"0\"\n                    on:keydown={upload}\n                    on:click={upload}\n                    ><svg use:resolveIcon={{ iconName: \"upload\" }} /> upload</button\n                >\n                <button\n                    class=\"btn btn-link text-white\"\n                    tabindex=\"0\"\n                    on:click|preventDefault={() => cancelSelection()}\n                    ><svg use:resolveIcon={{ iconName: \"x-circle\" }} /></button\n                >\n            </div>\n            {#await $contentItems}\n                <p>...loading content items</p>\n            {:then levels}\n                <div class=\"levelColumns\">\n                    {#each levels as level, i (level.path)}\n                        <div\n                            class=\"levelColumn{i % 2 == 0 ? ' odd' : ' even'}\"\n                            in:fly|local={{ duration: 300 }}\n                        >\n                            <div class=\"levelToolbar\">\n                                {#if i > 0 && level?.UID}\n                                    <button\n                                        class=\"btn btn-primary btn-sm\"\n                                        disabled={!isSelectable(level)}\n                                        on:click|preventDefault={() => selectItem(level)}\n                                    >\n                                        select\n                                    </button>\n                                {/if}\n                                <div class=\"levelActions\">\n                                    {#if !level.gridView}\n                                    <button class=\"btn btn-link btn-sm grid-view\"\n                                        on:click={() => (level.gridView = true)}\n                                    >\n                                        <svg use:resolveIcon={{ iconName: \"grid\" }} />\n                                    </button>\n                                    {:else}\n                                    <button class=\"btn btn-link btn-sm grid-view\"\n                                        on:click={() => (level.gridView = false)}\n                                    >\n                                        <svg use:resolveIcon={{ iconName: \"list\" }} />\n                                    </button>\n                                    {/if}\n                                </div>\n                            </div>\n                            {#each level.results as item, n}\n                                <div\n                                    class=\"contentItem{n % 2 == 0\n                                        ? ' odd'\n                                        : ' even'}{itemInPath(item)\n                                        ? ' inPath'\n                                        : ''}{previewItem.UID === item.UID\n                                        ? ' currentItem'\n                                        : ''}{!isSelectable(item) ? ' text-muted' : ''}\"\n                                    role=\"button\"\n                                    tabindex=\"0\"\n                                    on:keydown={() => changePath(item)}\n                                    on:click={() => changePath(item)}\n                                >\n                                    {#if level.gridView}\n                                    <div class=\"grid-preview\">\n                                        {#if item.getIcon}\n                                        <img src={`${item.getURL}/@@images/image/thumb`} alt={item.Title}>\n                                        {:else}\n                                        <svg\n                                            use:resolveIcon={{\n                                                iconName: `contenttype/${item.portal_type.toLowerCase().replace(/\\.| /g, \"-\")}`,\n                                            }}\n                                        />\n                                        {/if}\n                                        {item.Title}\n                                    </div>\n                                    {:else}\n                                    <div title={item.portal_type}>\n                                        <svg\n                                            use:resolveIcon={{\n                                                iconName: `contenttype/${item.portal_type.toLowerCase().replace(/\\.| /g, \"-\")}`,\n                                            }}\n                                        />\n                                        {item.Title}\n                                    </div>\n                                    {/if}\n                                    {#if item.is_folderish}\n                                        <svg\n                                            use:resolveIcon={{\n                                                iconName: \"arrow-right-circle\",\n                                            }}\n                                        />\n                                    {/if}\n                                </div>\n                            {/each}\n                        </div>\n                    {/each}\n                    {#if previewItem.UID}\n                        <div class=\"preview\">\n                            <div class=\"levelToolbar\">\n                                <button\n                                    class=\"btn btn-primary btn-sm\"\n                                    disabled={!isSelectable(previewItem)}\n                                    on:click|preventDefault={() => selectItem(previewItem)}\n                                    >select</button\n                                >\n                            </div>\n                            <div class=\"info\">\n                                {#if previewItem.portal_type === \"Image\"}\n                                    <div>\n                                        <img\n                                            src=\"{previewItem.getURL}/@@images/image/preview\"\n                                            alt={previewItem.Title}\n                                        />\n                                    </div>\n                                {/if}\n                                <h4>{previewItem.Title}</h4>\n                                <p>{previewItem.Description}</p>\n                            </div>\n                        </div>\n                    {/if}\n                    {#if showUpload}\n                        <div class=\"upload-wrapper\"></div>\n                    {/if}\n                </div>\n            {:catch error}\n                <p style=\"color: red\">{error.message}</p>\n            {/await}\n        </nav>\n    </div>\n{/if}\n\n<style>\n    .content-browser-position-wrapper {\n        position: fixed;\n        top: 0;\n        right: 0;\n        display: flex;\n        justify-content: end;\n        z-index: 1500;\n        width: 100%;\n        height: 100vh;\n        background-color: rgba(0, 0, 0, 0.25);\n    }\n    .content-browser {\n        height: 100vh;\n        min-width: 550px;\n        background-color: var(--bs-light-bg-subtle);\n        border-left: var(--bs-border-style) var(--bs-border-width) #fff;\n        z-index: 1500;\n        display: flex;\n        flex-direction: column;\n    }\n\n    .toolBar {\n        background-color: var(--bs-primary);\n        padding: 0.325rem 0.75rem;\n        color: var(--bs-light);\n        width: 100%;\n        display: flex;\n        justify-content: start;\n    }\n    .toolBar > .path {\n        padding-right: 1.5rem;\n    }\n    .toolBar > .filter {\n        margin-left: auto;\n    }\n    .toolBar > .upload {\n        margin: 0 1rem 0 2rem;\n    }\n    .toolBar :global(svg) {\n        vertical-align: -0.125em;\n    }\n    .toolbarAction {\n        color: var(--bs-light);\n        background-color: transparent;\n        border: none;\n    }\n\n    .levelColumns {\n        display: flex;\n        flex-wrap: nowrap;\n        width: 100%;\n        overflow-x: auto;\n        flex-grow: 3;\n        border-left: var(--bs-border-style) var(--bs-border-color) var(--bs-border-width);\n    }\n\n    .levelColumn {\n        min-width: 320px;\n        border-right: var(--bs-border-style) var(--bs-border-width)\n            var(--bs-border-color);\n        /* border-top: 5px solid transparent; */\n    }\n\n    .levelToolbar {\n        width: 100%;\n        height: 2.8rem;\n        display: flex;\n        justify-content: space-between;\n        padding: 0.375rem;\n        border-bottom: var(--bs-border-style) var(--bs-border-width)\n            var(--bs-border-color);\n    }\n    .levelToolbar > .levelActions {\n        margin-left: auto;\n    }\n\n    /* .levelColumn.even {\n        border-top: 5px solid skyblue;\n    } */\n\n    /* .levelPath {\n        background: #eee;\n        padding: 0.5rem 1rem;\n        height: 3rem;\n        overflow: hidden;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n    } */\n    .contentItem {\n        /* padding: 1rem 1rem; */\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n        font-size: 90%;\n        min-height: 2rem;\n        padding-right: 0.375rem;\n    }\n    .contentItem.even {\n        background-color: var(--bs-secondary-bg);\n    }\n    .contentItem.inPath {\n        background-color: rgba(var(--bs-primary-rgb), 0.15);\n    }\n    .contentItem.currentItem {\n        background-color: var(--bs-primary);\n        color: var(--bs-body-bg);\n    }\n    .contentItem > * {\n        padding: 0.5rem;\n        white-space: nowrap;\n        max-width: 100%;\n    }\n\n    .contentItem .grid-preview > img {\n        width:95px;\n        height:95px;\n        object-fit:cover;\n        float: left;\n        margin-right: 1rem;\n    }\n    .preview {\n        min-width: 320px;\n        max-width: 500px;\n        min-height: 300px;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n    }\n    .preview .info {\n        padding: 0.5rem;\n        width: 100%;\n    }\n    .preview h4 {\n        font-size: 1.2 rem;\n    }\n    .preview img {\n        max-width: 100%;\n        max-width: 100%;\n        margin-bottom: 0.5rem;\n    }\n\n    .upload-wrapper {\n        padding: 1rem;\n        width: 590px;\n    }\n</style>\n","import { writable, get } from \"svelte/store\";\nimport { pathCache } from \"./stores\";\n\n\nexport default function (config) {\n    const store = writable([]);\n\n    store.request = async ({\n        method = \"GET\",\n        path = null,\n        uids = null,\n        params = null,\n        searchTerm = null,\n        levelInfoPath = null,\n        selectableTypes = [],\n    }) => {\n        let vocabQuery = {\n            criteria: [],\n        };\n        if (path) {\n            vocabQuery = {\n                criteria: [\n                    {\n                        i: \"path\",\n                        o: \"plone.app.querystring.operation.string.path\",\n                        v: `${path}::1`,\n                    },\n                ],\n                sort_on: \"getObjPositionInParent\",\n                sort_order: \"ascending\",\n            };\n        }\n        if (levelInfoPath) {\n            vocabQuery = {\n                criteria: [\n                    {\n                        i: \"path\",\n                        o: \"plone.app.querystring.operation.string.path\",\n                        v: `${levelInfoPath}::0`,\n                    },\n                ],\n            };\n        }\n        if (uids) {\n            vocabQuery = {\n                criteria: [\n                    {\n                        i: \"UID\",\n                        o: \"plone.app.querystring.operation.list.contains\",\n                        v: uids,\n                    },\n                ],\n            };\n        }\n        if(searchTerm) {\n            vocabQuery.criteria.push({\n                i: \"SearchableText\",\n                o: \"plone.app.querystring.operation.string.contains\",\n                v: `${searchTerm}`,\n\n            })\n        }\n        // if(selectableTypes) {\n        //     if(selectableTypes.indexOf(\"Folder\") == -1) {\n        //         // add Folder always to preserve browsing through structure\n        //         selectableTypes.push(\"Folder\");\n        //     }\n        //     // query only selectable types\n        //     vocabQuery.criteria.push({\n        //         i: \"portal_type\",\n        //         o: \"plone.app.querystring.operation.selection.any\",\n        //         v: selectableTypes,\n        //     });\n        // }\n        let url = `${config.vocabularyUrl}&query=${JSON.stringify(\n            vocabQuery\n        )}&attributes=${JSON.stringify(config.attributes)}&batch=${JSON.stringify({\n            page: 1,\n            size: 100,\n        })}`;\n\n        store.update((data) => {\n            delete data.errors;\n            data.loading = true;\n            return data;\n        });\n\n        let headers = new Headers();\n        headers.set(\"Accept\", \"application/json\");\n        const body = params ? JSON.stringify(params) : undefined;\n\n        const response = await fetch(url, { method, body, headers });\n        const json = await response.json();\n\n        if (response.ok) {\n            return json;\n        } else {\n            store.update((data) => {\n                data.loading = false;\n                data.errors = json.errors;\n                return data;\n            });\n            return [];\n        }\n    };\n\n    store.get = async (path, searchTerm, skipCache) => {\n        let parts = path.split(\"/\") || [];\n        const depth = parts.length >= config.maxDepth ? config.maxDepth : parts.length;\n        let paths = [];\n\n        let partsToShow = parts.slice(parts.length - depth, parts.length);\n        let partsToHide = parts.slice(0, parts.length - depth);\n        const pathPrefix = partsToHide.join(\"/\");\n        while (partsToShow.length > 0) {\n            let sub_path = partsToShow.join(\"/\");\n            if (!sub_path.startsWith(\"/\")) sub_path = \"/\" + sub_path;\n            sub_path = pathPrefix + sub_path;\n            const poped = partsToShow.pop();\n            if (poped === \"\") sub_path = \"/\";\n            if (paths.indexOf(sub_path) === -1) paths.push(sub_path);\n        }\n\n        let levels = [];\n        let pathCounter = 0;\n\n        for (var p of paths) {\n            pathCounter++;\n            const isFirstPath = pathCounter == 1;\n            if(typeof skipCache === \"undefined\") {\n                skipCache = isFirstPath && searchTerm;\n            }\n            let level = {};\n            const c = get(pathCache);\n            if (Object.keys(c).indexOf(p) === -1 || skipCache) {\n                let query = {\n                    method: \"GET\"\n                };\n                let queryPath = config.basePath;\n                if (queryPath === \"/\") {\n                    queryPath = \"\";\n                }\n                queryPath = queryPath + p;\n                query[\"path\"] = queryPath;\n                if(isFirstPath && searchTerm){\n                    query[\"searchTerm\"] = \"*\" + searchTerm + \"*\";\n                }\n                if(config.selectableTypes.length) {\n                    query[\"selectableTypes\"] = config.selectableTypes;\n                }\n                level = await store.request(query);\n                // do not update cache when searching\n                if(!skipCache) {\n                    const levelInfo = await store.request({\n                        \"levelInfoPath\": queryPath,\n                    });\n                    if (levelInfo.total) {\n                        level.UID = levelInfo.results[0].UID;\n                        level.Title = levelInfo.results[0].Title;\n                    }\n                    level.gridView = false;\n                    level.path = p;\n                    pathCache.update((n) => {\n                        n[p] = level;\n                        return n;\n                    });\n                }\n            } else {\n                level = c[p];\n            }\n            levels = [level, ...levels];\n        }\n        store.set(levels);\n    };\n\n    return store;\n}\n","\n      import API from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      \n      import setAttributes from \"!../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/sass-loader/dist/cjs.js!../../../../node_modules/svelte-loader/index.js?cssPath=/home/runner/work/mockup/mockup/src/pat/contentbrowser/src/SelectedItems.svelte.1.css!./SelectedItems.svelte\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = function top_head_insert(el) {\n    // Insert element at the top of <head>\n    // Used for injecting CSS via webpack before any other CSS\n    // Note:\n    // Keep code compatible with IE11 as long as we support it.\n    var first_child = document.head.querySelectorAll(\"*\")[0];\n    if (first_child) {\n        document.head.insertBefore(el, first_child);\n    } else {\n        document.head.append(el);\n    }\n};\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/sass-loader/dist/cjs.js!../../../../node_modules/svelte-loader/index.js?cssPath=/home/runner/work/mockup/mockup/src/pat/contentbrowser/src/SelectedItems.svelte.1.css!./SelectedItems.svelte\";\n       export default content && content.locals ? content.locals : undefined;\n","<script>\n    import { getContext, onMount } from \"svelte\";\n    import { flip } from \"svelte/animate\";\n    import { request } from \"./api.js\";\n    import { resolveIcon } from \"./resolveIcon.js\";\n\n    let ref;\n    let initializing = true;\n\n    // get reactive context config\n    const config = getContext(\"config\");\n    const fieldId = $config.fieldId;\n    const selectedItemsNode = document.getElementById(fieldId);\n\n    console.log(`${fieldId} get context config: ${JSON.stringify($config)}`);\n\n    // get reactive context store\n    const selectedItems = getContext(\"selectedItems\");\n    const selectedUids = getContext(\"selectedUids\");\n\n    console.log(`${fieldId} initialized reactive context store`);\n\n    // showContentBrowser reactive state\n    const showContentBrowser = getContext(\"showContentBrowser\");\n\n    function event_dispatch(name, detail) {\n        const event = new CustomEvent(name, {\n            detail: {\n                content: detail,\n            },\n            bubbles: true,\n        });\n        document.dispatchEvent(event);\n    }\n\n    onMount(async () => {\n        console.log(`${fieldId} start onMount()`);\n        await initializeSelectedItemsStore();\n        console.log(\n            `${fieldId} end onMount(). $selectedItems: ${JSON.stringify($selectedItems)}`,\n        );\n        initializing = false;\n    });\n\n    function unselectItem(i) {\n        selectedItems.update((n) => {\n            n.splice(i, 1);\n            return n;\n        });\n        selectedUids.update(() => $selectedItems.map((x) => x.UID));\n        console.log(`Unselected i=${i}, new value: ${JSON.stringify($selectedUids)}`);\n    }\n\n    async function getSelectedItemsUids(uids) {\n        console.log(`${fieldId} getSelectedItemsUids ${uids}`);\n        if (!uids) {\n            return [];\n        }\n        const selectedItemsFromUids = await request({\n            method: \"GET\",\n            vocabularyUrl: $config.vocabularyUrl,\n            attributes: $config.attributes,\n            uids: uids,\n        });\n        return (await selectedItemsFromUids?.results) || [];\n    }\n\n    async function initializeSelectedItemsStore() {\n        const initialValue = $config.selection.length\n            ? $config.selection\n            : selectedItemsNode?.value\n              ? selectedItemsNode.value.split($config.separator)\n              : [];\n\n        if (!initialValue.length) {\n            return;\n        }\n\n        const selectedItemsUids = await getSelectedItemsUids(initialValue);\n        $selectedItems = selectedItemsUids;\n        selectedUids.update(() => selectedItemsUids.map((x) => x.UID));\n\n        if ($config.maximumSelectionSize !== 1 && $selectedItems.length > 1) {\n            let Sortable = (await import(\"sortablejs\")).default;\n            Sortable.create(\n                selectedItemsNode.previousSibling.querySelector(\n                    \".content-browser-selected-items\",\n                ),\n                {\n                    draggable: \".selected-item\",\n                    animation: 200,\n                    onUpdate: (e) => {\n                        let sortedUuids = [];\n                        for (const el of e.target.children) {\n                            sortedUuids.push(el.dataset[\"uuid\"]);\n                        }\n                        setNodeValue(sortedUuids);\n                    },\n                },\n            );\n        }\n    }\n\n    function selectedUidsFromSelectedItems() {\n        let items = [];\n        $selectedItems.forEach((item) => {\n            items.push(item.UID);\n        });\n        return items;\n    }\n\n    function setNodeValue(selectedUids) {\n        const node_val = selectedUids.join($config.separator);\n        console.log(`set value of ${fieldId} to ${node_val}`);\n        selectedItemsNode.value = node_val;\n    }\n\n    $: {\n        $selectedItems;\n        console.log(\n            `${fieldId} reactive change in $selectedItems: ${JSON.stringify($selectedItems)}`,\n        );\n        if ($selectedItems.length || !initializing) {\n            setNodeValue(selectedUidsFromSelectedItems());\n            event_dispatch(\"updateSelection\", selectedUids);\n        }\n    }\n</script>\n\n<div class=\"content-browser-selected-items-wrapper\" bind:this={ref}>\n    <!-- {maxSelectionsize} -->\n    <div class=\"content-browser-selected-items\">\n        {#if $selectedItems}\n            {#each $selectedItems as selItem, i (selItem.UID)}\n                <div\n                    class=\"selected-item\"\n                    animate:flip={{ duration: 500 }}\n                    data-uuid={selItem.UID}\n                >\n                    <div class=\"item-info\">\n                        <!-- svelte-ignore a11y-missing-attribute -->\n                        <button\n                            class=\"btn btn-link btn-sm link-secondary\"\n                            on:click={() => unselectItem(i)}\n                            ><svg use:resolveIcon={{ iconName: \"x-circle\" }} /></button\n                        >\n                        <div>\n                            <span class=\"item-title\">{selItem.Title}</span><br />\n                            <span class=\"small\">{selItem.path}</span>\n                        </div>\n                    </div>\n                    {#if selItem.getURL && (selItem.getIcon || selItem.portal_type === \"Image\")}<img\n                            src=\"{selItem.getURL}/@@images/image/mini\"\n                            alt={selItem.Title}\n                        />{/if}\n                </div>\n            {/each}\n        {/if}\n        {#if !$selectedItems}\n            <p>loading selected items</p>\n        {/if}\n    </div>\n    <button\n        class=\"btn btn-primary\"\n        style=\"border-radius:0 var(--bs-border-radius) var(--bs-border-radius) 0\"\n        disabled={$config.maximumSelectionSize > 0 &&\n            ($selectedItems.length || 0) >= $config.maximumSelectionSize}\n        on:click|preventDefault={() => ($showContentBrowser = true)}\n        >{#if config.maximumSelectionSize == 1}choose{:else}add{/if}</button\n    >\n</div>\n\n<style>\n    .content-browser-selected-items-wrapper {\n        display: flex;\n        align-items: start;\n    }\n    .content-browser-selected-items {\n        list-style: none;\n        background-color: var(--bs-body-bg);\n        border-radius: var(--bs-border-radius) 0 0 var(--bs-border-radius);\n        border: var(--bs-border-style) var(--bs-border-color) var(--bs-border-width);\n        min-height: 2.4rem;\n        padding: 0.5rem 0.5rem 0 0.5rem;\n        flex: 1 1 auto;\n    }\n    .content-browser-selected-items .selected-item {\n        border-radius: var(--bs-border-radius);\n        background-color: var(--bs-tertiary-bg);\n        border: var(--bs-border-style) var(--bs-border-color) var(--bs-border-width);\n        padding: 0.5rem;\n        margin-bottom: 0.5rem;\n        display: flex;\n        flex-wrap: nowrap;\n        align-items: start;\n        justify-content: space-between;\n        cursor: move;\n    }\n    .content-browser-selected-items .selected-item > * {\n        margin-right: 0.5rem;\n        display: block;\n    }\n    .content-browser-selected-items .selected-item button {\n        cursor: pointer;\n        padding: 0 0.375rem 0.374rem 0;\n    }\n    .content-browser-selected-items .selected-item .item-info {\n        display: flex;\n        align-items: start;\n    }\n    .content-browser-selected-items .selected-item > img {\n        object-fit: cover;\n        width: 95px;\n        height: 95px;\n    }\n</style>\n","import { getContext } from \"svelte\";\n\nexport async function request({\n    method = \"GET\",\n    vocabularyUrl = \"\",\n    attributes = {},\n    path = null,\n    uids = null,\n    params = null,\n}) {\n    let vocabQuery;\n\n    if (path) {\n        vocabQuery = {\n            criteria: [\n                {\n                    i: \"path\",\n                    o: \"plone.app.querystring.operation.string.path\",\n                    v: `${path}::1`,\n                },\n            ],\n            sort_on: \"getObjPositionInParent\",\n            sort_order: \"ascending\",\n        };\n    }\n    if (uids) {\n        vocabQuery = {\n            criteria: [\n                {\n                    i: \"UID\",\n                    o: \"plone.app.querystring.operation.list.contains\",\n                    v: uids,\n                },\n            ],\n        };\n    }\n    let url = `${vocabularyUrl}&query=${JSON.stringify(\n        vocabQuery\n    )}&attributes=${JSON.stringify(attributes)}&batch=${JSON.stringify({\n        page: 1,\n        size: 100,\n    })}`;\n\n    let headers = new Headers();\n    // headers.set(\"Content-type\", \"application/json\");\n    headers.set(\"Accept\", \"application/json\");\n    const body = params ? JSON.stringify(params) : undefined;\n\n    const response = await fetch(url, { method, body, headers });\n    const json = await response.json();\n\n    if (response.ok) {\n        return json;\n    } else {\n        return json.errors;\n    }\n}\n","<script>\n    import { getContext } from \"svelte\";\n    import ContentBrowser from \"./ContentBrowser.svelte\";\n    import SelectedItems from \"./SelectedItems.svelte\";\n    import {\n        setConfig,\n        setSelectedItems,\n        setSelectedUids,\n        setShowContentBrowser,\n    } from \"./stores\";\n\n    export let maxDepth;\n    export let basePath = \"\";\n    export let selectableTypes = [];\n    export let maximumSelectionSize = -1;\n    export let attributes;\n    export let separator;\n    export let selection = [];\n    export let vocabularyUrl;\n    export let fieldId;\n\n    // initialize context stores\n    setConfig();\n    setSelectedItems();\n    setShowContentBrowser();\n    setSelectedUids();\n\n    let config = getContext(\"config\");\n    $config = {\n        maxDepth: maxDepth,\n        basePath: basePath,\n        selectableTypes: selectableTypes,\n        maximumSelectionSize: maximumSelectionSize,\n        attributes: attributes,\n        separator: separator,\n        selection: selection,\n        vocabularyUrl: vocabularyUrl,\n        fieldId: fieldId,\n    }\n\n    console.log(`Initialized App<${fieldId}> with config ${JSON.stringify($config)}`);\n</script>\n\n<ContentBrowser />\n<SelectedItems />\n"],"names":["___CSS_LOADER_EXPORT___","push","module","id","currentPath","writable","pathCache","clickOutside","node","handleClick","event","contains","target","dispatchEvent","CustomEvent","document","addEventListener","destroy","removeEventListener","async","resolveIcon","_ref","iconName","iconCode","utils","getIcon","outerHTML","options","styleTagTransform","setAttributes","insert","el","first_child","head","querySelectorAll","insertBefore","append","domAPI","insertStyleElement","locals","x","opacity","message","path","UID","Title","portal_type","toLowerCase","replace","getURL","gridView","is_folderish","results","duration","Description","scrollX","container","config","showContentBrowser","selectedItems","selectedUids","contentItems","store","request","method","uids","params","searchTerm","levelInfoPath","selectableTypes","vocabQuery","criteria","i","o","v","sort_on","sort_order","url","vocabularyUrl","JSON","stringify","attributes","page","size","update","data","errors","loading","headers","Headers","set","body","undefined","response","fetch","json","ok","get","skipCache","parts","split","depth","length","maxDepth","paths","partsToShow","slice","pathPrefix","join","sub_path","startsWith","pop","indexOf","levels","pathCounter","p","isFirstPath","level","c","Object","keys","query","queryPath","basePath","levelInfo","total","n","$config","showUpload","previewItem","currentLevelData","vw","Math","max","documentElement","clientWidth","window","innerWidth","changePath","item","pathParts","folderPath","scrollToRight","selectItem","console","log","fieldId","$selectedItems","map","$showContentBrowser","$selectedUids","cancelSelection","scrollContainer","querySelector","scrollWidth","$currentPath","timeout","uploadEl","classList","add","baseUrl","base_url","relativePath","allowPathSelection","hiddenInputContainer","success","fileUpload","obj","timeoutId","$contentItems","this","value","clearTimeout","setTimeout","maximumSelectionSize","ref","initializing","selectedItemsNode","getElementById","unselectItem","splice","setNodeValue","node_val","separator","initialValue","selection","selectedItemsUids","selectedItemsFromUids","getSelectedItemsUids","default","create","previousSibling","draggable","animation","onUpdate","e","sortedUuids","children","dataset","initializeSelectedItemsStore","items","forEach","selectedUidsFromSelectedItems","name","detail","content","bubbles","event_dispatch","setContext","setConfig","selItems","setSelectedItems","setShowContentBrowser","selUids","setSelectedUids"],"sourceRoot":""}