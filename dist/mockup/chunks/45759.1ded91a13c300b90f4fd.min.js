"use strict";(self.webpackChunk_plone_mockup=self.webpackChunk_plone_mockup||[]).push([[45759],{45759:function(t,e,o){o.r(e),o.d(e,{default:function(){return a}});class s{constructor(){return s.instance||(this._data={},s.instance=this),s.instance}set(t,e){this._data[t]=e}get(t){return this._data[t]}get settings(){return this._data.settings}set settings(t){this._data.settings=t}get experimental(){return this._data.experimental}set experimental(t){this._data.experimental=t}get blocks(){return this._data.blocks}set blocks(t){this._data.blocks=t}get views(){return this._data.views}set views(t){this._data.views=t}get widgets(){return this._data.widgets}set widgets(t){this._data.widgets=t}get addonReducers(){return this._data.addonReducers}set addonReducers(t){this._data.addonReducers=t}get addonRoutes(){return this._data.addonRoutes}set addonRoutes(t){this._data.addonRoutes=t}get slots(){return this._data.slots}set slots(t){this._data.slots=t}get components(){return this._data.components}set components(t){this._data.components=t}get utilities(){return this._data.utilities}set utilities(t){this._data.utilities=t}getComponent(t){if("object"==typeof t){const{name:e,dependencies:o=""}=t;let s="";o&&Array.isArray(o)?s=o.join("+"):"string"==typeof o&&(s=o);const n=`${e}${s?`|${s}`:""}`;return this._data.components[n]||{}}{const e=t;return this._data.components[e]||{}}}registerComponent(t){const{name:e,component:o,dependencies:s=""}=t;let n="";if(!o)throw new Error("No component provided");{s&&Array.isArray(s)?n=s.join("+"):"string"==typeof s&&(n=s);const t=`${e}${n?`|${n}`:""}`;this._data.components[t]={component:o};try{this._data.components[t].component.displayName||"function"!=typeof this._data.components[t].component||(this._data.components[t].component.displayName=e)}catch(t){console.warn(`Not setting the component displayName because ${t}`)}}}getSlot(t,e){if(!this._data.slots[t])return;const{slots:o,data:s}=this._data.slots[t],n=[];for(const t of o){let o;const a=s[t].slice().reverse();for(const s of a){let a=!1;if(s.predicates?a=s.predicates.every((t=>t(e))):o=s,a){n.push({component:s.component,name:t}),o=void 0;break}}o&&n.push({component:o.component,name:t})}return n}registerSlotComponent(t){const{name:e,component:o,predicates:s,slot:n}=t;if(!o)throw new Error("No component provided");if(!s){const t=this._data.slots?.[n]?.data?.[e]?.find((t=>{let{predicates:e}=t;return!e}));if(t&&o!==t.component)throw new Error(`There is already registered a component ${e} for the slot ${n}. You can only register one slot component with no predicates per slot.`)}let a=this._data.slots[n];a||(this._data.slots[n]={slots:[],data:{}},a=this._data.slots[n]),a.data[e]||(a.data[e]=[]);const i=a.data[e];a.slots.includes(e)||a.slots.push(e);const r={component:o,predicates:s};try{r.component.displayName||"function"!=typeof r?.component||(r.component.displayName=e)}catch(t){console.warn(`Not setting the slot component displayName because ${t}`)}i.push(r)}getSlotComponent(t,e){const o=this._data.slots[t];if(!t||!o)throw new Error(`No slot ${t} found`);const s=o.data[e];if(!s)throw new Error(`No slot component ${e} in slot ${t} found`);return s}getSlotComponents(t){const e=this._data.slots[t];if(!t||!e)throw new Error(`No slot ${t} found`);return e.slots}reorderSlotComponent(t){let{slot:e,name:o,position:s,action:n,target:a}=t;if(!s&&!n)throw new Error("At least a position or action is required as argument");if(s&&n)throw new Error("You should provide only one of position or action as arguments");if(("after"==n||"before"==n)&&!a)throw new Error("No action target set. You should provide the name of a slot component as target when action is 'after' or 'before'.");const i=this._data.slots[e];if(!e||!i)throw new Error(`No slot ${e} found`);const r=i.slots.indexOf(o),c=Array.from(i.slots),[d]=c.splice(r,1);if(n){let t=0;switch(a&&(t=i.slots.indexOf(a)),n){case"after":if(t<r){c.splice(t+1,0,d);break}c.splice(t,0,d);break;case"before":if(t>r){c.splice(t-1,0,d);break}c.splice(t,0,d);break;case"last":c.push(d);break;case"first":c.unshift(d)}}s&&c.splice(s,0,d),i.slots=c}unRegisterSlotComponent(t,e,o){const s=this._data.slots[t];if(!t||!s)throw new Error(`No slot ${t} found`);const n=s.data[e];if(!n)throw new Error(`No slot component ${e} in slot ${t} found`);const a=n.slice();s.data[e]=a.splice(o,1)}registerUtility(t){const{name:e,type:o,method:s,dependencies:n={}}=t;let a="";if(!s)throw new Error("No method provided");a=Object.keys(n).sort().map((t=>`${t}:${n[t]}`)).join("+");const i=`${a?`|${a}`:""}${e}`;let r=this._data.utilities[o];r||(this._data.utilities[o]={},r=this._data.utilities[o]),r[i]={method:s}}getUtility(t){const{name:e,type:o,dependencies:s={}}=t;let n="";n=Object.keys(s).map((t=>`${t}:${s[t]}`)).join("+");const a=`${n?`|${n}`:""}${e}`;return this._data.utilities[o][a]||{}}getUtilities(t){const{type:e,dependencies:o={}}=t;let s="";s=Object.keys(o).map((t=>`${t}:${o[t]}`)).join("+");const n=""+(s?`|${s}`:"");return Object.keys(this._data.utilities[e]).filter((t=>t.startsWith(n))).map((t=>this._data.utilities[e][t]))}}const n=new s;Object.freeze(n);var a=n}}]);
//# sourceMappingURL=45759.1ded91a13c300b90f4fd.min.js.map